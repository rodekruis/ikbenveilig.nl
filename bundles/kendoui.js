(function(n,t){function ot(){}function nr(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=n.charAt(0),r=n.substring(1);return i==="="?"+("+r+")+":i===":"?"+e("+r+")+":";"+n+";o+="}function f(n){return n<10?"0"+n:n}function gi(t){var e=n.browser,f,r,o;if(t.parent().hasClass("k-animation-container"))r=t.parent(".k-animation-container"),o=r[0].style,r.is(":hidden")&&r.show(),f=g.test(o.width)||g.test(o.height),f||r.css({width:t.outerWidth(),height:t.outerHeight()});else{var v=t.css(i.support.transitions.css+"box-shadow")||t.css("box-shadow"),u=v?v.match(ci)||[0,0,0,0,0]:[0,0,0,0,0],s=a.max(+u[3],+(u[4]||0)),h=-u[1]+s,y=+u[1]+s,p=+u[2]+s,c=t[0].style.width,l=t[0].style.height,w=g.test(c),b=g.test(l);e.opera&&(h=y=p=5),f=w||b,w||(c=t.outerWidth()),b||(l=t.outerHeight()),t.wrap(n("<div/>").addClass("k-animation-container").css({width:c,height:l,marginLeft:-h,paddingLeft:h,paddingRight:y,paddingBottom:p})),f&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return e.msie&&a.floor(e.version)<=7&&t.css({zoom:1}),t.parent()}function di(n){for(var t=1,i=arguments.length,t=1;t<i;t++)pt(n,arguments[t]);return n}function pt(n,t){var r,i,u,f;for(r in t)i=t[r],u=typeof i,u===h&&i!==null&&i.constructor!==Array?i instanceof Date?n[r]=new Date(i.getTime()):(f=n[r],n[r]=typeof f===h?f||{}:{},pt(n[r],i)):u!==k&&(n[r]=i);return n}function ki(n){var i=0,t;for(t in n)n.hasOwnProperty(t)&&t!="toJSON"&&i++;return i}function bi(t){return n.trim(n(t).contents().filter(function(){return this.nodeType!=8}).html())===""}function wi(n,t){var i,u,f,e;return(t||(t="offset"),i=n[t](),u=r.mobileOS,r.touch&&u.ios&&u.flatVersion<410&&(f=t=="offset"?i:n.offset(),e=i.left==f.left&&i.top==f.top,e))?{top:i.top-window.scrollY,left:i.left-window.scrollX}:i}function pi(n){var t={};return v(typeof n=="string"?n.split(" "):n,function(n){t[n]=this}),t}function bt(n,t,i,r){return typeof n===u&&(rt(t)&&(r=t,t=400,i=!1),rt(i)&&(r=i,i=!1),typeof t===vt&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),e({effects:{},duration:400,reverse:!1,init:b,teardown:b,hide:!1,show:!1},n,{completeCallback:n.complete,complete:b})}function kt(t,i,r,u,f){return t.each(function(t,e){e=n(e),e.queue(function(){d.promise(e,bt(i,r,u,f))})}),t}function yi(n,t,i,r,u,f){return d.transitionPromise(n,t,bt(i,r,u,f))}function it(n,t,i,r){return t&&(t=t.split(" "),v(t,function(t,i){n.toggleClass(i,r)})),n}function vi(n){return(""+n).replace(gt,"&amp;").replace(si,"&lt;").replace(ti,"&gt;")}function ut(r,u){var f;return u.indexOf("data")===0&&(u=u.substring(4),u=u.charAt(0).toLowerCase()+u.substring(1)),u=u.replace(ir,"-$1"),f=r.getAttribute("data-"+i.ns+u),f===null?f=t:f==="null"?f=null:f==="true"?f=!0:f==="false"?f=!1:isNaN(parseFloat(f))?fi.test(f)&&!tr.test(f)&&(f=n.parseJSON(f)):f=parseFloat(f),f}function yt(r,u){var o={},e,f;for(e in u)f=ut(r,e),f!==t&&(ui.test(e)&&(f=i.template(n("#"+f).html())),o[e]=f);return o}var i=window.kendo=window.kendo||{},e=n.extend,v=n.each,c=n.proxy,ai=n.isArray,b=n.noop,rt=n.isFunction,a=Math,l,p=window.JSON||{},r={},g=/%/,li=/\{(\d+)(:[^\}]+)?\}/g,ci=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,s="function",u="string",y="number",h="object",w="null",vt="boolean",k="undefined",at={},lt={},ct=[].slice,o=window.Globalize,nt,ht,d,et,ft,st,dt,tt,wt;ot.extend=function(n){var r=function(){},t,u=this,i=n&&n.init?n.init:function(){u.apply(this,arguments)},f;r.prototype=u.prototype,f=i.fn=i.prototype=new r;for(t in n)f[t]=typeof n[t]!==h||n[t]instanceof Array||n[t]===null?n[t]:e(!0,{},r.prototype[t],n[t]);return f.constructor=i,i.extend=u.extend,i},nt=ot.extend({init:function(){this._events={}},bind:function(n,t,i){for(var f=this,o=typeof n===u?[n]:n,h,r,l=typeof t===s,c,e=0,a=o.length;e<a;e++)n=o[e],r=l?t:t[n],r&&(i&&(h=r,r=function(){f.unbind(n,r),h.apply(f,arguments)}),c=f._events[n]=f._events[n]||[],c.push(r));return f},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var i=this,e=typeof n===u?[n]:n,r,h=typeof t===s,o,f=0,c=e.length;f<c;f++)n=e[f],r=h?t:t[n],r&&(o=i._events[n]=i._events[n]||[],o.unshift(r));return i},trigger:function(n,t){var u=this,i=u._events[n],r,e,f=!1;if(i)for(t=t||{},t.sender=u,t.preventDefault=function(){f=!0},t.isDefaultPrevented=function(){return f},i=i.slice(),r=0,e=i.length;r<e;r++)i[r].call(u,t);return f},unbind:function(n,t){var u=this,r=u._events[n],i,f;if(r)if(t)for(i=0,f=r.length;i<f;i++)r[i]===t&&r.splice(i,1);else u._events[n]=[];return u}});var ri=/^\w+/,hi=/\$\{([^}]*)\}/g,oi=/\\\}/g,ei=/__CURLY__/g,ii=/\\#/g,ni=/__SHARP__/g;l={paramName:"data",useWithBlock:!0,render:function(n,t){for(var r="",i=0,u=t.length;i<u;i++)r+=n(t[i]);return r},compile:function(t,r){var s=e({},this,r),h=s.paramName,l=h.match(ri)[0],c=s.useWithBlock,u="var o,e=kendo.htmlEncode;",o,f;if(rt(t))return t.length===2?function(i){return t(n,{data:i}).join("")}:t;for(u+=c?"with("+h+"){":"",u+="o=",o=t.replace(oi,"__CURLY__").replace(hi,"#=e($1)#").replace(ei,"}").replace(ii,"__SHARP__").split("#"),f=0;f<o.length;f++)u+=nr(o[f],f%2==0);u+=c?";}":";",u+="return o;",u=u.replace(ni,"#");try{return new Function(l,u)}catch(a){throw new Error(i.format("Invalid template:'{0}' Generated code:'{1}'",t,u));}}},function(){function e(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=c[n];return typeof t===u?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function i(f,o){var a,b,v,d,g=n,p,c=o[f],k;if(c&&typeof c===h&&typeof c.toJSON===s&&(c=c.toJSON(f)),typeof t===s&&(c=t.call(o,f,c)),k=typeof c,k===u)return e(c);if(k===y)return isFinite(c)?String(c):w;if(k===vt||k===w)return String(c);if(k===h){if(!c)return w;if(n+=r,p=[],l.apply(c)==="[object Array]"){for(d=c.length,a=0;a<d;a++)p[a]=i(a,c)||w;return v=p.length===0?"[]":n?"[\n"+n+p.join(",\n"+n)+"\n"+g+"]":"["+p.join(",")+"]",n=g,v}if(t&&typeof t===h)for(d=t.length,a=0;a<d;a++)typeof t[a]===u&&(b=t[a],v=i(b,c),v&&p.push(e(b)+(n?": ":":")+v));else for(b in c)Object.hasOwnProperty.call(c,b)&&(v=i(b,c),v&&p.push(e(b)+(n?": ":":")+v));return v=p.length===0?"{}":n?"{\n"+n+p.join(",\n"+n)+"\n"+g+"}":"{"+p.join(",")+"}",n=g,v}}var o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t,l={}.toString;typeof Date.prototype.toJSON!==s&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?n.getUTCFullYear()+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof p.stringify!==s&&(p.stringify=function(f,e,o){var c;if(n="",r="",typeof o===y)for(c=0;c<o;c+=1)r+=" ";else typeof o===u&&(r=o);if(t=e,e&&typeof e!==s&&(typeof e!==h||typeof e.length!==y))throw new Error("JSON.stringify");return i("",{"":f})})}(),function(){function v(n){if(n){if(n.numberFormat)return n;if(typeof n===u){var t=i.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function p(n){return n&&(n=v(n)),n||i.cultures.current}function k(n,i,r){r=p(r);var u=r.calendars.standard,e=u.days,o=u.months;return i=u.patterns[i]||i,i.replace(g,function(i){var r;return i==="d"?r=n.getDate():i==="dd"?r=f(n.getDate()):i==="ddd"?r=e.namesAbbr[n.getDay()]:i==="dddd"?r=e.names[n.getDay()]:i==="M"?r=n.getMonth()+1:i==="MM"?r=f(n.getMonth()+1):i==="MMM"?r=o.namesAbbr[n.getMonth()]:i==="MMMM"?r=o.names[n.getMonth()]:i==="yy"?r=f(n.getFullYear()%100):i==="yyyy"?r=n.getFullYear():i==="h"?r=n.getHours()%12||12:i==="hh"?r=f(n.getHours()%12||12):i==="H"?r=n.getHours():i==="HH"?r=f(n.getHours()):i==="m"?r=n.getMinutes():i==="mm"?r=f(n.getMinutes()):i==="s"?r=n.getSeconds():i==="ss"?r=f(n.getSeconds()):i==="f"?r=a.floor(n.getMilliseconds()/100):i==="ff"?r=a.floor(n.getMilliseconds()/10):i==="fff"?r=n.getMilliseconds():i==="tt"&&(r=n.getHours()<12?u.AM[0]:u.PM[0]),r!==t?r:i.slice(1,i.length-1)})}function d(i,u,f){f=p(f);var c=f.numberFormat,et=c.groupSize[0],ct=c[h],at=c[r],lt=c.decimals,dt=c.pattern[0],wt=[],vt,ut,ft,pt,yt,ht=i<0,w,g,k,ti,bt=n,a=n,o,rt,y,kt,gt,d,v,l,ni,ot=-1,st;if(i===t)return n;if(!isFinite(i))return i;if(!u)return f.name.length?i.toLocaleString():i.toString();if(yt=nt.exec(u),yt){if(u=yt[1].toLowerCase(),ut=u==="c",ft=u==="p",(ut||ft)&&(c=ut?c.currency:c.percent,et=c.groupSize[0],ct=c[h],at=c[r],lt=c.decimals,vt=c.symbol,dt=c.pattern[ht?0:1]),pt=yt[2],pt&&(lt=+pt),u==="e")return pt?i.toExponential(lt):i.toExponential();if(ft&&(i*=100),i=i.toFixed(lt),i=i.split(r),w=i[0],g=i[1],ht&&(w=w.substring(1)),a=w,k=w.length,k>=et)for(a=n,o=0;o<k;o++)o>0&&(k-o)%et==0&&(a+=ct),a+=w.charAt(o);if(g&&(a+=at+g),u==="n"&&!ht)return a;for(i=n,o=0,rt=dt.length;o<rt;o++)y=dt.charAt(o),i+=y==="n"?a:y==="$"||y==="%"?vt:y;return i}if(ht&&(i=-i),u=u.split(";"),ht&&u[1])u=u[1],gt=!0;else if(i===0){if(u=u[2]||u[0],u.indexOf(e)==-1&&u.indexOf(s)==-1)return u}else u=u[0];if((u.indexOf("'")>-1||u.indexOf('"')>-1)&&(u=u.replace(tt,function(n){return wt.push(n),b})),ut=u.indexOf("$")!=-1,ft=u.indexOf("%")!=-1,ft&&(i*=100),(ut||ft)&&(c=ut?c.currency:c.percent,et=c.groupSize[0],ct=c[h],at=c[r],lt=c.decimals,vt=c.symbol),kt=u.indexOf(h)>-1,kt&&(u=u.replace(it,n)),d=u.indexOf(r),rt=u.length,d!=-1?(l=u.lastIndexOf(s),v=u.lastIndexOf(e),g=i.toString().split(r)[1]||n,v>l&&g.length>v-l?o=v:l!=-1&&l>=d&&(o=l),o&&(i=i.toFixed(o-d))):i=i.toFixed(0),v=u.indexOf(e),ni=l=u.indexOf(s),ot=v==-1&&l!=-1?l:v!=-1&&l==-1?v:v>l?l:v,v=u.lastIndexOf(e),l=u.lastIndexOf(s),st=v==-1&&l!=-1?l:v!=-1&&l==-1?v:v>l?v:l,ot==rt&&(st=ot),ot!=-1){if(a=i.toString().split(r),w=a[0],g=a[1]||n,k=w.length,ti=g.length,kt)if(k===et&&k<d-ni)w=ct+w;else if(k>et){for(a=n,o=0;o<k;o++)o>0&&(k-o)%et==0&&(a+=ct),a+=w.charAt(o);w=a}for(i=u.substring(0,ot),ht&&!gt&&(i+="-"),o=ot;o<rt;o++){if(y=u.charAt(o),d==-1){if(st-o<k){i+=w;break}}else if(l!=-1&&l<o&&(bt=n),d-o<=k&&d-o>-1&&(i+=w,o=d),d===o){i+=(g?at:n)+g,o+=st-d+1;continue}y===s?(i+=y,bt=y):y===e&&(i+=bt)}if(st>=ot&&(i+=u.substring(st+1)),ut||ft){for(a=n,o=0,rt=i.length;o<rt;o++)y=i.charAt(o),a+=y==="$"||y==="%"?vt:y;i=a}if(wt[0])for(rt=wt.length,o=0;o<rt;o++)i=i.replace(b,wt[o])}return i}var g=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,nt=/^(n|c|p|e)(\d*)$/i,tt=/["'].*?["']/g,it=/\,/g,n="",r=".",h=",",e="#",s="0",b="??",w="en-US",l;i.cultures={"en-US":{name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0}}}},i.culture=function(n){var u=i.cultures,r;if(n!==t)r=v(n)||u[w],r.calendar=r.calendars.standard,u.current=r;else return u.current},i.findCulture=v,i.getCulture=p,i.culture(w),l=function(n,i,r){if(i){if(n instanceof Date)return k(n,i,r);if(typeof n===y)return d(n,i,r)}return n!==t?n:""},o&&(l=c(o.format,o)),i.format=function(n){var t=arguments;return n.replace(li,function(n,i,r){var u=t[parseInt(i,10)+1];return l(u,r?r.substring(1):"")})},i._extractFormat=function(n){return n.slice(0,3)==="{0:"&&(n=n.slice(3,n.length-1)),n},i.toString=l}(),function(){function t(n,t,i){return!(n>=t&&n<=i)}function e(n){return n.charAt(0)}function r(t){return n.map(t,e)}function s(n,i,u){if(!n)return null;var s=function(n){for(var t=0;i[p]===n;)t++,p++;return t>0&&(p-=1),t},v=function(t){var r=new RegExp("^\\d{1,"+t+"}"),i=n.substr(c,t).match(r);return i?(i=i[0],c+=i.length,parseInt(i,10)):null},rt=function(t){for(var i=0,f=t.length,r,u;i<f;i++)if(r=t[i],u=r.length,n.substr(c,u)==r)return c+=u,i+1;return null},g=function(){var t=!1;return n.charAt(c)===i[p]&&(c++,t=!0),t},d=u.calendars.standard,y=null,k=null,w=null,o=null,b=null,tt=null,nt=null,p=0,c=0,ot=!1,yt=new Date,st=yt.getFullYear(),e,f,lt,ht,ct,at,vt,h,ut,ft,et,it;for(i||(i="d"),ht=d.patterns[i],ht&&(i=ht),i=i.split(""),lt=i.length;p<lt;p++)if(e=i[p],ot)e==="'"?ot=!1:g();else if(e==="d"){if(f=s("d"),w=f<3?v(2):rt(d.days[f==3?"namesAbbr":"names"]),w===null||t(w,1,31))return null}else if(e==="M"){if(f=s("M"),k=f<3?v(2):rt(d.months[f==3?"namesAbbr":"names"]),k===null||t(k,1,12))return null;k-=1}else if(e==="y")f=s("y"),y=v(f<3?2:4),y===null&&(y=st),y<30&&(y=st-st%100+y);else if(e==="h"){if(s("h"),o=v(2),o==12&&(o=0),o===null||t(o,0,11))return null}else if(e==="H"){if(s("H"),o=v(2),o===null||t(o,0,23))return null}else if(e==="m"){if(s("m"),b=v(2),b===null||t(b,0,59))return null}else if(e==="s"){if(s("s"),tt=v(2),tt===null||t(tt,0,59))return null}else if(e==="f"){if(f=s("f"),nt=v(f),nt===null||t(nt,0,999))return null}else if(e==="t"){if(f=s("t"),ut=d.AM,ft=d.PM,f===1&&(ut=r(ut),ft=r(ft)),ct=rt(ft),!ct&&!rt(ut))return null}else if(e==="z"){if(at=!0,f=s("z"),n.substr(c,1)==="Z"){if(!vt)return null;g();continue}if((h=n.substr(c,6).match(f>2?a:l),!h)||(h=h[0],c=h.length,h=h.split(":"),et=parseInt(h[0],10),t(et,-12,13))||f>2&&(it=parseInt(h[1],10),isNaN(it)||t(it,0,59)))return null}else e==="T"?vt=g():e==="'"?(ot=!0,g()):g();return(ct&&o<12&&(o+=12),w===null&&(w=1),at)?(et&&(o+=-et),it&&(b+=-it),new Date(Date.UTC(y,k,w,o,b,tt,nt))):new Date(y,k,w,o,b,tt,nt)}var u=/\u00A0/g,h=/[eE][\-+]?[0-9]+/,l=/[+|\-]\d{1,2}/,a=/[+|\-]\d{1,2}:\d{2}/,f=["G","g","d","F","D","y","m","T","t"];i.parseDate=function(n,t,r){if(n instanceof Date)return n;var u=0,e=null,o,h;if(r=i.getCulture(r),!t){for(t=[],h=r.calendar.patterns,o=f.length;u<o;u++)t[u]=h[f[u]];t[u]="ddd MMM dd yyyy HH:mm:ss",t[++u]="yyyy-MM-ddTHH:mm:ss.fffzzz",t[++u]="yyyy-MM-ddTHH:mm:ss.fff",t[++u]="yyyy-MM-ddTHH:mm:ss",t[++u]="yyyy-MM-ddTHH:mm:sszzz",t[++u]="yyyy-MM-ddTHH:mmzzz",t[++u]="yyyy-MM-ddTHH:mmzz",t[++u]="yyyy-MM-dd",u=0}for(t=ai(t)?t:[t],o=t.length;u<o;u++)if(e=s(n,t[u],r),e)return e;return e},i.parseInt=function(n,t){var r=i.parseFloat(n,t);return r&&(r=r|0),r},i.parseFloat=function(n,t,r){if(!n&&n!==0)return null;if(typeof n===y)return n;n=n.toString(),t=i.getCulture(t);var f=t.numberFormat,s=f.percent,c=f.currency,o=c.symbol,l=s.symbol,a=n.indexOf("-")>-1,e,v;return h.test(n)?(n=parseFloat(n),isNaN(n)&&(n=null),n):(n.indexOf(o)>-1||r&&r.toLowerCase().indexOf("c")>-1?(f=c,e=f.pattern[0].replace("$",o).split("n"),n.indexOf(e[0])>-1&&n.indexOf(e[1])>-1&&(n=n.replace(e[0],"").replace(e[1],""),a=!0)):n.indexOf(l)>-1&&(v=!0,f=s,o=l),n=n.replace("-","").replace(o,"").replace(u," ").split(f[","].replace(u," ")).join("").replace(f["."],"."),n=parseFloat(n),isNaN(n)?n=null:a&&(n*=-1),n&&v&&(n/=100),n)},o&&(i.parseDate=c(o.parseDate,o),i.parseFloat=c(o.parseFloat,o))}(),function(){var i,n,f;r.scrollbar=function(){var n=document.createElement("div"),t;return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",n.innerHTML="&nbsp;",document.body.appendChild(n),t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",r.tbodyInnerHtml=!0}catch(e){r.tbodyInnerHtml=!1}r.touch="ontouchstart"in window,r.pointers=navigator.msPointerEnabled,n=r.transitions=!1,f=r.transforms=!1,r.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,r.hasNativeScrolling=typeof document.documentElement.style.webkitOverflowScrolling=="string",v(["Moz","webkit","O","ms"],function(){var r=this.toString(),e=typeof i.style[r+"Transition"]===u,t;if(e||typeof i.style[r+"Transform"]===u)return t=r.toLowerCase(),f={css:"-"+t+"-",prefix:r,event:t==="o"||t==="webkit"?t:""},e&&(n=f,n.event=n.event?n.event+"TransitionEnd":"transitionend"),!1}),r.transforms=f,r.transitions=n,r.devicePixelRatio=window.devicePixelRatio===t?1:window.devicePixelRatio,r.detectOS=function(n){var i=!1,f,e=[],o={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,winphone:/(IEMobile)\/(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/},s=function(n,i,r){for(var u in i)if(i.hasOwnProperty(u)&&i[u].test(n))return u;return r!==t?r:n},u;for(u in o)if(o.hasOwnProperty(u)&&(e=n.match(o[u]),e)){if(u=="windows"&&"plugins"in navigator)return!1;i={},i.device=u,i.tablet=s(u,{tablet:/playbook|ipad|fire/i},!1),i.browser=s(n,{omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i},"default"),i.name=s(u,{ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows|winphone/}),i[i.name]=!0,i.majorVersion=e[2],i.minorVersion=e[3].replace("_","."),f=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+f+new Array(3-(f.length<3?f.length:2)).join("0"),i.appMode=window.navigator.standalone||/file|local/.test(window.location.protocol)||typeof window.PhoneGap!==k||typeof window.cordova!==k,i.android&&r.devicePixelRatio<1.5&&(window.outerWidth>800||window.outerHeight>800)&&(i.tablet=u);break}return i},r.mobileOS=r.detectOS(navigator.userAgent),r.zoomLevel=function(){return r.touch?document.documentElement.clientWidth/window.innerWidth:1},r.eventCapture=document.documentElement.addEventListener,r.placeholder="placeholder"in document.createElement("input"),r.stableSort=function(){var n=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return n[0]===0&&n[1]===1&&n[2]===2&&n[3]===3&&n[4]===4&&n[5]===5&&n[6]===6&&n[7]===7&&n[8]===8&&n[9]===9&&n[10]===10&&n[11]===11&&n[12]===12}()}(),ht={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},d={promise:function(n,t){t.show&&n.css({display:n.data("olddisplay")||"block"}).css("display"),t.hide&&n.data("olddisplay",n.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(n),n.dequeue()},transitionPromise:function(n,t,r){var u=i.wrap(n);return u.append(t),n.hide(),t.show(),r.completeCallback&&r.completeCallback(n),n}},e(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return kt(this,n,t,i,r)},kendoAnimateTo:function(n,t,i,r,u){return yi(this,n,t,i,r,u)}}),e(n.fn,{kendoAddClass:function(n,t){return it(this,n,t,!0)},kendoRemoveClass:function(n,t){return it(this,n,t,!1)},kendoToggleClass:function(n,t,i){return it(this,n,t,i)}});var gt=/&/g,si=/</g,ti=/>/g;et=function(n){var t=typeof n.pageX==k?n.originalEvent:n;return{idx:r.pointers?t.pointerId:0,x:t.pageX,y:t.pageY}},ft=function(n){return n.target},r.touch&&(et=function(n,t){var i=n.changedTouches||n.originalEvent.changedTouches,r;return t?(r=null,v(i,function(n,i){t==i.identifier&&(r={idx:i.identifier,x:i.pageX,y:i.pageY})}),r):{idx:i[0].identifier,x:i[0].pageX,y:i[0].pageY}},ft=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):null},v(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}})),r.touch?(r.mousedown="touchstart",r.mouseup="touchend",r.mousemove="touchmove",r.mousecancel="touchcancel",r.resize="orientationchange"):r.pointers?(r.mousemove="MSPointerMove",r.mousedown="MSPointerDown",r.mouseup="MSPointerUp",r.mousecancel="MSPointerCancel",r.resize="orientationchange resize"):(r.mousemove="mousemove",r.mousedown="mousedown",r.mouseup="mouseup",r.mousecancel="mouseleave",r.resize="resize"),st=function(n){for(var f="d",i,t,u=1,r=0,e=n.length;r<e;r++)t=n[r],t!==""&&(i=t.indexOf("["),i!==0&&(i==-1?t="."+t:(u++,t="."+t.substring(0,i)+" || {})"+t.substring(i))),u++,f+=t+(r<e-1?" || {})":")"));return new Array(u).join("(")+f},dt=/^([a-z]+:)?\/\//i,e(i,{ui:i.ui||{},fx:i.fx||d,data:i.data||{},mobile:i.mobile||{},dataviz:i.dataviz||{ui:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:r,animate:kt,ns:"",attr:function(n){return"data-"+i.ns+n},wrap:gi,deepExtend:di,size:ki,isNodeEmpty:bi,getOffset:wi,parseEffects:pi,toggleClass:it,directions:ht,Observable:nt,Class:ot,Template:l,template:c(l.compile,l),render:c(l.render,l),stringify:c(p.stringify,p),touchLocation:et,eventTarget:ft,htmlEncode:vi,isLocalUrl:function(n){return n&&!dt.test(n)},expr:function(n,t){return n=n||"",n&&n.charAt(0)!=="["&&(n="."+n),t?st(n.split(".")):"d"+n},getter:function(n,t){return at[n]=at[n]||new Function("d","return "+i.expr(n,t))},setter:function(n){return lt[n]=lt[n]||new Function("d,value","d."+n+"=value")},accessor:function(n){return{get:i.getter(n),set:i.setter(n)}},guid:function(){for(var i="",t,n=0;n<32;n++)t=a.random()*16|0,(n==8||n==12||n==16||n==20)&&(i+="-"),i+=(n==12?4:n==16?t&3|8:t).toString(16);return i},roleSelector:function(n){return n.replace(/(\S+)/g,"["+i.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(n){var t=window.console;typeof t!="undefined"&&t.log&&t.log(n)}}),tt=nt.extend({init:function(t,r){var u=this;u.element=n(t),nt.fn.init.call(u),u.options=e(!0,{},u.options,r),u.element.attr(i.attr("role"))||u.element.attr(i.attr("role"),(u.options.name||"").toLowerCase()),u.element.data("kendo"+u.options.prefix+u.options.name,u),u.bind(u.events,u.options)},events:[],options:{prefix:""},setOptions:function(t){n.extend(this.options,t),this.bind(this.events,t)}}),i.notify=b;var ui=/template$/i,fi=/^\s*(?:\{(?:.|\n)*\}|\[(?:.|\n)*\])\s*$/,tr=/^\{(\d+)(:[^\}]+)?\}/,ir=/([A-Z])/g;i.initWidget=function(r,f,e){var s,l,o,c,y,a,v,h;if((e?e.roles&&(e=e.roles):e=i.ui.roles,r=r.nodeType?r:r[0],a=r.getAttribute("data-"+i.ns+"role"),a)&&(o=e[a],o)){for(h=ut(r,"dataSource"),f=n.extend({},yt(r,o.fn.options),f),h&&(f.dataSource=typeof h===u?i.getter(h)(window):h),c=0,y=o.fn.events.length;c<y;c++)l=o.fn.events[c],v=ut(r,l),v!==t&&(f[l]=i.getter(v)(window));return s=n(r).data("kendo"+o.fn.options.name),s?s.setOptions(f):s=new o(r,f),s}},i.init=function(t){var u=ct.call(arguments,1),r;u[0]||(u=[i.ui,i.dataviz.ui]),r=n.map(u,function(n){return n.roles}).reverse(),r=e.apply(null,[{}].concat(r)),n(t).find("[data-"+i.ns+"role]").andSelf().each(function(){i.initWidget(this,{},r)})},i.parseOptions=yt,e(i.ui,{Widget:tt,roles:{},progress:function(t,i){var r=t.find(".k-loading-mask");i?r.length||(r=n("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").prependTo(t).css({top:t.scrollTop(),left:t.scrollLeft()})):r&&r.remove()},plugin:function(r,f,e){var o=r.fn.options.name,h;f=f||i.ui,e=e||"",f[o]=r,f.roles[o.toLowerCase()]=r,h="getKendo"+e+o,o="kendo"+e+o,n.fn[o]=function(f){var e=this,h;return typeof f===u?(h=ct.call(arguments,1),this.each(function(){var r=n.data(this,o),u,c;if(!r)throw new Error(i.format("Cannot call method '{0}' of {1} before it is initialized",f,o));if(u=r[f],typeof u!==s)throw new Error(i.format("Cannot find method '{0}' of {1}",f,o));return c=u.apply(r,h),c!==t?(e=c,!1):void 0})):this.each(function(){new r(this,f)}),e},n.fn[h]=function(){return this.data(o)}}}),wt=tt.extend({init:function(n,t){tt.fn.init.call(this,n,t),this.wrapper=this.element},options:{prefix:"Mobile"},events:[],viewShow:n.noop,view:function(){var n=this.element.closest(i.roleSelector("view")+","+i.roleSelector("splitview"));return n.data("kendoMobileView")||n.data("kendoMobileSplitView")}}),e(i.mobile,{init:function(n){i.init(n,i.mobile.ui,i.ui,i.dataviz.ui)},ui:{Widget:wt,roles:{},plugin:function(n){i.ui.plugin(n,i.mobile.ui,"Mobile")}}}),i.touchScroller=function(n,t){return r.touch&&i.mobile.ui.Scroller&&!n.data("kendoMobileScroller")?(n.kendoMobileScroller(t),n.data("kendoMobileScroller")):!1},i.preventDefault=function(n){n.preventDefault()},i.widgetInstance=function(n,t){var r=t.roles[n.data(i.ns+"role")];if(r)return n.data("kendo"+r.fn.options.prefix+r.fn.options.name)},i.onResize=function(t){var i=t;r.mobileOS.android&&(i=function(){setTimeout(t,200)});n(window).on(r.resize,i)},i.data=function(n,t){return n.data(i.ns+t)}})(jQuery),function(n,t){function b(n){return parseInt(n,10)}function y(n,t){return b(n.css(t))}function ti(n,t){var i={},r,u;return t?document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(n,""),f(t,function(n,t){i[t]=r.getPropertyValue(t)})):n.currentStyle&&(u=n.currentStyle,f(t,function(n,t){i[t]=u[t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})]})):i=document.defaultView.getComputedStyle(n,""),i}function ii(n){return n.effects.slideIn=n.effects.slide,delete n.effects.slide,delete n.complete,n}function ri(t){var i=t.effects,u;return i==="zoom"&&(i="zoomIn fadeIn"),i==="slide"&&(i="slide:left"),i==="fade"&&(i="fadeIn"),i==="overlay"&&(i="slideIn:left"),/^overlay:(.+)$/.test(i)&&(i="slideIn:"+RegExp.$1),u=t.reverse&&/^(slide:)/.test(i),u&&delete t.reverse,t.effects=n.extend(r.parseEffects(i,u),{show:!0}),t}function ui(n){var t=[],i;for(i in n)t.push(i);return t}function bt(n,t){n.data(h)&&(clearTimeout(n.data(h)),n.removeData(h)),n.css(o,"").css(o),n.dequeue(),t.complete.call(n)}function fi(n){var t=n.object,i=0;if(n){if(t.css(n.setup).css(o),t.css(n.CSS).css(e),g.mozilla){t.one(l.event,function(){bt(t,n)});i=50}t.data(h,setTimeout(bt,n.duration+i,t,n))}}function dt(n){for(var t in n)st.indexOf(t)!=-1&&nt.indexOf(t)==-1&&delete n[t];return n}function yi(i,r,u){var f,e;for(f in r)n.isFunction(r[f])&&(e=r[f](i,u),e!==t?r[f]=e:delete r[f]);return r}function gt(i,r,f){var c=[],l={},a,o,v,h,y;for(o in r)a=o.toLowerCase(),y=u&&st.indexOf(a)!=-1,!s.hasHW3D&&y&&nt.indexOf(a)==-1?delete r[o]:(h=!1,n.isFunction(r[o])?(v=r[o](i,f),v!==t&&(h=v)):h=r[o],h!==!1&&(y?c.push(o+"("+h+")"):l[o]=h));return c.length&&(l[e]=c.join(" ")),l}function ot(n,t){var f,i,r;return u?(f=n.css(e),f==lt)?t=="scale"?1:0:(i=f.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,i?r=b(i[1]):(i=f.match(pi)||[0,0,0,0,0],t=t.toLowerCase(),ci.test(t)?r=parseFloat(i[3]/i[2]):t=="translatey"?r=parseFloat(i[4]/i[2]):t=="scale"?r=parseFloat(i[2]):t=="rotate"&&(r=parseFloat(Math.atan2(i[2],i[1])))),r):parseFloat(n.css(t))}function k(n,t,i){var f=r.directions[t],u=i?r.directions[f.reverse]:f;return{direction:u,offset:-u.modifier*(u.vertical?n.outerHeight():n.outerWidth())}}var r=window.kendo,d=r.fx,f=n.each,i=n.extend,ei=n.proxy,kt=r.size,g=n.browser,s=r.support,u=s.transforms,l=s.transitions,si={scale:0,scalex:0,scaley:0,scale3d:0},hi={translate:0,translatex:0,translatey:0,translate3d:0},tt=typeof document.documentElement.style.zoom!="undefined"&&!u,pi=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,wt=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,ci=/translatex?$/i,li=/(zoom|fade|expand)(\w+)/,pt=/(zoom|fade|expand)/,oi=/[xy]$/i,st=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],nt=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],ni={rotate:"deg",scale:"",skew:"px",translate:"px"},p=u.css,vi=Math.round,ai="",c="px",lt="none",it="auto",vt="width",et="height",ft="hidden",a="origin",h="abortId",w="overflow",v="translate",o=p+"transition",e=p+"transform",at=p+"perspective",ut=p+"backface-visibility",ht;r.directions={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1}},i(n.fn,{kendoStop:function(n,t){return l?r.fx.stopQueue(this,n||!1,t||!1):this.stop(n,t)}}),u&&!l&&(f(nt,function(t,i){n.fn[i]=function(t){if(typeof t=="undefined")return ot(this,i);var r=n(this)[0],u=i+"("+t+ni[i.replace(oi,"")]+")";return r.style.cssText.indexOf(e)==-1?n(this).css(e,u):r.style.cssText=r.style.cssText.replace(new RegExp(i+"\\(.*?\\)","i"),u),this},n.fx.step[i]=function(t){n(t.elem)[i](t.now)}}),ht=n.fx.prototype.cur,n.fx.prototype.cur=function(){return nt.indexOf(this.prop)!=-1?parseFloat(n(this.elem)[this.prop]()):ht.apply(this,arguments)}),r.toggleClass=function(n,t,r,u){return t&&(t=t.split(" "),l&&(r=i({exclusive:"all",duration:400,ease:"ease-out"},r),n.css(o,r.exclusive+" "+r.duration+"ms "+r.ease),setTimeout(function(){n.css(o,"").css(et)},r.duration)),f(t,function(t,i){n.toggleClass(i,u)})),n},r.parseEffects=function(n,t){var i={};return typeof n=="string"?f(n.split(" "),function(n,u){var s=!pt.test(u),h=u.replace(li,function(n,t,i){return t+":"+i.toLowerCase()}),f=h.split(":"),e=f[1],o={};f.length>1&&(o.direction=t&&s?r.directions[e].reverse:e),i[f[0]]=o}):f(n,function(n){var u=this.direction;u&&t&&!pt.test(n)&&(this.direction=r.directions[u].reverse),i[n]=this}),i},l&&i(r.fx,{transition:function(t,r,u){var e,f,s;u=i({duration:200,ease:"ease-out",complete:null,exclusive:"all"},u),u.duration=n.fx?n.fx.speeds[u.duration]||u.duration:u.duration,e=gt(t,r,u),f={keys:ui(e),CSS:e,object:t,setup:{},duration:u.duration,complete:u.complete},f.setup[o]=u.exclusive+" "+u.duration+"ms "+u.ease,s=t.data("keys")||[],n.merge(s,f.keys),t.data("keys",n.unique(s)),fi(f)},stopQueue:function(n,t,i){n.data(h)&&(clearTimeout(n.data(h)),n.removeData(h));var r=this,u,f=n.data("keys"),e=i===!1&&f;return e&&(u=ti(n[0],f)),n.css(o,"").css(o),e&&n.css(u),n.removeData("keys"),r.complete&&r.complete.call(n),n.stop(t),n}}),r.fx.promise=function(t,o){var p=[],h;h=r.parseEffects(o.effects),o.effects=h,t.data("animating",!0);var a={keep:[],restore:[]},s={},y,c={setup:[],teardown:[]},v={},w=n.Deferred(function(p){if(kt(h)){var w=i({},o,{complete:p.resolve});if(f(h,function(t,u){var e=r.fx[t],h;e&&(h=r.directions[u.direction],u.direction&&h&&(u.direction=o.reverse?h.reverse:u.direction),w=i(!0,w,u),f(c,function(n){e[n]&&c[n].push(e[n])}),f(a,function(t){e[t]&&n.merge(a[t],e[t])}),e.css&&(s=i(s,e.css)))}),c.setup.length){f(n.unique(a.keep),function(n,i){t.data(i)||t.data(i,t.css(i))}),o.show&&(s=i(s,{display:t.data("olddisplay")||"block"})),u&&!o.reset&&(s=yi(t,s,w),y=t.data("targetTransform"),y&&(s=i(y,s))),s=gt(t,s,w),u&&!l&&(s=dt(s)),t.css(s).css(e),f(c.setup,function(){v=i(v,this(t,w))}),r.fx.animate&&(o.init(),t.data("targetTransform",v),r.fx.animate(t,v,w));return}}else o.show&&(t.css({display:t.data("olddisplay")||"block"}).css("display"),o.init());p.resolve()}).promise();p.push(w),n.when.apply(null,p).then(function(){if(t.removeData("animating").dequeue(),o.hide&&t.data("olddisplay",t.css("display")).hide(),kt(h)){var i=function(){f(n.unique(a.restore),function(n,i){t.css(i,t.data(i))})};i(),tt&&!u&&setTimeout(i,0),f(c.teardown,function(){this(t,o)})}o.completeCallback&&o.completeCallback(t)})},r.fx.transitionPromise=function(n,t,i){return r.fx.animateTo(n,t,i),n},i(r.fx,{animate:function(r,e,o){var s=o.transition!==!1;delete o.transition,l&&"transition"in d&&s?d.transition(r,e,o):u?r.animate(dt(e),{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete}):r.each(function(){var r=n(this),s={};f(st,function(n,f){var h,p=e?e[f]+" ":null,o,w,b,k,c,l,a;p&&(o=e,f in si&&e[f]!==t?(h=p.match(wt),tt?(w=(1-h[1])/2,i(o,{zoom:+h[1],marginLeft:r.width()*w,marginTop:r.height()*w})):u&&i(o,{scale:+h[0]})):f in hi&&e[f]!==t&&(b=r.css("position"),k=b=="absolute"||b=="fixed",r.data(v)||(k?r.data(v,{top:y(r,"top")||0,left:y(r,"left")||0,bottom:y(r,"bottom"),right:y(r,"right")}):r.data(v,{top:y(r,"marginTop")||0,left:y(r,"marginLeft")||0})),c=r.data(v),h=p.match(wt),h&&(l=f==v+"y"?0:+h[1],a=f==v+"y"?+h[1]:+h[2],k?(isNaN(c.right)?isNaN(l)||i(o,{left:c.left+l}):isNaN(l)||i(o,{right:c.right-l}),isNaN(c.bottom)?isNaN(a)||i(o,{top:c.top+a}):isNaN(a)||i(o,{bottom:c.bottom-a})):(isNaN(l)||i(o,{marginLeft:c.left+l}),isNaN(a)||i(o,{marginTop:c.top+a})))),!u&&f!="scale"&&f in o&&delete o[f],o&&i(s,o))}),g.msie&&delete s.scale,r.animate(s,{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete})})},animateTo:function(t,i,r){function f(n){i[0].style.cssText="",t[0].style.cssText="",s.mobileOS.android||u.css(w,o),r.completeCallback&&r.completeCallback.call(t,n)}var e,u=t.parents().filter(i.parents()).first(),o;r=ri(r),s.mobileOS.android||(o=u.css(w),u.css(w,"hidden")),n.each(r.effects,function(n,t){e=e||t.direction}),r.complete=g.msie?function(){setTimeout(f,0)}:f,r.reset=!0,"slide"in r.effects?(t.kendoAnimate(r),i.kendoAnimate(ii(r))):(r.reverse?t:i).kendoAnimate(r)},fade:{keep:["opacity"],css:{opacity:function(n,t){var i=n[0].style.opacity;return t.effects.fade.direction=="in"&&(!i||i==1)?0:1}},restore:["opacity"],setup:function(n,t){return i({opacity:t.effects.fade.direction=="out"?0:1},t.properties)}},zoom:{css:{scale:function(n,t){var i=ot(n,"scale");return t.effects.zoom.direction=="in"?i!=1?i:"0.01":1},zoom:function(n,i){var r=n[0].style.zoom;return i.effects.zoom.direction=="in"&&tt?r?r:"0.01":t}},setup:function(n,t){var e=t.effects.zoom.direction=="out";if(tt){var u=g.version,r=n[0].currentStyle,o=r.width.indexOf("%")!=-1?n.parent().width():n.width(),s=r.height.indexOf("%")!=-1?n.parent().height():b(r.height),f=u<9&&t.effects.fade?0:(1-b(n.css("zoom"))/100)/2;n.css({marginLeft:o*(u<8?0:f),marginTop:s*f})}return i({scale:e?.01:1},t.properties)}},slide:{setup:function(n,t){var f=t.reverse,o={},r=k(n,t.effects.slide.direction,f),s=u&&t.transition!==!1?r.direction.transition:r.direction.property,e;return r.offset/=-(t.divisor||1),f||(e=n.data(a),e||e===0||n.data(a,ot(n,s))),o[s]=f?n.data(a)||0:(n.data(a)||0)+r.offset+c,i(o,t.properties)}},slideMargin:{setup:function(n,t){var u=n.data(a),o=t.offset,r,f={},e=t.reverse;return e||u||u===0||n.data(a,parseFloat(n.css("margin-"+t.axis))),r=n.data(a)||0,f["margin-"+t.axis]=e?r:r+o,i(f,t.properties)}},slideTo:{setup:function(n,t){var f=(t.offset+"").split(","),r={},e=t.reverse;return u&&t.transition!==!1?(r.translatex=e?0:f[0],r.translatey=e?0:f[1]):(r.left=e?0:f[0],r.top=e?0:f[1]),n.css("left"),i(r,t.properties)}},slideIn:{css:{translatex:function(n,i){var r=k(n,i.effects.slideIn.direction,i.reverse);return r.direction.transition=="translatex"?(i.reverse?0:r.offset)+c:t},translatey:function(n,i){var r=k(n,i.effects.slideIn.direction,i.reverse);return r.direction.transition=="translatey"?(i.reverse?0:r.offset)+c:t}},setup:function(n,t){var f=t.reverse,r=k(n,t.effects.slideIn.direction,f),e={};return u&&t.transition!==!1?e[r.direction.transition]=(f?r.offset:0)+c:(f||n.css(r.direction.property,r.offset+c),e[r.direction.property]=(f?r.offset:0)+c,n.css(r.direction.property)),i(e,t.properties)}},expand:{keep:[w],css:{overflow:ft},restore:[w],setup:function(n,r){var f=r.reverse,e=r.effects.expand.direction,u=(e?e=="vertical":!0)?et:vt,o=n[0].style[u],s=n.data(u),h=parseFloat(s||o)||vi(n.css(u,it)[u]()),l={};return l[u]=(f?0:h)+c,n.css(u,f?h:0).css(u),s===t&&n.data(u,o),i(l,r.properties)},teardown:function(n,t){var r=t.effects.expand.direction,i=(r?r=="vertical":!0)?et:vt,u=n.data(i);(u==it||u===ai)&&setTimeout(function(){n.css(i,it).css(i)},0)}},flip:{css:{rotatex:function(n,i){return i.effects.flip.direction=="vertical"?i.reverse?"180deg":"0deg":t},rotatey:function(n,i){return i.effects.flip.direction=="horizontal"?i.reverse?"180deg":"0deg":t}},setup:function(n,t){var f=t.effects.flip.direction=="horizontal"?"rotatey":"rotatex",u=t.reverse,o=n.parent(),h=t.degree,c=t.face,l=t.back,v=f+(u?"(180deg)":"(0deg)"),y=f+(u?"(0deg)":"(180deg)"),a={};return s.hasHW3D?(o.css(at)==lt&&o.css(at,500),n.css(p+"transform-style","preserve-3d"),c.css(ut,ft).css(e,v).css("z-index",u?0:-1),l.css(ut,ft).css(e,y).css("z-index",u?-1:0),a[f]=(u?"-":"")+(h?h:180)+"deg"):r.size(t.effects)==1&&(t.duration=0),c.show(),l.show(),i(a,t.properties)},teardown:function(t,i){i[i.reverse?"back":"face"].hide(),s.hasHW3D&&n().add(i.face).add(i.back).add(t).css(ut,"")}},simple:{setup:function(n,t){return t.properties}}}),r.fx.expandVertical=r.fx.expand;var ct=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},rt=r.Class.extend({init:function(){var n=this;n._tickProxy=ei(n._tick,n),n._started=!1},tick:n.noop,done:n.noop,onEnd:n.noop,onCancel:n.noop,start:function(){this._started=!0,ct(this._tickProxy)},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var n=this;n._started&&(n.tick(),n.done()?(n._started=!1,n.onEnd()):ct(n._tickProxy))}}),yt=rt.extend({init:function(n){var t=this;i(t,n),rt.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,+new Date-this.startDate)},moveTo:function(n){var t=this,i=t.movable;t.initial=i[t.axis],t.delta=n.location-t.initial,t.duration=n.duration||300,t.tick=t._easeProxy(n.ease),t.startDate=+new Date,t.start()},_easeProxy:function(n){var t=this;return function(){t.movable.moveAxis(t.axis,n(t.timePassed(),t.initial,t.delta,t.duration))}}});i(yt,{easeOutExpo:function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},easeOutBack:function(n,t,i,r,u){return u=1.70158,i*((n=n/r-1)*n*((u+1)*n+u)+1)+t}}),d.Animation=rt,d.Transition=yt}(jQuery),function(n,t){function r(u){for(var h=[],p=u.logic||"and",o,c,f,a,s,v,y=u.filters,l=0,w=y.length;l<w;l++)u=y[l],o=u.field,s=u.value,a=u.operator,u.filters?u=r(u):(v=u.ignoreCase,o=o.replace(/\./g,"/"),u=e[a],u&&s!==t&&(c=n.type(s),c==="string"?(f="'{1}'",s=s.replace(/'/g,"''"),v===!0&&(o="tolower("+o+")")):f=c==="date"?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",f=u.length>3?u!=="substringof"?"{0}({2},"+f+")":"{0}("+f+",{2})":"{2} {0} "+f,u=i.format(f,u,s,o))),h.push(u);return u=h.join(" "+p+" "),h.length>1&&(u="("+u+")"),u}var i=window.kendo,f=n.extend,e={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",endswith:"endswith",startswith:"startswith"},u={pageSize:n.noop,page:n.noop,filter:function(n,t){t&&(n.$filter=r(t))},sort:function(t,i){var r=n.map(i,function(n){var t=n.field.replace(/\./g,"/");return n.dir==="desc"&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(n,t){t&&(n.$skip=t)},take:function(n,t){t&&(n.$top=t)}},o={read:{dataType:"jsonp"}};f(!0,i.data,{schemas:{odata:{type:"json",data:function(n){return n.d.results||[n.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t){var f,s,r,e;if(n=n||{},t=t||"read",e=(this.options||o)[t],e=e?e.dataType:"json",t==="read"){f={$inlinecount:"allpages"},e!="json"&&(f.$format="json");for(r in n)u[r]?u[r](f,n[r]):f[r]=n[r]}else{if(e!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(r in n)s=n[r],typeof s=="number"&&(n[r]=s+"");f=i.stringify(n)}}return f}}}})}(jQuery),function(n,t){var i=window.kendo,r=n.isArray,u=n.isPlainObject,o=n.map,s=n.each,f=n.extend,h=i.getter,c=i.Class,e=c.extend({init:function(n){var e=this,c=n.total,t=n.model,l=n.data,h,a;t&&(u(t)&&(t.fields&&s(t.fields,function(n,i){i=u(i)&&i.field?f(i,{field:e.getter(i.field)}):{field:e.getter(i)},t.fields[n]=i}),h=t.id,h&&(a={},a[e.xpathToMember(h,!0)]={field:e.getter(h)},t.fields=f(a,t.fields),t.id=e.xpathToMember(h)),t=i.data.Model.define(t)),e.model=t),c&&(c=e.getter(c),e.total=function(n){return parseInt(c(n),10)}),l&&(l=e.xpathToMember(l),e.data=function(n){var i=e.evaluate(n,l),u;return(i=r(i)?i:[i],e.model&&t.fields)?(u=new e.model,o(i,function(n){if(n){var r={},i;for(i in t.fields)r[i]=u._parse(i,t.fields[i].field(n));return r}})):i})},total:function(n){return this.data(n).length},errors:function(n){return n?n.errors:null},parseDOM:function(n){for(var f={},e,i,o,s,u,h,l=n.attributes,a=l.length,c=0;c<a;c++)h=l[c],f["@"+h.nodeName]=h.nodeValue;for(i=n.firstChild;i;i=i.nextSibling)o=i.nodeType,o===3||o===4?f["#text"]=i.nodeValue:o===1&&(e=this.parseDOM(i),s=i.nodeName,u=f[s],r(u)?u.push(e):u=u!==t?[u,e]:e,f[s]=u);return f},evaluate:function(n,t){for(var e=t.split("."),o,u,s,i,f;o=e.shift();)if(n=n[o],r(n)){for(u=[],t=e.join("."),f=0,s=n.length;f<s;f++)i=this.evaluate(n[f],t),i=r(i)?i:[i],u.push.apply(u,i);return u}return n},parse:function(t){var i,r,u={};return i=t.documentElement||n.parseXML(t).documentElement,r=this.parseDOM(i),u[i.nodeName]=r,u},xpathToMember:function(n,t){return n?(n=n.replace(/^\//,"").replace(/\//g,"."),n.indexOf("@")>=0)?n.replace(/\.?(@.*)/,t?"$1":'["$1"]'):n.indexOf("text()")>=0?n.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):n:""},getter:function(n){return h(this.xpathToMember(n),!0)}});n.extend(!0,i.data,{XmlDataReader:e,readers:{xml:e}})}(jQuery),function(n,t){function ri(t,i){if(t===i)return!0;var r=n.type(t),f=n.type(i),u;if(r!==f)return!1;if(r==="date")return t.getTime()===i.getTime();if(r!=="object"&&r!=="array")return!1;for(u in t)if(!ri(t[u],i[u]))return!1;return!0}function f(n){this.data=n||[]}function rt(n,i){if(n){var r=typeof n===h?{field:n,dir:i}:n,u=d(r)?r:r!==t?[r]:[];return lr(u,function(n){return!!n.dir})}}function ui(n){var i,f,r,t,u=n.filters;if(u)for(i=0,f=u.length;i<f;i++)r=u[i],t=r.operator,t&&typeof t===h&&(r.operator=oi[t.toLowerCase()]||t),ui(r)}function tt(n){if(n&&!ot(n))return(d(n)||!n.filters)&&(n={logic:"and",filters:d(n)?n:[n]}),ui(n),n}function vr(n){return d(n)?n:[n]}function ft(n,i){var r=typeof n===h?{field:n,dir:i}:n,u=d(r)?r:r!==t?[r]:[];return wt(u,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates}})}function or(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function nu(n,t,r,u,f){var o,h,s,c,e;for(t=t||[],c=t.length,o=0;o<c;o++)h=t[o],s=h.aggregate,e=h.field,n[e]=n[e]||{},n[e][s]=fi[s.toLowerCase()](n[e][s],r,i.accessor(e),u,f)}function fr(n){for(var i=n.length,r=new Array(i),t=0;t<i;t++)r[t]=n[t].toJSON();return r}function yt(n,i){i=i||{};var r=new f(n),u=i.group,e=ft(u||[]).concat(rt(i.sort||[])),o,s=i.filter,h=i.skip,c=i.take;return s&&(r=r.filter(s),o=r.toArray().length),e&&(r=r.sort(e),u&&(n=r.toArray())),h!==t&&c!==t&&(r=r.range(h,c)),u&&(r=r.group(u,n)),{total:o,data:r.toArray()}}function nr(n,t){t=t||{};var i=new f(n),u=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(u)}function gi(n,t,i){for(var u,r,f=0,e=n.length;f<e;f++){u=n[f];for(r in t)u[r]=i._parse(r,t[r](u))}}function ur(n,t,i){for(var r,u=0,f=n.length;u<f;u++)r=n[u],r.value=i._parse(r.field,r.value),r.hasSubgroups?ur(r.items,t,i):gi(r.items,t,i)}function di(n,t,i,r){return function(u){return u=n(u),u&&!ot(r)&&(ht.call(u)==="[object Array]"||u instanceof v||(u=[u]),i(u,r,new t)),u||[]}}function wi(n){for(var i=[],t=0,r=n.length;t<r;t++)i=n[t].hasSubgroups?i.concat(wi(n[t].items)):i.concat(n[t].items.slice());return i}function pi(n,t){var r,f,u,i;if(t)for(r=0,f=n.length;r<f;r++)u=n[r],i=u.items,u.hasSubgroups?pi(i,t):!i.length||i[0]instanceof t||(i.type=t,i.wrapAll(i,i))}function k(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].hasSubgroups){if(k(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function yi(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].uid==t.uid)return t=n[i],n.splice(i,1),t}function vi(n,t){for(var i,r,u=n.length-1,f=0;u>=f;u--)r=n[u],i={value:t.get(r.field),field:r.field,items:i?[i]:[t],hasSubgroups:!!i,aggregates:{}};return i}function ct(n,t){return t?ki(n,function(n){return n[t.idField]===t.id}):-1}function ai(n,t){return t?ki(n,function(n){return n.uid==t.uid}):-1}function ki(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function gr(t,i){for(var o=n(t)[0].children,s=[],f,h=i[0],c=i[1],r,u,e=0,l=o.length;e<l;e++)f={},u=o[e],f[h.field]=u.text,r=u.attributes.value,r=r&&r.specified?u.value:u.text,f[c.field]=r,s.push(f);return s}function sr(t,i){for(var s=n(t)[0].tBodies[0],h=s?s.rows:[],r,a=i.length,c=[],l,u,f,e,o=0,v=h.length;o<v;o++){for(u={},e=!0,l=h[o].cells,r=0;r<a;r++)f=l[r],f.nodeName.toLowerCase()!=="th"&&(e=!1,u[i[r].field]=f.innerHTML);e||c.push(u)}return c}function li(t,i){for(var c=n(t).children(),l=[],r,p=i[0].field,a=i[1]&&i[1].field,v=i[2]&&i[2].field,y=i[3]&&i[3].field,f,o,e,s,u,h=0,w=c.length;h<w;h++)r={},f=c.eq(h),e=f[0].firstChild,u=f.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),o=f.attr("data-id"),o&&(r.id=o),e&&(r[p]=e.nodeType==3?e.nodeValue:u.text()),a&&(r[a]=u.find("a").attr("href")),y&&(r[y]=u.find("img").attr("src")),v&&(s=u.find(".k-sprite").prop("className"),r[v]=s&&n.trim(s.replace("k-sprite",""))),t.length&&(r.items=li(t.eq(0),i)),f.attr("data-hasChildren")=="true"&&(r.hasChildren=!0),l.push(r);return l}var u=n.extend,b=n.proxy,l=n.isFunction,w=n.isPlainObject,ot=n.isEmptyObject,d=n.isArray,lr=n.grep,bt=n.ajax,wt,pt=n.each,a=n.noop,i=window.kendo,y=i.Observable,st=i.Class,h="string",vt="function",tr="create",ir="read",rr="update",ci="destroy",r="change",lt="get",et="error",gt="requestStart",hr=[tr,ir,rr,ci],it=function(n){return n},ut=i.getter,at=i.stringify,e=Math,dr=[].push,kr=[].join,br=[].pop,wr=[].splice,pr=[].shift,ii=[].slice,yr=[].unshift,ht={}.toString,ar=i.support.stableSort,ni=/^\/Date\((.*?)\)\/$/,cr=/(?=['\\])/g,v=y.extend({init:function(n,t){var i=this;i.type=t||o,y.fn.init.call(i),i.length=n.length,i.wrapAll(n,i)},toJSON:function(){for(var i=this.length,n,r=new Array(i),t=0;t<i;t++)n=this[t],n instanceof o&&(n=n.toJSON()),r[t]=n;return r},parent:a,wrapAll:function(n,t){var r=this,i,u,f=function(){return r};for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=r.wrap(n[i],f);return t},wrap:function(n,t){var i=this,u;return n!==null&&ht.call(n)==="[object Object]"&&(u=n instanceof i.type||n instanceof c,u||(n=n instanceof o?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(r,function(n){i.trigger(r,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.action||"itemchange"})})),n},push:function(){var i=this.length,n=this.wrapAll(arguments),t;return t=dr.apply(this,n),this.trigger(r,{action:"add",index:i,items:n}),t},slice:ii,join:kr,pop:function(){var n=this.length,t=br.apply(this);return n&&this.trigger(r,{action:"remove",index:n-1,items:[t]}),t},splice:function(n,t,i){var e=this.wrapAll(ii.call(arguments,2)),u,f,o;if(u=wr.apply(this,[n,t].concat(e)),u.length)for(this.trigger(r,{action:"remove",index:n,items:u}),f=0,o=u.length;f<o;f++)u[f].children&&u[f].unbind(r);return i&&this.trigger(r,{action:"add",index:n,items:e}),u},shift:function(){var t=this.length,n=pr.apply(this);return t&&this.trigger(r,{action:"remove",index:0,items:[n]}),n},unshift:function(){var n=this.wrapAll(arguments),t;return t=yr.apply(this,n),this.trigger(r,{action:"add",index:0,items:n}),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1}}),o=y.extend({init:function(n){var u=this,t,r,f=function(){return u},e;y.fn.init.call(this);for(r in n)t=n[r],r.charAt(0)!="_"&&(e=ht.call(t),t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n){return this.hasOwnProperty(n)&&n!=="_events"&&typeof this[n]!==vt&&n!=="uid"},toJSON:function(){var i={},n,t;for(t in this)this.shouldSerialize(t)&&(n=this[t],(n instanceof o||n instanceof v)&&(n=n.toJSON()),i[t]=n);return i},get:function(n){var t=this;return t.trigger(lt,{field:n}),n==="this"?t:i.getter(n,!0)(t)},_set:function(n,t){var e=this,r,u,f;if(n.indexOf("."))for(r=n.split("."),u="";r.length>1;){if(u+=r.shift(),f=i.getter(u,!0)(e),f instanceof o){f.set(r.join("."),t);return}u+="."}i.setter(n)(e,t)},set:function(n,t){var i=this,u=i[n],f=function(){return i};u!==t&&(i.trigger("set",{field:n,value:t})||(i._set(n,i.wrap(t,n,f)),i.trigger(r,{field:n})))},parent:a,wrap:function(n,t,i){var u=this,e=ht.call(n),f=n instanceof v;return n===null||e!=="[object Object]"||n instanceof s||f?n!==null&&(e==="[object Array]"||f)?(f||(n=new v(n)),n.parent=i,function(t){n.bind(r,function(n){u.trigger(r,{field:t,index:n.index,items:n.items,action:n.action})})}(t)):n!==null&&n instanceof s&&(n._parent=i):(n instanceof o||(n=new o(n)),n.parent=i,function(t){n.bind(lt,function(n){n.field=t+"."+n.field,u.trigger(lt,n)}),n.bind(r,function(n){n.field=t+"."+n.field,u.trigger(r,n)})}(t)),n}}),ei={number:function(n){return i.parseFloat(n)},date:function(n){if(typeof n===h){var t=ni.exec(n);if(t)return new Date(parseInt(t[1],10))}return i.parseDate(n)},boolean:function(n){return typeof n===h?n.toLowerCase()==="true":!!n},string:function(n){return n+""},"default":function(n){return n}},er={string:"",number:0,date:new Date,boolean:!1,"default":""},c=o.extend({init:function(i){var r=this;(!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i)),o.fn.init.call(r,i),r.dirty=!1,r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return o.fn.shouldSerialize.call(this,n)&&n!=="uid"&&!(this.idField!=="id"&&n==="id")&&n!=="dirty"&&n!=="_accessors"},_parse:function(n,t){var r=this,i;return n=(r.fields||{})[n],n&&(i=n.parse,!i&&n.type&&(i=ei[n.type.toLowerCase()])),i?i(t):t},editable:function(n){return n=(this.fields||{})[n],n?n.editable!==!1:!0},set:function(n,t,i){var r=this;r.editable(n)&&(t=r._parse(n,t),ri(t,r.get(n))||(r.dirty=!0,o.fn.set.call(r,n,t,i)))},accept:function(n){var t=this;u(t,n),t.idField&&(t.id=t.get(t.idField)),t.dirty=!1},isNew:function(){return this.id===this._defaultId}}),g,hi,si,oi,fi,dt,s,kt,p;c.define=function(n,i){i===t&&(i=n,n=c);var o,r=u({},{defaults:{}},i),e,f,a,s,l=r.id;l&&(r.idField=l),r.id&&delete r.id,l&&(r.defaults[l]=r._defaultId="");for(e in r.fields)f=r.fields[e],a=f.type||"default",s=null,e=typeof f.field===h?f.field:e,f.nullable||(s=r.defaults[e]=f.defaultValue!==t?f.defaultValue:er[a.toLowerCase()]),i.id===e&&(r._defaultId=s),r.defaults[e]=s,f.parse=f.parse||ei[a];return o=n.extend(r),o.define=function(n){return c.define(o,n)},r.fields&&(o.fields=r.fields,o.idField=r.idField),o},g={selector:function(n){return l(n)?n:ut(n)},asc:function(n){var t=this.selector(n);return function(n,i){return n=t(n),i=t(i),n>i?1:n<i?-1:0}},desc:function(n){var t=this.selector(n);return function(n,i){return n=t(n),i=t(i),n<i?1:n>i?-1:0}},create:function(n){return this[n.dir.toLowerCase()](n.field)},combine:function(n){return function(t,i){for(var r=n[0](t,i),u=1,f=n.length;u<f;u++)r=r||n[u](t,i);return r}}},hi=u({},g,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return r===u?n.__position-i.__position:r>u?1:r<u?-1:0}},desc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return r===u?n.__position-i.__position:r<u?1:r>u?-1:0}}}),wt=function(n,t){for(var r=n.length,u=new Array(r),i=0;i<r;i++)u[i]=t(n[i],i,n);return u},si=function(){function t(n){return n.replace(cr,"\\")}function n(n,i,r,u){var f;return r!=null&&(typeof r===h&&(r=t(r),f=ni.exec(r),f?r=new Date(+f[1]):u?(r="'"+r.toLowerCase()+"'",i="("+i+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(i="("+i+"?"+i+".getTime():"+i+")",r=r.getTime())),i+" "+n+" "+r}return{eq:function(t,i,r){return n("==",t,i,r)},neq:function(t,i,r){return n("!=",t,i,r)},gt:function(t,i,r){return n(">",t,i,r)},gte:function(t,i,r){return n(">=",t,i,r)},lt:function(t,i,r){return n("<",t,i,r)},lte:function(t,i,r){return n("<=",t,i,r)},startswith:function(n,i,r){return r&&(n=n+".toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".lastIndexOf('"+i+"', 0) == 0"},endswith:function(n,i,r){return r&&(n=n+".toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".lastIndexOf('"+i+"') == "+n+".length - "+(i||"").length},contains:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".indexOf('"+i+"') >= 0"},doesnotcontain:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".indexOf('"+i+"') == -1"}}}(),f.filterExpr=function(n){for(var l=[],r,u,e=[],o=[],s,h,a=n.filters,c=0,v=a.length;c<v;c++)r=a[c],s=r.field,h=r.operator,r.filters?(u=f.filterExpr(r),r=u.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(o.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(e.length+t)+"]"}),o.push.apply(o,u.operators),e.push.apply(e,u.fields)):(typeof s===vt?(u="__f["+e.length+"](d)",e.push(s)):u=i.expr(s),typeof h===vt?(r="__o["+o.length+"]("+u+", "+r.value+")",o.push(h)):r=si[(h||"eq").toLowerCase()](u,r.value,r.ignoreCase!==t?r.ignoreCase:!0)),l.push(r);return{expression:"("+l.join({and:" && ",or:" || "}[n.logic])+")",fields:e,operators:o}},oi={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},f.normalizeFilter=tt,f.prototype={toArray:function(){return this.data},range:function(n,t){return new f(this.data.slice(n,n+t))},skip:function(n){return new f(this.data.slice(n))},take:function(n){return new f(this.data.slice(0,n))},select:function(n){return new f(wt(this.data,n))},orderBy:function(n){var t=this.data.slice(0),i=l(n)||!n?g.asc(n):n.compare;return new f(t.sort(i))},orderByDescending:function(n){return new f(this.data.slice(0).sort(g.desc(n)))},sort:function(n,t,i){var r,f,u=rt(n,t),e=[];if(i=i||g,u.length){for(r=0,f=u.length;r<f;r++)e.push(i.create(u[r]));return this.orderBy({compare:i.combine(e)})}return this},filter:function(n){var t,r,s,i,h,c=this.data,u,e,l=[],o;if(n=tt(n),!n||n.filters.length===0)return this;for(i=f.filterExpr(n),u=i.fields,e=i.operators,h=o=new Function("d, __f, __o","return "+i.expression),(u.length||e.length)&&(o=function(n){return h(n,u,e)}),t=0,s=c.length;t<s;t++)r=c[t],o(r)&&l.push(r);return new f(l)},group:function(n,t){n=ft(n||[]),t=t||this.data;var u=this,i=new f(u.data),r;return n.length>0&&(r=n[0],i=i.groupBy(r).select(function(i){var u=new f(t).filter([{field:i.field,operator:"eq",value:i.value}]);return{field:i.field,value:i.value,items:n.length>1?new f(i.items).group(n.slice(1),u.toArray()).toArray():i.items,hasSubgroups:n.length>1,aggregates:u.aggregate(r.aggregates)}})),i},groupBy:function(n){if(ot(n)||!this.data.length)return new f([]);for(var t=n.field,e=this._sortForGrouping(t,n.dir||"asc"),c=i.accessor(t),o,r=c.get(e[0],t),u={field:t,value:r,items:[]},s,l=[u],h=0,a=e.length;h<a;h++)o=e[h],s=c.get(o,t),or(r,s)||(r=s,u={field:t,value:r,items:[]},l.push(u)),u.items.push(o);return new f(l)},_sortForGrouping:function(n,t){var i,u,r=this.data;if(!ar){for(i=0,u=r.length;i<u;i++)r[i].__position=i;for(r=new f(r).sort(n,t,hi).toArray(),i=0,u=r.length;i<u;i++)delete r[i].__position;return r}return this.sort(n,t).toArray()},aggregate:function(n){var t,i,r={};if(n&&n.length)for(t=0,i=this.data.length;t<i;t++)nu(r,n,this.data[t],t,i);return r}},fi={sum:function(n,t,i){return(n||0)+i.get(t)},count:function(n){return(n||0)+1},average:function(n,t,i,r,u){return n=(n||0)+i.get(t),r==u-1&&(n=n/u),n},max:function(n,t,i){var r=i.get(t);return n=n||0,n<r&&(n=r),n},min:function(n,t,i){var r=i.get(t);return n=n||r,n>r&&(n=r),n}};var ti=st.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:a}),bi=st.extend({init:function(n){var i=this,t;n=i.options=u({},i.options,n),pt(hr,function(t,i){typeof n[i]===h&&(n[i]={url:n[i]})}),i.cache=n.cache?nt.create(n.cache):{find:a,add:a},t=n.parameterMap,i.parameterMap=l(t)?t:function(n){var i={};return pt(n,function(n,r){n in t&&(n=t[n],w(n)&&(r=n.value(r),n=n.key)),i[n]=r}),i}},options:{parameterMap:it},create:function(n){return bt(this.setup(n,tr))},read:function(i){var f=this,r,o,u,e=f.cache;i=f.setup(i,ir),r=i.success||a,o=i.error||a,u=e.find(i.data),u!==t?r(u):(i.success=function(n){e.add(i.data,n),r(n)},n.ajax(i))},update:function(n){return bt(this.setup(n,rr))},destroy:function(n){return bt(this.setup(n,ci))},setup:function(n,t){n=n||{};var f=this,r,i=f.options[t],e=l(i.data)?i.data(n.data):i.data;return n=u(!0,{},i,n),r=u(!0,{},e,n.data),n.data=f.parameterMap(r,t),l(n.url)&&(n.url=n.url(r)),n}}),nt=st.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[at(n)]=i)},find:function(n){return this._store[at(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[at(n)]}});nt.create=function(n){var t={inmemory:function(){return new nt}};return w(n)&&l(n.find)?n:n===!0?new nt:t[n]()},dt=st.extend({init:function(n){var t=this,f,r,i,e;n=n||{};for(f in n)r=n[f],t[f]=typeof r===h?ut(r):r;if(e=n.modelBase||c,w(t.model)){t.model=i=e.define(t.model);var o=b(t.data,t),s=b(t.groups,t),u={};i.fields&&pt(i.fields,function(n,t){w(t)&&t.field?u[t.field]=ut(t.field):u[n]=ut(n)}),t.data=di(o,i,gi,u),t.groups=di(s,i,ur,u)}},errors:function(n){return n?n.errors:null},parse:it,data:it,total:function(n){return n.length},groups:it,status:function(n){return n.status},aggregates:function(){return{}}}),s=y.extend({init:function(n){var f=this,s,e,o;n&&(o=n.data),n=f.options=u({},f.options,n),u(f,{_map:{},_prefetch:{},_data:[],_ranges:[],_view:[],_pristine:[],_destroyed:[],_pageSize:n.pageSize,_page:n.page||(n.pageSize?1:t),_sort:rt(n.sort),_filter:tt(n.filter),_group:ft(n.group),_aggregate:n.aggregate,_total:n.total}),y.fn.init.call(f),e=n.transport,e?(e.read=typeof e.read===h?{url:e.read}:e.read,n.type&&(i.data.transports[n.type]&&!w(i.data.transports[n.type])?f.transport=new i.data.transports[n.type](u(e,{data:o})):e=u(!0,{},i.data.transports[n.type],e),n.schema=u(!0,{},i.data.schemas[n.type],n.schema)),f.transport||(f.transport=l(e.read)?e:new bi(e))):f.transport=new ti({data:n.data}),f.reader=new i.data.readers[n.schema.type||"json"](n.schema),s=f.reader.model||{},f._data=f._observe(f._data),f.bind([et,r,gt],n)},options:{data:[],schema:{modelBase:c},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,sendAllFields:!0,batch:!1},_flatData:function(n){return this.options.serverGrouping&&this.group().length?wi(n):n},get:function(n){for(var i=this._flatData(this._data),t=0,r=i.length;t<r;t++)if(i[t].id==n)return i[t]},getByUid:function(n){for(var i=this._flatData(this._data),t=0,r=i.length;t<r;t++)if(i[t].uid==n)return i[t]},sync:function(){var t=this,i,f,e=[],o=[],s=t._destroyed,u=t._flatData(t._data),r;if(t.reader.model){for(i=0,f=u.length;i<f;i++)u[i].isNew()?e.push(u[i]):u[i].dirty&&o.push(u[i]);r=t._send("create",e),r.push.apply(r,t._send("update",o)),r.push.apply(r,t._send("destroy",s)),n.when.apply(null,r).then(function(){for(var n=0,i=arguments.length;n<i;n++)t._accept(arguments[n]);t._change()})}},_accept:function(t){var i=this,e=t.models,r=t.response,f=0,s=i.options.serverGrouping&&i.group()&&i.group().length,h=i.reader.data(i._pristine),o=t.type,c;if(r){if(r=i.reader.parse(r),i._handleCustomErrors(r))return;r=i.reader.data(r),n.isArray(r)||(r=[r])}else r=n.map(e,function(n){return n.toJSON()});for(o==="destroy"&&(i._destroyed=[]),f=0,c=e.length;f<c;f++)o!=="destroy"?(e[f].accept(r[f]),o==="create"?h.push(s?vi(i.group(),e[f]):e[f]):o==="update"&&(s?i._updatePristineGroupModel(e[f],r[f]):u(h[i._pristineIndex(e[f])],r[f]))):s?i._removePristineGroupModel(e[f]):h.splice(i._pristineIndex(e[f]),1)},_pristineIndex:function(n){for(var i=this,r=i.reader.data(i._pristine),t=0,u=r.length;t<u;t++)if(r[t][n.idField]===n.id)return t;return-1},_updatePristineGroupModel:function(n,t){var r=this.reader.groups(this._pristine),i;k(r,function(r){return i=ct(r,n),i>-1?(u(!0,r[i],t),!0):void 0})},_removePristineGroupModel:function(n){var i=this.reader.groups(this._pristine),t;k(i,function(i){return t=ct(i,n),t>-1?(i.splice(t,1),!0):void 0})},_promise:function(t,i,r){var f=this,e=f.transport;return n.Deferred(function(n){e[r].call(e,u({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t){n.reject(t),f.trigger(et,t)}},t))}).promise()},_send:function(n,t){var r=this,i,f,u=[];if(r.options.batch)t.length&&u.push(r._promise({data:{models:fr(t)}},t,n));else for(i=0,f=t.length;i<f;i++)u.push(r._promise({data:t[i].toJSON()},[t[i]],n));return u},add:function(n){return this.insert(this._data.length,n)},insert:function(n,t){return t||(t=n,n=0),t instanceof c||(t=this.reader.model?new this.reader.model(t):new o(t)),this.options.serverGrouping&&this.group()&&this.group().length?this._data.splice(n,0,vi(this.group(),t)):this._data.splice(n,0,t),t},cancelChanges:function(n){var t=this,f,e=t.options.serverGrouping&&t.group()&&t.group().length,s=e?t.reader.groups:t.reader.data,o=s(t._pristine),r;n instanceof i.data.Model?e?t._cancelGroupModel(n):(r=t.indexOf(n),f=t._pristineIndex(n),r!=-1&&(f==-1||n.isNew()?t._data.splice(r,1):u(!0,t._data[r],o[f]))):(t._destroyed=[],t._data=t._observe(o),t._change())},read:function(n){var t=this,i=t._params(n);t._queueRequest(i,function(){t.trigger(gt),t._ranges=[],t.transport.read({data:i,success:b(t.success,t),error:b(t.error,t)})})},_cancelGroupModel:function(n){var r=this.reader.groups(this._pristine),i,t;k(r,function(r){return t=ct(r,n),t>-1?(i=r[t],!0):void 0}),t>-1&&k(this._data,function(r){t=ai(r,n),t>-1&&(n.isNew()?r.splice(t,1):u(!0,r[t],i))})},indexOf:function(n){return ai(this._data,n)},_params:function(n){var t=this,i=u({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:b(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1,n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},remove:function(n){var t=this._data;return this.options.serverGrouping&&this.group()&&this.group().length?this._removeGroupItem(t,n):yi(t,n)},_removeGroupItem:function(n,t){var i;return k(n,function(n){return i=yi(n,t),i?!0:void 0}),t},error:function(n,t,i){this._dequeueRequest(),this.trigger(et,{xhr:n,status:t,errorThrown:i})},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(et,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_parent:a,success:function(t){var i=this,u=i.options,e=u.serverGrouping===!0&&i._group&&i._group.length>0,r,f;(t=i.reader.parse(t),i._handleCustomErrors(t))||(i._pristine=w(t)?n.extend(!0,{},t):t.slice(0),i._total=i.reader.total(t),i._aggregate&&u.serverAggregates&&(i._aggregateResult=i.reader.aggregates(t)),t=e?i.reader.groups(t):i.reader.data(t),i._data=i._observe(t),r=i._skip||0,f=r+i._data.length,i._ranges.push({start:r,end:f,data:i._data}),i._ranges.sort(function(n,t){return n.start-t.start}),i._dequeueRequest(),i._process(i._data))},_observe:function(n){var t=this,i=t.reader.model,u=!1;return i&&n.length&&(u=!(n[0]instanceof i)),n instanceof v?u&&(n.type=t.reader.model,n.wrapAll(n,n)):(n=new v(n,t.reader.model),n.parent=function(){return t._parent()}),t.group()&&t.group().length&&t.options.serverGrouping&&pi(n,i),n.bind(r,b(t._change,t))},_change:function(n){var t=this,r,f,i=n?n.action:"",u;if(i==="remove")for(r=0,f=n.items.length;r<f;r++)n.items[r].isNew&&n.items[r].isNew()||t._destroyed.push(n.items[r]);t.options.autoSync&&(i==="add"||i==="remove"||i==="itemchange")?t.sync():(u=t._total||t.reader.total(t._pristine),i==="add"?u++:i==="remove"?u--:i==="itemchange"||t.options.serverPaging||(u=t.reader.total(t._pristine)),t._total=u,t._process(t._data,n))},_process:function(n,i){var u=this,f={},e;u.options.serverPaging!==!0&&(f.skip=u._skip,f.take=u._take||u._pageSize,f.skip===t&&u._page!==t&&u._pageSize!==t&&(f.skip=(u._page-1)*u._pageSize)),u.options.serverSorting!==!0&&(f.sort=u._sort),u.options.serverFiltering!==!0&&(f.filter=u._filter),u.options.serverGrouping!==!0&&(f.group=u._group),u.options.serverAggregates!==!0&&(f.aggregate=u._aggregate,u._aggregateResult=nr(n,f)),e=yt(n,f),u._view=e.data,e.total===t||u.options.serverFiltering||(u._total=e.total),i=i||{},i.items=i.items||u._view,u.trigger(r,i)},at:function(n){return this._data[n]},data:function(n){var i=this;if(n!==t)i._data=this._observe(n),i._total=i._data.length,i._process(i._data);else return i._data},view:function(){return this._view},query:function(n){var i=this,u,f=i.options.serverSorting||i.options.serverPaging||i.options.serverFiltering||i.options.serverGrouping||i.options.serverAggregates;n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=n.skip,i._take=n.take,i._skip===t&&(i._skip=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=rt(n.sort)),n.filter&&(i._filter=n.filter=tt(n.filter)),n.group&&(i._group=n.group=ft(n.group)),n.aggregate&&(i._aggregate=n.aggregate=vr(n.aggregate))),f||i._data===t||i._data.length===0?i.read(n):(i.trigger(gt),u=yt(i._data,n),i.options.serverFiltering||(i._total=u.total!==t?u.total:i._data.length),i._view=u.data,i._aggregateResult=nr(i._data,n),i.trigger(r,{items:u.data}))},fetch:function(n){var t=this;if(n&&l(n))t.one(r,n);t._query()},_query:function(n){var t=this;t.query(u({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(){var n=this,t=n.page(),i=n.total();t&&(i?n.page(t+1):(n._skip=t*n.take(),n._query({page:t+1})))},prev:function(){var n=this,t=n.page(),i=n.total();t&&t!==1&&(i?n.page(t-1):(n._skip=n._skip-n.take(),n._query({page:t-1})))},page:function(n){var i=this,r;if(n!==t){n=e.max(e.min(e.max(n,1),i.totalPages()),1),i._query({page:n});return}return r=i.skip(),r!==t?e.round((r||0)/(i.take()||1))+1:t},pageSize:function(n){var i=this;if(n!==t){i._query({pageSize:n,page:1});return}return i.take()},sort:function(n){var i=this;if(n!==t){i._query({sort:n});return}return i._sort},filter:function(n){var i=this;if(n===t)return i._filter;i._query({filter:n,page:1})},group:function(n){var i=this;if(n!==t){i._query({group:n});return}return i._group},total:function(){return this._total||0},aggregate:function(n){var i=this;if(n!==t){i._query({aggregate:n});return}return i._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var n=this,t=n.pageSize()||n.total();return e.ceil((n.total()||0)/t)},inRange:function(n,t){var i=this,r=e.min(n+t,i.total());return!i.options.serverPaging&&i.data.length>0?!0:i._findRange(n,r).length>0},range:function(n,i){var s,h;n=e.min(n||0,this.total());var r=this,f=e.max(e.floor(n/i),0)*i,u=e.min(f+i,r.total()),o;if(o=r._findRange(n,e.min(n+i,r.total())),o.length){r._skip=n>r.skip()?e.min(u,(r.totalPages()-1)*r.take()):f,r._take=i,s=r.options.serverPaging,h=r.options.serverSorting;try{r.options.serverPaging=!0,r.options.serverSorting=!0,s&&(r._data=o=r._observe(o)),r._process(o)}finally{r.options.serverPaging=s,r.options.serverSorting=h}return}i!==t&&(r._rangeExists(f,u)?f<n&&r.prefetch(u,i,function(){r.range(n,i)}):r.prefetch(f,i,function(){n>f&&u<r.total()&&!r._rangeExists(u,e.min(u+i,r.total()))?r.prefetch(u,i,function(){r.range(n,i)}):r.range(n,i)}))},_findRange:function(n,i){for(var v=this,y=v._ranges,r,p=[],o,s,e,c,l,a,f=v.options,b=f.serverSorting||f.serverPaging||f.serverFiltering||f.serverGrouping||f.serverAggregates,u,h=0,w=y.length;h<w;h++)if(r=y[h],n>=r.start&&n<=r.end){for(u=0,o=h;o<w;o++)if(r=y[o],r.data.length&&n+u>=r.start&&(c=r.data,l=r.end,b||(a=yt(r.data,{sort:v.sort(),filter:v.filter()}),c=a.data,a.total!==t&&(l=a.total)),s=0,n+u>r.start&&(s=n+u-r.start),e=c.length,l>i&&(e=e-(l-i)),u+=e-s,p=p.concat(c.slice(s,e)),i<=r.end&&u==i-n))return p;break}return[]},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},take:function(){var n=this;return n._take||n._pageSize},prefetch:function(n,t,i){var r=this,f=e.min(n+t,r.total()),u={start:n,end:f,data:[]},o={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,f)?i&&i():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(o,function(){r.transport.read({data:o,success:function(t){var e,f,o;for(r._dequeueRequest(),e=!1,f=0,o=r._ranges.length;f<o;f++)if(r._ranges[f].start===n){e=!0,u=r._ranges[f];break}e||r._ranges.push(u),t=r.reader.parse(t),u.data=r._observe(r.reader.data(t)),u.end=u.start+u.data.length,r._ranges.sort(function(n,t){return n.start-t.start}),r._total=r.reader.total(t),i&&i()}})})},100))},_rangeExists:function(n,t){for(var u=this,r=u._ranges,i=0,f=r.length;i<f;i++)if(r[i].start<=n&&r[i].end>=t)return!0;return!1}}),s.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},f=t.data,r=t.fields,c=t.table,l=t.select,e,a,h={},o;if(f||!r||t.transport||(c?f=sr(c,r):l&&(f=gr(l,r))),i.data.Model&&r&&(!t.schema||!t.schema.model)){for(e=0,a=r.length;e<a;e++)o=r[e],o.type&&(h[o.field]=o);ot(h)||(t.schema=u(!0,t.schema,{model:{fields:h}}))}return t.data=f,t instanceof s?t:new s(t)},kt=c.define({init:function(n){var t=this,f=t.hasChildren||n.hasChildren,e="items",o={};i.data.Model.fn.init.call(t,n),typeof t.children===h&&(e=t.children),o=u({schema:{data:e,model:{hasChildren:f}}},t.children,{data:n}),f||(f=o.schema.data),typeof f===h&&(f=i.getter(f)),l(f)&&(t.hasChildren=!!f.call(t,t)),t.children=new p(o),t.children._parent=function(){return t},t.children.bind(r,function(n){n.node=n.node||t,t.trigger(r,n)}),t._loaded=!!(n&&n[e])},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n;)t++,n=n.parentNode();return t},load:function(){var n=this,i={};i[n.idField||"id"]=n.id,n._loaded||(n.children._data=t),n.children.one(r,function(){n._loaded=!0}).query(i)},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){if(n!==t)this._loaded=n;else return this._loaded},shouldSerialize:function(n){return c.fn.shouldSerialize.call(this,n)&&n!=="children"&&n!=="_loaded"&&n!=="hasChildren"}}),p=s.extend({init:function(n){var t=kt.define({children:n});s.fn.init.call(this,u(!0,{},{schema:{modelBase:t,model:t}},n))},remove:function(n){var t=n.parentNode(),i=this,r;return t&&(i=t.children),r=s.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},insert:function(n,t){var i=this._parent();return i&&(i.hasChildren=!0),s.fn.insert.call(this,n,t)},getByUid:function(n){var i,u,t,r;if(t=s.fn.getByUid.call(this,n),t)return t;for(r=this._flatData(this.data()),i=0,u=r.length;i<u;i++)if(t=r[i].children.getByUid(n),t)return t}}),p.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,r=t.fields,u=t.list;return i||!r||t.transport||u&&(i=li(u,r)),t.data=i,t instanceof p?t:new p(t)},u(!0,i.data,{readers:{json:dt},Query:f,DataSource:s,HierarchicalDataSource:p,Node:kt,ObservableObject:o,ObservableArray:v,LocalTransport:ti,RemoteTransport:bi,Cache:nt,DataReader:dt,Model:c})}(jQuery),function(n){function nt(n){for(var i=[],t=0,r=n.length;t<r;t++)i=n[t].hasSubgroups?i.concat(nt(n[t].items)):i.concat(n[t].items);return i}function ft(n,t,r){var u=r.roles,f=u[n];if(f)return new k(i.initWidget(t,f.options,u))}function it(n){for(var e={},r,u,s,t,f=n.match(rt),i=0,o=f.length;i<o;i++)r=f[i],u=r.indexOf(":"),s=r.substring(0,u),t=r.substring(u+1),t.charAt(0)=="{"&&(t=it(t)),e[s]=t;return e}function a(n,t,i){var r,u={};for(r in n)u[r]=new i(t,n[r]);return u}function c(n,t,r){var v=n.getAttribute("data-"+i.ns+"role"),h,f=n.getAttribute("data-"+i.ns+"bind"),y=n.children,p=!0,e,l={},o;if(r||(r=i.ui),(v||f)&&b(n),v&&(o=ft(v,n,r)),f&&(f=it(f.replace(g,"")),o||(l=i.parseOptions(n,{textField:"",valueField:"",template:"",valueUpdate:u}),o=new w(n,l)),o.source=t,e=a(f,t,s),l.template&&(e.template=new st(t,"",l.template)),e.click&&(f.events=f.events||{},f.events.click=f.click,delete e.click),e.source&&(p=!1),f.attr&&(e.attr=a(f.attr,t,s)),f.style&&(e.style=a(f.style,t,s)),f.events&&(e.events=a(f.events,t,ut)),o.bind(e)),o&&(n.kendoBindingTarget=o),p&&y)for(h=0;h<y.length;h++)c(y[h],t,r)}function d(t,r,u){var f,e;for(r=i.observable(r),t=n(t),f=0,e=t.length;f<e;f++)c(t[f],r,u)}function b(t){var i=t.kendoBindingTarget;i&&(i.destroy(),n.support.deleteExpando?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null)}function v(n){var t,r,i=n.children;if(b(n),i)for(t=0,r=i.length;t<r;t++)v(i[t])}function ot(t){var i,r;for(t=n(t),i=0,r=t.length;i<r;i++)v(t[i])}function et(n,t){var i=n.element,r=i[0].kendoBindingTarget;r&&d(i,r.source,t)}var i=window.kendo,y=i.Observable,h=i.data.ObservableObject,o=i.data.ObservableArray,ht={}.toString,r={},tt=i.Class,p,f=n.proxy,e="value",l="checked",u="change",w,k,rt,g;(function(){var n=document.createElement("a");n.innerText!==undefined?p="innerText":n.textContent!==undefined&&(p="textContent")})();var s=y.extend({init:function(n,t){var i=this;y.fn.init.call(i),i.source=n,i.path=t,i.dependencies={},i.dependencies[t]=!0,i.observable=i.source instanceof y,i._access=function(n){i.dependencies[n.field]=!0},i.observable&&(i._change=function(n){i.change(n)},i.source.bind(u,i._change))},change:function(n){var r,f,t,i=this;if(i.path==="this")i.trigger(u,n);else for(r in i.dependencies)if(f=r.indexOf(n.field),f===0&&(t=r.charAt(n.field.length),!t||t==="."||t==="[")){i.trigger(u,n);break}},start:function(){this.observable&&this.source.bind("get",this._access)},stop:function(){this.observable&&this.source.unbind("get",this._access)},get:function(){var t=this,n=t.source,e,r=t.path,i=n;if(t.start(),t.observable){for(i=n.get(r);i===undefined&&n;)n=n.parent(),n instanceof h&&(i=n.get(r));typeof i=="function"&&(e=r.lastIndexOf("."),e>0&&(n=n.get(r.substring(0,e))),i=f(i,n),i=i(t.source)),n&&n!==t.source&&n.unbind(u,t._change).bind(u,t._change)}return t.stop(),i},set:function(n){this.source.set(this.path,n)},destroy:function(){this.observable&&this.source.unbind(u,this._change)}}),ut=s.extend({get:function(){for(var n=this.source,i=this.path,t=n.get(i);!t&&n;)n=n.parent(),n instanceof h&&(t=n.get(i));return f(t,n)}}),st=s.extend({init:function(n,t,i){var r=this;s.fn.init.call(r,n,t),r.template=i},render:function(n){var t;return this.start(),t=i.render(this.template,n),this.stop(),t}}),t=tt.extend({init:function(n,t,i){this.element=n,this.bindings=t,this.options=i},bind:function(n,t){var i=this;n=t?n[t]:n,n.bind(u,function(n){i.refresh(t||n)}),i.refresh(t)},destroy:function(){}});r.attr=t.extend({refresh:function(n){this.element.setAttribute(n,this.bindings.attr[n].get())}}),r.style=t.extend({refresh:function(n){this.element.style[n]=this.bindings.style[n].get()}}),r.enabled=t.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),r.disabled=t.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),r.events=t.extend({init:function(n,i,r){t.fn.init.call(this,n,i,r),this.handlers={}},refresh:function(t){var i=this.bindings.events[t],r=this.handlers[t]=i.get();n(this.element).bind(t,i.source,r)},destroy:function(){var i=n(this.element),t;for(t in this.handlers)i.unbind(t,this.handlers[t])}}),r.text=t.extend({refresh:function(){var n=this.bindings.text.get();n==null&&(n=""),this.element[p]=n}}),r.visible=t.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),r.invisible=t.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),r.html=t.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),r.value=t.extend({init:function(i,r,e){t.fn.init.call(this,i,r,e),this._change=f(this.change,this),this.eventName=e.valueUpdate||u,n(this.element).bind(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=u,this.bindings[e].set(this.element.value),this._initChange=!1},refresh:function(){if(!this._initChange){var n=this.bindings[e].get();n==null&&(n=""),this.element.value=n}this._initChange=!1},destroy:function(){n(this.element).unbind(this.eventName,this._change)}}),r.source=t.extend({init:function(n,i,r){t.fn.init.call(this,n,i,r)},refresh:function(n){var t=this,i=t.bindings.source.get();i instanceof o?(n=n||{},n.action=="add"?t.add(n.index,n.items):n.action=="remove"?t.remove(n.index,n.items):n.action!="itemchange"&&t.render()):t.render()},container:function(){var n=this.element;return n.nodeName.toLowerCase()=="table"&&(n.tBodies[0]||n.appendChild(document.createElement("tbody")),n=n.tBodies[0]),n},template:function(){var n=this.options,t=n.template,r=this.container().nodeName.toLowerCase();return t||(t=r=="select"?n.valueField||n.textField?i.format('<option value="#:{0}#">#:{1}#</option>',n.valueField||n.textField,n.textField||n.valueField):"<option>#:data#</option>":r=="tbody"?"<tr><td>#:data#</td></tr>":r=="ul"||r=="ol"?"<li>#:data#</li>":"#:data#",t=i.template(t)),t},destroy:function(){var n=this.bindings.source.get();n.unbind(u,this._change)},add:function(t,r){var f=this.container(),u,s,e,o=f.cloneNode(!1),h=f.children[t];if(n(o).html(i.render(this.template(),r)),o.children.length)for(u=0,s=r.length;u<s;u++)e=o.children[0],f.insertBefore(e,h||null),c(e,r[u])},remove:function(n,t){for(var i=this.container(),r=0;r<t.length;r++)i.removeChild(i.children[n])},render:function(){var t=this.bindings.source.get(),r,f,u=this.container(),s=this.template(),e;if(t instanceof o||ht.call(t)==="[object Array]"||(t.parent&&(e=t.parent),t=new o([t]),t.parent&&(t.parent=e)),this.bindings.template){if(n(u).html(this.bindings.template.render(t)),u.children.length)for(r=0,f=t.length;r<f;r++)c(u.children[r],t[r])}else n(u).html(i.render(s,t))}}),r.input={checked:t.extend({init:function(i,r,u){t.fn.init.call(this,i,r,u),this._change=f(this.change,this),n(this.element).change(this._change)},change:function(){var r=this.element,n=this.value(),t,i;r.type=="radio"?this.bindings[l].set(n):r.type=="checkbox"&&(t=this.bindings[l].get(),t instanceof o?n!==!1&&n!==!0&&(i=t.indexOf(n),i>-1?t.splice(i,1):t.push(n)):this.bindings[l].set(n))},refresh:function(){var n=this.bindings[l].get(),t=this.element;t.type=="checkbox"?(n instanceof o&&n.indexOf(this.value(t))>=0&&(n=!0),t.checked=n===!0):t.type=="radio"&&n!=null&&t.value===n.toString()&&(t.checked=!0)},value:function(){var t=this.element,n=t.value;return t.type=="checkbox"&&(n=="on"||n=="off"||n==="true")&&(n=t.checked),n},destroy:function(){n(this.element).unbind(u,this._change)}})},r.select={value:t.extend({init:function(i,r,u){t.fn.init.call(this,i,r,u),this._change=f(this.change,this),n(this.element).change(this._change)},change:function(){for(var i=[],l=this.element,f,s=this.options.valueField||this.options.textField,r,u,n,t=0,c=l.options.length;t<c;t++)r=l.options[t],r.selected&&(n=r.attributes.value,n=n&&n.specified?r.value:r.text,i.push(n));if(s)for(f=this.bindings.source.get(),u=0;u<i.length;u++)for(t=0,c=f.length;t<c;t++)if(f[t].get(s)==i[u]){i[u]=f[t];break}n=this.bindings[e].get(),n instanceof o?n.splice.apply(n,[0,n.length].concat(i)):n instanceof h||!s?this.bindings[e].set(i[0]):this.bindings[e].set(i[0].get(s))},refresh:function(){var t,c=this.element,i=c.options,n=this.bindings[e].get(),r=n,s=this.options.valueField||this.options.textField,u,f;for(r instanceof o||(r=new o([n])),f=0;f<r.length;f++)for(n=r[f],s&&n instanceof h&&(n=n.get(s)),t=0;t<i.length;t++)u=i[t].value,u===""&&n!==""&&(u=i[t].text),u==n&&(i[t].selected=!0)},destroy:function(){n(this.element).unbind(u,this._change)}})},r.widget={events:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n,this.handlers={}},refresh:function(n){var t=this.bindings.events[n],i=t.get();this.handlers[n]=function(n){n.data=t.source,i(n)},this.widget.bind(n,this.handlers[n])},destroy:function(){var n;for(n in this.handlers)this.widget.unbind(n,this.handlers[n])}}),checked:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n,this._change=f(this.change,this),this.widget.bind(u,this._change)},change:function(){this.bindings[l].set(this.value())},refresh:function(){this.widget.check(this.bindings[l].get()===!0)},value:function(){var t=this.element,n=t.value;return(n=="on"||n=="off")&&(n=t.checked),n},destroy:function(){this.widget.unbind(u,this._change)}}),visible:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n},refresh:function(){var n=this.bindings.visible.get();this.widget.wrapper[0].style.display=n?"":"none"}}),invisible:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n},refresh:function(){var n=this.bindings.invisible.get();this.widget.wrapper[0].style.display=n?"none":""}}),enabled:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:t.extend({init:function(n,i,r){t.fn.init.call(this,n.element[0],i,r),this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:t.extend({init:function(n,i,r){var u=this;t.fn.init.call(u,n.element[0],i,r),u.widget=n,u._dataBinding=f(u.dataBinding,u),u._dataBound=f(u.dataBound,u),u._itemChange=f(u.itemChange,u)},itemChange:function(n){c(n.item[0],n.data,n.ns||i.ui)},dataBinding:function(){for(var i=this.widget,t=i.items(),n=0,r=t.length;n<r;n++)v(t[n])},dataBound:function(n){var t,u,f=this.widget,e=f.items(),o=f.dataSource,r=o.view(),s=n.ns||i.ui,h=o.group()||[];if(e.length)for(h.length&&(r=nt(r)),t=0,u=r.length;t<u;t++)c(e[t],r[t],s)},refresh:function(n){var t=this,u,r=t.widget;n=n||{},n.action||(t.destroy(),r.bind("dataBinding",t._dataBinding),r.bind("dataBound",t._dataBound),r.bind("itemChange",t._itemChange),r.dataSource instanceof i.data.DataSource&&(u=t.bindings.source.get(),u instanceof i.data.DataSource?r.setDataSource(u):r.dataSource.data(u)))},destroy:function(){var n=this.widget;n.unbind("dataBinding",this._dataBinding),n.unbind("dataBound",this._dataBound),n.unbind("itemChange",this._itemChange)}}),value:t.extend({init:function(i,r,f){t.fn.init.call(this,i.element[0],r,f),this.widget=i,this._change=n.proxy(this.change,this),this.widget.first(u,this._change);var e=this.bindings.value.get();this._valueIsObservableObject=e==null||e instanceof h},change:function(){var r=this.widget.value(),t,e,u=this.options.dataValueField||this.options.dataTextField,n,f;if(u)if(f=this._valueIsObservableObject,this.bindings.source&&(n=this.bindings.source.get()),r===""&&f)r=null;else for((!n||n instanceof i.data.DataSource)&&(n=this.widget.dataSource.view()),t=0,e=n.length;t<e;t++)if(n[t].get(u)==r){r=f?n[t]:n[t].get(u);break}this.bindings.value.set(r)},refresh:function(){var t=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get();t&&n instanceof h&&(n=n.get(t)),this.widget.value(n)},destroy:function(){this.widget.unbind(u,this._change)}})},w=tt.extend({init:function(n,t){this.target=n,this.options=t,this.toDestroy=[]},bind:function(n){var i=this.target.nodeName.toLowerCase(),t,u=r[i]||{};for(t in n)this.applyBinding(t,n,u)},applyBinding:function(n,t,i){var u=i[n]||r[n],e=this.toDestroy,o,f=t[n];if(u)if(u=new u(this.target,t,this.options),e.push(u),f instanceof s)u.bind(f),e.push(f);else for(o in f)u.bind(f,o),e.push(f[o]);else if(n!=="template")throw new Error("The "+n+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){for(var t=this.toDestroy,n=0,i=t.length;n<i;n++)t[n].destroy()}}),k=w.extend({bind:function(n){var i=this,t,r=!1,u=!1;for(t in n)t==e?r=!0:t=="source"?u=!0:i.applyBinding(t,n);u&&i.applyBinding("source",n),r&&i.applyBinding(e,n)},applyBinding:function(n,t){var i=r.widget[n],f=this.toDestroy,e,u=t[n];if(i)if(i=new i(this.target,t,this.target.options),f.push(i),u instanceof s)i.bind(u),f.push(u);else for(e in u)i.bind(u,e),f.push(u[e]);else throw new Error("The "+n+" binding is not supported by the "+this.target.options.name+" widget");}}),rt=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,g=/\s/g,i.unbind=ot,i.bind=d,i.data.binders=r,i.data.Binder=t,i.notify=et,i.observable=function(n){return n instanceof h||(n=new h(n)),n}}(jQuery),function(n,t){function nt(t){var r=i.ui.validator.ruleResolvers||{},u={},f;for(f in r)n.extend(!0,u,r[f].resolve(t));return u}function g(n){return n.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}var i=window.kendo,v=i.ui.Widget,u="k-invalid-msg",k="k-invalid",w=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,p=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,r=":input:not(:button,[type=submit],[type=reset])",f="[type=number],[type=range]",e="blur",l="name",c="form",h="novalidate",b=n.proxy,s=function(n,t){return typeof t=="string"&&(t=new RegExp("^(?:"+t+")$")),t.test(n)},o=function(n,t,i){var r=n.val();return n.filter(t).length&&r!==""?s(r,i):!0},d=function(n,i){return n.length?n[0].attributes[i]!==t:!1},y=/(\[|\]|\$|\.|\:|\+)/g,a;i.ui.validator||(i.ui.validator={rules:{},messages:{}}),a=v.extend({init:function(t,r){var u=this,f=nt(t);r=r||{},r.rules=n.extend({},i.ui.validator.rules,f.rules,r.rules),r.messages=n.extend({},i.ui.validator.messages,f.messages,r.messages),v.fn.init.call(u,t,r),u._errorTemplate=i.template(u.options.errorTemplate),u.element.is(c)&&u.element.attr(h,h),u._errors={},u._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> ${message}</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(n){var i=n.filter("[type=checkbox]").length&&n.attr("checked")!=="checked",t=n.val();return!(d(n,"required")&&(t===""||!t||i))},pattern:function(n){return n.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&n.val()!==""?s(n.val(),n.attr("pattern")):!0},min:function(n){if(n.filter(f+",["+i.attr("type")+"=number]").filter("[min]").length&&n.val()!==""){var t=parseFloat(n.attr("min"))||0,r=parseFloat(n.val());return t<=r}return!0},max:function(n){if(n.filter(f+",["+i.attr("type")+"=number]").filter("[max]").length&&n.val()!==""){var t=parseFloat(n.attr("max"))||0,r=parseFloat(n.val());return t>=r}return!0},step:function(n){if(n.filter(f+",["+i.attr("type")+"=number]").filter("[step]").length&&n.val()!==""){var t=parseFloat(n.attr("min"))||0,r=parseFloat(n.attr("step"))||0,u=parseFloat(n.val());return(u-t)*10%(r*10)/100==0}return!0},email:function(n){return o(n,"[type=email],["+i.attr("type")+"=email]",w)},url:function(n){return o(n,"[type=url],["+i.attr("type")+"=url]",p)},date:function(n){return n.filter("[type^=date],["+i.attr("type")+"=date]").length&&n.val()!==""?i.parseDate(n.val(),n.attr(i.attr("format")))!==null:!0}},validateOnBlur:!0},_submit:function(n){return this.validate()?!0:(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1)},_attachEvents:function(){var t=this;t.element.is(c)&&t.element.submit(b(t._submit,t)),t.options.validateOnBlur&&(t.element.is(r)?t.element.bind(e,function(){t.validateInput(t.element)}):t.element.delegate(r,e,function(){t.validateInput(n(this))}))},validate:function(){var n=this,i,t,u=!1,f;if(n._errors={},!n.element.is(r)){for(i=n.element.find(r),t=0,f=i.length;t<f;t++)n.validateInput(i.eq(t))||(u=!0);return!u}return n.validateInput(n.element)},validateInput:function(t){var r;t=n(t);var i=this,h=i._errorTemplate,s=i._checkValidity(t),f=s.valid,c="."+u,e=t.attr(l)||"",a=i._findMessageContainer(e).add(t.next(c)).hide(),o;return f||(o=i._extractMessage(t,s.key),i._errors[e]=o,r=n(h({message:g(o)})),i._decorateMessageContainer(r,e),a.replaceWith(r).length||r.insertAfter(t),r.show()),t.toggleClass(k,!f),f},_findMessageContainer:function(n){var r=i.ui.validator.messageLocators,f,t=this.element.find("."+u+"["+i.attr("for")+"="+n.replace(y,"\\$1")+"]");for(f in r)t=t.add(r[f].locate(this.element,n));return t},_decorateMessageContainer:function(n,t){var r=i.ui.validator.messageLocators,f;n.addClass(u).attr(i.attr("for"),t||"");for(f in r)r[f].decorate(n,t)},_extractMessage:function(t,r){var f=this,u=f.options.messages[r],e=t.attr(l);return u=n.isFunction(u)?u(t):u,i.format(t.attr(i.attr(r+"-msg"))||t.attr("validationMessage")||t.attr("title")||u||"",e,t.attr(r))},_checkValidity:function(n){var i=this.options.rules,t;for(t in i)if(!i[t](n))return{valid:!1,key:t};return{valid:!0}},errors:function(){var n=[],t=this._errors,i;for(i in t)n.push(t[i]);return n}}),i.ui.plugin(a)}(jQuery),function(n){function ri(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function ot(n){return h.elementFromPoint(n.x.client,n.y.client)}function d(n,t){return parseInt(n.css(t),10)||0}function wt(n,t){return Math.min(Math.max(n,t.min),t.max)}function kt(n,t){var i=n.offset(),r=i.left+d(n,"borderLeftWidth")+d(n,"paddingLeft"),u=i.top+d(n,"borderTopWidth")+d(n,"paddingTop"),f=r+n.width()-t.outerWidth(!0),e=u+n.height()-t.outerHeight(!0);return{x:{min:r,max:f},y:{min:u,max:e}}}function dt(n,t){return n.replace(/ /g,t+" ")}function oi(t){t.preventDefault();var r=n(t.target),i=r.closest(".k-widget").parent();i[0]||(i=r.parent()),i.trigger(t.type)}var t=window.kendo,u=t.support,b=u.pointers,h=window.document,ii=n(h.documentElement),rt=t.Class,k=t.ui.Widget,i=t.Observable,r=n.proxy,p=n.now,f=n.extend,ni=t.getOffset,y={},v={},e,si=u.mobileOS&&u.mobileOS.android,a="mousedown",g="mousemove",w="mouseup mouseleave",bt="keyup",s="change",pt="dragstart",yt="drag",vt="dragend",gt="dragcancel",it="dragenter",l="dragleave",at="drop",tt="start",nt="move",lt="end",ct="cancel",ht="tap";u.touch&&(a="touchstart",g="touchmove",w="touchend touchcancel"),b&&(a="MSPointerDown",g="MSPointerMove",w="MSPointerUp MSPointerCancel");var st=rt.extend({init:function(n){this.axis=n},start:function(n,t){var i=this,r=n["page"+i.axis];i.startLocation=i.location=r,i.client=n["client"+i.axis],i.velocity=i.delta=0,i.timeStamp=t},move:function(n,t){var i=this,r=n["page"+i.axis];(r||!si)&&(i.delta=r-i.location,i.location=r,i.client=n["client"+i.axis],i.initialDelta=r-i.startLocation,i.velocity=i.delta/(t-i.timeStamp),i.timeStamp=t)}}),o=i.extend({init:function(e,o){var s=this,c={},h,y,l="."+t.guid(),v;o=o||{},h=s.filter=o.filter,s.threshold=o.threshold||0,e=n(e),i.fn.init.call(s),c[dt(g,l)]=r(s._move,s),c[dt(w,l)]=r(s._end,s),f(s,{x:new st("X"),y:new st("Y"),element:e,surface:o.global?ii:o.surface||e,stopPropagation:o.stopPropagation,pressed:!1,eventMap:c,ns:l});e.on(a,h,r(s._start,s)).on("dragstart",h,t.preventDefault);b&&e.css("-ms-touch-action","pinch-zoom double-tap-zoom"),o.allowSelection||(v=["mousedown selectstart",h,oi],h instanceof n&&v.splice(2,0,null),e.on.apply(e,v)),u.eventCapture&&(y=function(n){s.moved&&n.preventDefault()},s.surface[0].addEventListener(u.mouseup,y,!0)),s.bind([ht,tt,nt,lt,ct],o)},capture:function(){o.captured=!0},cancel:function(){this._cancel(),this.trigger(ct)},skip:function(){this._cancel()},_cancel:function(){var n=this;n.moved=n.pressed=!1,n.surface.off(n.ns)},_start:function(t){var i=this,r=i.filter,f=t.originalEvent,e,s=t;if(!i.pressed&&(i.target=r?n(t.target).is(r)?n(t.target):n(t.target).closest(r):i.element,i.target.length)){i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation(),i.pressed=!0,i.moved=!1,i.startTime=null,u.touch&&(e=f.changedTouches[0],i.touchID=e.identifier,s=e),b&&(i.touchID=f.pointerId,s=f),i._perAxis(tt,s,p());i.surface.off(i.eventMap).on(i.eventMap);o.captured=!1}},_move:function(n){var t=this,i,r,u;t.pressed&&t._withEvent(n,function(f){if(t._perAxis(nt,f,p()),!t.moved){if(i=t.x.initialDelta,r=t.y.initialDelta,u=Math.sqrt(i*i+r*r),u<=t.threshold)return;if(o.captured)return t._cancel();t.startTime=p(),t._trigger(tt,n),t.moved=!0}t.pressed&&t._trigger(nt,n)})},_end:function(n){var t=this;t.pressed&&t._withEvent(n,function(){t.moved?(t.endTime=p(),t._trigger(lt,n),t.moved=!1):t._trigger(ht,n),t._cancel()})},_perAxis:function(n,t,i){this.x[n](t,i),this.y[n](t,i)},_trigger:function(n,t){var i={x:this.x,y:this.y,target:this.target,event:t};this.trigger(n,i)&&t.preventDefault()},_withEvent:function(n,t){var o=this,e=o.touchID,f=n.originalEvent,r,i;if(u.touch){for(r=f.changedTouches,i=r.length;i;)if(i--,r[i].identifier===e)return t(r[i])}else if(b){if(e===f.pointerId)return t(f)}else return t(n)}}),fi=i.extend({init:function(t,u){var f=this,e=t[0];f.capture=!1,e.addEventListener(a,r(f._press,f),!0),n.each(w.split(" "),function(){e.addEventListener(this,r(f._release,f),!0)}),i.fn.init.call(f),f.bind(["press","release"],u||{})},_press:function(n){var t=this;t.trigger("press"),t.capture&&n.preventDefault()},_release:function(n){var t=this;t.trigger("release"),t.capture&&(n.preventDefault(),t.cancelCapture())},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1}}),et=i.extend({init:function(t){var r=this;i.fn.init.call(r),n.extend(r,t),r.max=0,r.horizontal?(r.measure="width",r.scrollSize="scrollWidth",r.axis="x"):(r.measure="height",r.scrollSize="scrollHeight",r.axis="y")},outOfBounds:function(n){return n>this.max||n<this.min},present:function(){return this.max-this.min},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},update:function(n){var t=this;t.size=t.getSize(),t.total=t.getTotal(),t.min=Math.min(t.max,t.size-t.total),n||t.trigger(s,t)}}),ei=i.extend({init:function(n){var u=this,e=r(u.refresh,u);i.fn.init.call(u),u.x=new et(f({horizontal:!0},n)),u.y=new et(f({horizontal:!1},n)),u.bind(s,n);t.onResize(e)},present:function(){return this.x.present()||this.y.present()},refresh:function(){this.x.update(),this.y.update(),this.trigger(s)}}),ft=i.extend({init:function(n){var t=this;f(t,n),i.fn.init.call(t)},dragMove:function(n){var t=this,i=t.dimension,r=t.axis,u=t.movable,f=u[r]+n;i.present()&&((f<i.min&&n<0||f>i.max&&n>0)&&(n*=t.resistance),u.translateAxis(r,n),t.trigger(s,t))}}),ci=rt.extend({init:function(n){var t=this,i,r,u;f(t,{elastic:!0},n),u=t.elastic?.5:0,t.x=i=new ft({axis:"x",dimension:t.dimensions.x,resistance:u,movable:t.movable}),t.y=r=new ft({axis:"y",dimension:t.dimensions.y,resistance:u,movable:t.movable}),t.drag.bind(["move","end"],{move:function(n){i.dimension.present()||r.dimension.present()?(i.dragMove(n.x.delta),r.dragMove(n.y.delta),n.preventDefault()):t.drag.skip()},end:function(n){n.preventDefault()}})}}),ui=u.transitions.prefix+"Transform",c=Math.round,ut=u.hasHW3D?function(n,t){return"translate3d("+c(n)+"px,"+c(t)+"px,0)"}:function(n,t){return"translate("+c(n)+"px,"+c(t)+"px)"},ti=i.extend({init:function(t){var r=this;i.fn.init.call(r),r.element=n(t),r.x=0,r.y=0,r._saveCoordinates(ut(r.x,r.y))},translateAxis:function(n,t){this[n]+=t,this.refresh()},translate:function(n){this.x+=n.x,this.y+=n.y,this.refresh()},moveAxis:function(n,t){this[n]=t,this.refresh()},moveTo:function(n){f(this,n),this.refresh()},refresh:function(){var n=this,t=ut(n.x,n.y);t!=n.coordinates&&(n.element[0].style[ui]=t,n._saveCoordinates(t),n.trigger(s))},_saveCoordinates:function(n){this.coordinates=n}}),hi=k.extend({init:function(n,t){var i=this,r;k.fn.init.call(i,n,t),r=i.options.group,r in v?v[r].push(i):v[r]=[i]},events:[it,l,at],options:{name:"DropTarget",group:"default"},_trigger:function(n,t){var i=this,r=y[i.options.group];if(r)return i.trigger(n,f({},t.event,{draggable:r}))},_over:function(n){this._trigger(it,n)},_out:function(n){this._trigger(l,n)},_drop:function(n){var t=this,i=y[t.options.group];i&&(i.dropped=!t._trigger(at,n))}}),li=k.extend({init:function(n,i){var u=this;k.fn.init.call(u,n,i),u.drag=new o(u.element,{global:!0,stopPropagation:!0,filter:u.options.filter,threshold:u.options.distance,start:r(u._start,u),move:r(u._drag,u),end:r(u._end,u),cancel:r(u._cancel,u)}),u.destroy=r(u._destroy,u),u.captureEscape=function(n){n.keyCode===t.keys.ESC&&(u._trigger(gt,{event:n}),u.drag.cancel())}},events:[pt,yt,vt,gt],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_start:function(t){var i=this,f=i.options,e=f.container,r=f.hint,u;i.currentTarget=i.drag.target,i.currentTargetOffset=ni(i.currentTarget),r&&(i.hint=n.isFunction(r)?n(r(i.currentTarget)):r,u=ni(i.currentTarget),i.hintOffset=u,i.hint.css({position:"absolute",zIndex:2e4,left:u.left,top:u.top}).appendTo(h.body)),y[f.group]=i,i.dropped=!1,e&&(i.boundaries=kt(e,i.hint)),i._trigger(pt,t)&&(i.drag.cancel(),i.destroy());n(h).on(bt,i.captureEscape)},updateHint:function(t){var r=this,i,o=r.options,u=r.boundaries,e=o.axis,f=r.options.cursorOffset;f?i={left:t.x.location+f.left,top:t.y.location+f.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,i=n.extend({},r.hintOffset)),u&&(i.top=wt(i.top,u.y),i.left=wt(i.left,u.x)),e==="x"?delete i.top:e==="y"&&delete i.left,r.hint.css(i)},_drag:function(n){var t=this;n.preventDefault(),t._withDropTarget(n,function(t){if(!t){e&&(e._trigger(l,n),e=null);return}if(e){if(t.element[0]===e.element[0])return;e._trigger(l,n)}t._trigger(it,n),e=t}),t._trigger(yt,n),t.hint&&t.updateHint(n)},_end:function(n){var t=this;t._withDropTarget(n,function(t){t&&(t._drop(n),e=null)}),t._trigger(vt,n),t._cancel(n.event)},_cancel:function(){var n=this;n.hint&&!n.dropped?n.hint.animate(n.currentTargetOffset,"fast",n.destroy):n.destroy()},_trigger:function(n,t){var i=this;return i.trigger(n,f({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget}))},_withDropTarget:function(n,t){var r=this,i,f,o,h=r.options,e=v[h.group],u=0,s=e&&e.length;if(s){i=ot(n),r.hint&&ri(r.hint,i)&&(r.hint.hide(),i=ot(n),r.hint.show());n:while(i){for(u=0;u<s;u++)if(f=e[u],f.element[0]===i){o=f;break n}i=i.parentNode}t(o)}},_destroy:function(){var t=this;t.hint&&t.hint.remove(),delete y[t.options.group],t.trigger("destroy"),n(h).off(bt,t.captureEscape)}});t.ui.plugin(hi),t.ui.plugin(li),t.Drag=o,t.Tap=fi,t.containerBoundaries=kt,f(t.ui,{Pane:ci,PaneDimensions:ei,Movable:ti})}(jQuery),function(n){var t=window.kendo,tt=t.mobile,p=t.fx,y=tt.ui,i=n.proxy,u=n.extend,f=y.Widget,nt=t.Class,v=t.ui.Movable,g=t.ui.Pane,w=t.ui.PaneDimensions,a=p.Transition,s=p.Animation,b=500,k=.7,d=.93,l=.5,o="km-scroller-release",e="km-scroller-refresh",r="change",c="resize",h="scroll",it=s.extend({init:function(n){var t=this;s.fn.init.call(t),u(t,n,{transition:new a({axis:n.axis,movable:n.movable,onEnd:function(){t._end()}})}),t.tap.bind("press",function(){t.cancel()}),t.drag.bind("end",i(t.start,t)),t.drag.bind("tap",i(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(n){var t=this;t.cancel(),t._moveTo(n)},onEnd:function(){var n=this;n._outOfBounds()?n._snapBack():n._end()},done:function(){return Math.abs(this.velocity)<1},start:function(){var n=this;n.dimension.present()&&(n._outOfBounds()?n._snapBack():(n.velocity=n.drag[n.axis].velocity*16,n.velocity&&(n.tap.captureNext(),s.fn.start.call(n))))},tick:function(){var n=this,i=n.dimension,r=n._outOfBounds()?l:d,u=n.velocity*=r,t=n.movable[n.axis]+u;!n.elastic&&i.outOfBounds(t)&&(t=Math.max(Math.min(t,i.max),i.min),n.velocity=0),n.movable.moveAxis(n.axis,t)},_end:function(){this.tap.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var n=this,t=n.dimension,i=n.movable[n.axis]>t.max?t.max:t.min;n._moveTo(i)},_moveTo:function(n){this.transition.moveTo({location:n,duration:b,ease:a.easeOutExpo})}}),rt=nt.extend({init:function(t){var f=this,o=t.axis==="x",e=n('<div class="km-touch-scrollbar km-'+(o?"horizontal":"vertical")+'-scrollbar" />');u(f,t,{element:e,elementSize:0,movable:new v(e),scrollMovable:t.movable,size:o?"width":"height"}),f.scrollMovable.bind(r,i(f._move,f)),f.container.append(e)},_move:function(){var n=this,u=n.axis,f=n.dimension,r=f.size,o=n.scrollMovable,e=r/f.total,t=Math.round(-o[u]*e),i=Math.round(r*e);t+i>r?i=r-t:t<0&&(i+=t,t=0),n.elementSize!=i&&(n.element.css(n.size,i+"px"),n.elementSize=i),n.movable.moveAxis(u,t)},show:function(){this.element.css({opacity:k,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),ut=f.extend({init:function(i,e){var o=this;f.fn.init.call(o,i,e),i=o.element,i.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var y=i.children().eq(1),p=new t.Tap(i),s=new v(y),l=new w({element:y,container:i,change:function(){o.trigger(c)}}),a=new t.Drag(i,{allowSelection:!0,start:function(){l.refresh(),l.present()?a.capture():a.cancel()}}),b=new g({movable:s,dimensions:l,drag:a,elastic:o.options.elastic});s.bind(r,function(){o.scrollTop=-s.y,o.scrollLeft=-s.x,o.trigger(h,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})}),u(o,{movable:s,dimensions:l,drag:a,pane:b,tap:p,pulled:!1,scrollElement:y,fixedContainer:i.children().first()}),o._initAxis("x"),o._initAxis("y"),l.refresh(),o.options.pullToRefresh&&o._initPullToRefresh();t.onResize(n.proxy(o.reset,o))},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",pullOffset:140,elastic:!0,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:["pull",h,c],setOptions:function(n){var t=this;f.fn.setOptions.call(t,n),n.pullToRefresh&&t._initPullToRefresh()},reset:function(){this.movable.moveTo({x:0,y:0})},scrollTo:function(n,t){this.movable.moveTo({x:n,y:t})},pullHandled:function(){var n=this;n.refreshHint.removeClass(e),n.hintContainer.html(n.pullTemplate({})),n.yinertia.onEnd(),n.xinertia.onEnd()},_initPullToRefresh:function(){var n=this;n.pullTemplate=t.template(n.options.pullTemplate),n.releaseTemplate=t.template(n.options.releaseTemplate),n.refreshTemplate=t.template(n.options.refreshTemplate),n.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-template">'+n.pullTemplate({})+"</span></span>"),n.refreshHint=n.scrollElement.children().first(),n.hintContainer=n.refreshHint.children(".km-template"),n.pane.y.bind("change",i(n._paneChange,n)),n.drag.bind("end",i(n._dragEnd,n))},_dragEnd:function(){var n=this;n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(o).addClass(e),n.hintContainer.html(n.refreshTemplate({})),n.trigger("pull"),n.yinertia.freeze(n.options.pullOffset/2))},_paneChange:function(){var n=this;n.movable.y/l>n.options.pullOffset?n.pulled||(n.pulled=!0,n.refreshHint.removeClass(e).addClass(o),n.hintContainer.html(n.releaseTemplate({}))):n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(o),n.hintContainer.html(n.pullTemplate({})))},_initAxis:function(n){var t=this,i=t.movable,u=t.dimensions[n],e=t.tap,f=new rt({axis:n,movable:i,dimension:u,container:t.element}),o=new it({axis:n,movable:i,tap:e,drag:t.drag,dimension:u,elastic:t.options.elastic,end:function(){f.hide()}});t[n+"inertia"]=o,t.pane[n].bind(r,function(){f.show()})}});y.plugin(ut)}(jQuery),function(n){function u(n){return n.position().top+3}var t=window.kendo,f=t.ui.Widget,r=n.proxy,o=t.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),e=function(i){return n('<div class="k-header k-drag-clue" />').css({width:i.width(),paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),lineHeight:i.height()+"px",paddingTop:i.css("paddingTop"),paddingBottom:i.css("paddingBottom")}).html(i.attr(t.attr("title"))||i.attr(t.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},i=n('<div class="k-grouping-dropclue"/>'),s=/(\[|\]|\$|\.|\:|\+)/g,h=f.extend({init:function(o,s){var h=this,c,y=t.guid(),v=r(h._intializePositions,h),l,a=h._dropCuePositions=[];f.fn.init.call(h,o,s),l=h.options.draggable||new t.ui.Draggable(h.element,{filter:h.options.filter,hint:e,group:y}),c=h.groupContainer=n(h.options.groupContainer,h.element).kendoDropTarget({group:l.options.group,dragenter:function(n){h._canDrag(n.draggable.currentTarget)&&(n.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),i.css({top:u(c),left:0}).appendTo(c))},dragleave:function(n){n.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),i.remove()},drop:function(r){var f=r.draggable.currentTarget,e=f.attr(t.attr("field")),o=f.attr(t.attr("title")),s=h.indicator(e),l=h._dropCuePositions,c=l[l.length-1],u;(f.hasClass("k-group-indicator")||h._canDrag(f))&&(c?(u=h._dropCuePosition(i.offset().left+parseInt(c.element.css("marginLeft"),10)+parseInt(c.element.css("marginRight"),10)),u&&h._canDrop(n(s),u.element,u.left)&&(u.before?u.element.before(s||h.buildIndicator(e,o)):u.element.after(s||h.buildIndicator(e,o)),h._change())):(h.groupContainer.append(h.buildIndicator(e,o)),h._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:e,group:l.options.group,dragcancel:r(h._dragCancel,h),dragstart:function(n){var t=n.currentTarget,r=parseInt(t.css("marginLeft"),10),f=t.position().left-r;v(),i.css({top:u(c),left:f}).appendTo(c),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){h._dragEnd(this)},drag:r(h._drag,h)}).delegate(".k-button","click",function(t){t.preventDefault(),h._removeIndicator(n(this).parent())}).delegate(".k-link","click",function(i){var r=n(this).parent(),u=h.buildIndicator(r.attr(t.attr("field")),r.attr(t.attr("title")),r.attr(t.attr("dir"))=="asc"?"desc":"asc");r.before(u).remove(),h._change(),i.preventDefault()}),l.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){h._dragEnd(this)},dragcancel:r(h._dragCancel,h),dragstart:function(n){var t,i,r;if(!h.options.allowDrag&&!h._canDrag(n.currentTarget)){n.preventDefault();return}v(),a.length?(t=a[a.length-1].element,i=parseInt(t.css("marginRight"),10),r=t.position().left+t.outerWidth()+i):r=0},drag:r(h._drag,h)}),h.dataSource=h.options.dataSource,h.dataSource&&(h._refreshHandler=r(h.refresh,h),h.dataSource.bind("change",h._refreshHandler))},refresh:function(){var i=this,r=i.dataSource;i.groupContainer.empty().append(n.map(r.group()||[],function(n){var r=n.field.replace(s,"\\$1"),u=i.element.find(i.options.filter).filter("["+t.attr("field")+"="+r+"]");return i.buildIndicator(n.field,u.attr(t.attr("title")),n.dir)}).join("")),i._invalidateGroupContainer()},destroy:function(){var n=this;n.dataSource&&n._refreshHandler&&n.dataSource.unbind("change",n._refreshHandler)},options:{name:"Groupable",filter:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(i){var r=n(".k-group-indicator",this.groupContainer);return n.grep(r,function(r){return n(r).attr(t.attr("field"))===i})[0]},buildIndicator:function(n,i,r){return o({field:n,dir:r,title:i,ns:t.ns})},descriptors:function(){var r=this,s=n(".k-group-indicator",r.groupContainer),f,u,e,i,o;return f=r.element.find(r.options.filter).map(function(){var f=n(this),r=f.attr(t.attr("aggregates")),e=f.attr(t.attr("field"));if(r&&r!=="")for(u=r.split(","),r=[],i=0,o=u.length;i<o;i++)r.push({field:e,aggregate:u[i]});return r}).toArray(),n.map(s,function(i){return i=n(i),e=i.attr(t.attr("field")),{field:e,dir:i.attr(t.attr("dir")),aggregates:f||[]}})},_removeIndicator:function(n){var t=this;n.remove(),t._invalidateGroupContainer(),t._change()},_change:function(){var n=this;n.dataSource&&n.dataSource.group(n.descriptors())},_dropCuePosition:function(t){var u=this._dropCuePositions;if(i.is(":visible")&&u.length!==0){t=Math.ceil(t);var r=u[u.length-1],f=r.right,e=parseInt(r.element.css("marginLeft"),10),o=parseInt(r.element.css("marginRight"),10);return t>=f?t={left:r.element.position().left+r.element.outerWidth()+o,element:r.element,before:!1}:(t=n.grep(u,function(n){return n.left<=t&&t<=n.right})[0],t&&(t={left:t.element.position().left-e,element:t.element,before:!0})),t}},_drag:function(n){var u=t.touchLocation(n),r=this._dropCuePosition(u.x);r&&i.css({left:r.left})},_canDrag:function(n){return n.attr(t.attr("groupable"))!="false"&&(n.hasClass("k-group-indicator")||!this.indicator(n.attr(t.attr("field"))))},_canDrop:function(n,t,i){var r=n.next();return n[0]!==t[0]&&(!r[0]||t[0]!==r[0]||i>r.position().left)},_dragEnd:function(i){var r=this,f=i.currentTarget.attr(t.attr("field")),u=r.indicator(f);i!==r.options.draggable&&!i.dropped&&u&&r._removeIndicator(n(u)),r._dragCancel()},_dragCancel:function(){i.remove(),this._dropCuePositions=[]},_intializePositions:function(){var i=this,r=n(".k-group-indicator",i.groupContainer),t;i._dropCuePositions=n.map(r,function(i){return i=n(i),t=i.offset().left,{left:parseInt(t,10),right:parseInt(t+i.outerWidth(),10),element:i}})},_invalidateGroupContainer:function(){var n=this.groupContainer;n.is(":empty")&&n.html(this.options.messages.empty)}});t.ui.plugin(h)}(jQuery),function(n){function i(t,i){t=n(t),i?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var t=window.kendo,r=t.ui.Widget,u="change",f="k-reorderable",e=r.extend({init:function(e,o){var s=this,h,c=t.guid()+"-reorderable";r.fn.init.call(s,e,o),e=s.element.addClass(f),o=s.options,h=o.draggable||new t.ui.Draggable(e,{group:c,filter:o.filter,hint:o.hint}),s.reorderDropCue=n('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),e.find(h.options.filter).kendoDropTarget({group:h.options.group,dragenter:function(n){if(s._draggable){var t=this.element,r=t[0]===s._draggable[0];i(n.draggable.hint,r),r||s.reorderDropCue.css({height:t.outerHeight(),top:e.offset().top,left:t.offset().left+(t.index()>s._draggable.index()?t.outerWidth():0)}).appendTo(document.body)}},dragleave:function(n){i(n.draggable.hint,!0),s.reorderDropCue.remove()},drop:function(){if(s._draggable){var i=s._draggable[0],t=this.element[0],n;i!==t&&(n=e.find(h.options.filter),s.trigger(u,{element:s._draggable,oldIndex:n.index(i),newIndex:n.index(t)}))}}}),h.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){s.reorderDropCue.remove(),s._draggable=null},dragend:function(){s.reorderDropCue.remove(),s._draggable=null},dragstart:function(n){s._draggable=n.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[u]});t.ui.plugin(e)}(jQuery),function(n,t){var f=window.kendo,e=f.ui,o=e.Widget,r=n.proxy,u=n.isFunction,s=n.extend,i="horizontal",h="vertical",c="start",l="resize",a="resizeend",v=o.extend({init:function(n,t){var u=this;o.fn.init.call(u,n,t),u.orientation=u.options.orientation.toLowerCase()!=h?i:h,u._positionMouse=u.orientation==i?"x":"y",u._position=u.orientation==i?"left":"top",u._sizingDom=u.orientation==i?"outerWidth":"outerHeight",new e.Draggable(n,{distance:0,filter:t.handle,drag:r(u._resize,u),dragstart:r(u._start,u),dragend:r(u._stop,u)})},events:[l,a,c],options:{name:"Resizable",orientation:i},_max:function(n){var i=this,f=i.hint?i.hint[i._sizingDom]():0,r=i.options.max;return u(r)?r(n):r!==t?i._initialElementPosition+r-f:r},_min:function(n){var r=this,i=r.options.min;return u(i)?i(n):i!==t?r._initialElementPosition+i:i},_start:function(t){var i=this,r=i.options.hint,f=n(t.currentTarget);i._initialMousePosition=t[i._positionMouse].location,i._initialElementPosition=f.position()[i._position],r&&(i.hint=u(r)?n(r(f)):r,i.hint.css({position:"absolute"}).css(i._position,i._initialElementPosition).appendTo(i.element)),i.trigger(c,t),i._maxPosition=i._max(t),i._minPosition=i._min(t),n(document.body).css("cursor",f.css("cursor"))},_resize:function(i){var r=this,h=n(i.currentTarget),f=r._maxPosition,e=r._minPosition,o=r._initialElementPosition+(i[r._positionMouse].location-r._initialMousePosition),u;u=e!==t?Math.max(e,o):o,r.position=u=f!==t?Math.min(f,u):u,r.hint&&r.hint.toggleClass(r.options.invalidClass||"",u==f||u==e).css(r._position,u),r.trigger(l,s(i,{position:u}))},_stop:function(t){var i=this;i.hint&&i.hint.remove(),i.trigger(a,s(t,{position:i.position})),n(document.body).css("cursor","")}});f.ui.plugin(v)}(jQuery),function(n,t){var f=window.kendo,e=n.proxy,i="data-dir",r="asc",o="single",s="data-field",u="desc",h=".k-link",c=f.ui.Widget,l=c.extend({init:function(n,t){var i=this,r;c.fn.init.call(i,n,t),i.dataSource=i.options.dataSource.bind("change",e(i.refresh,i)),r=i.element.find(h),r[0]||(r=i.element.wrapInner('<a class="k-link" href="#"/>').find(h)),i.link=r,i.element.click(e(i._click,i))},options:{name:"Sortable",mode:o,allowUnsort:!0},refresh:function(){var f=this,c=f.dataSource.sort()||[],e,l,o,h,t=f.element,a=t.attr(s);for(t.removeAttr(i),e=0,l=c.length;e<l;e++)o=c[e],a==o.field&&t.attr(i,o.dir);h=t.attr(i),t.find(".k-i-arrow-n,.k-i-arrow-s").remove(),h===r?n('<span class="k-icon k-i-arrow-n" />').appendTo(f.link):h===u&&n('<span class="k-icon k-i-arrow-s" />').appendTo(f.link)},_click:function(n){var c=this,v=c.element,l=v.attr(s),e=v.attr(i),a=c.options,f=c.dataSource.sort()||[],h,y;if(e=e===r?u:e===u&&a.allowUnsort?t:r,a.mode===o)f=[{field:l,dir:e}];else if(a.mode==="multiple"){for(h=0,y=f.length;h<y;h++)if(f[h].field===l){f.splice(h,1);break}f.push({field:l,dir:e})}n.preventDefault(),c.dataSource.sort(f)}});f.ui.plugin(l)}(jQuery),function(n){var u=window.kendo,e=u.support.touch,v=u.ui.Widget,f=n.proxy,o=e?"touchend":"mouseup",y=e?"touchstart":"mousedown",s=e?"touchmove":"mousemove",t="k-state-selected",i="k-state-selecting",h="k-selectable",c="selectstart",l=n(document),a="change",r="k-state-unselecting",p=v.extend({init:function(t,i){var r=this;v.fn.init.call(r,t,i),r._marquee=n("<div class='k-marquee'></div>"),r._lastActive=null,r._moveDelegate=f(r._move,r),r._upDelegate=f(r._up,r),r.element.addClass(h),r.element.delegate("."+h+" "+r.options.filter,y,f(r._down,r))},events:[a],options:{name:"Selectable",filter:">*",multiple:!1},_collide:function(n,t){var i=n.offset(),r={left:i.left,top:i.top,right:i.left+n.outerWidth(),bottom:i.top+n.outerHeight()};return!(r.left>t.right||r.right<t.left||r.top>t.bottom||r.bottom<t.top)},_position:function(n){var e=this._originalPosition,t=e.x,i=e.y,r=n.pageX,u=n.pageY,f;return t>r&&(f=r,r=t,t=f),i>u&&(f=u,u=i,i=f),{top:i,right:r,left:t,bottom:u}},_down:function(f){var e=this,p,y=f.ctrlKey,v=f.shiftKey,a=!e.options.multiple;(e._downTarget=n(f.currentTarget),e._shiftPressed=v,e._downTarget.closest("."+h)[0]===e.element[0])&&(l.unbind(o,e._upDelegate).bind(o,e._upDelegate),e._originalPosition={x:f.pageX,y:f.pageY},!a&&n(f.target).is(":not(:input, a)")&&(l.unbind(s,e._moveDelegate).bind(s,e._moveDelegate).unbind(c,!1).bind(c,!1),u.support.touch||f.preventDefault()),a||(n("body").append(e._marquee),e._marquee.css({left:f.clientX+1,top:f.clientY+1,width:0,height:0})),p=e._downTarget.hasClass(t),!a&&(y||v)||e.element.find(e.options.filter+"."+t).not(e._downTarget).removeClass(t),y&&(e._lastActive=e._downTarget),p&&(y||v)?(e._downTarget.addClass(t),v||e._downTarget.addClass(r)):u.support.touch&&a||(e._downTarget.addClass(i),a&&e._downTarget.hasClass(t)&&e._downTarget.removeClass(i)))},_move:function(u){var o=this,e=o._position(u),s=u.ctrlKey,f,h;o._marquee.css({left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}),o.element.find(o.options.filter).each(function(){f=n(this),h=o._collide(f,e),h?f.hasClass(t)?o._downTarget[0]!==f[0]&&s&&f.removeClass(t).addClass(r):f.hasClass(i)||f.hasClass(r)||f.addClass(i):f.hasClass(i)?f.removeClass(i):s&&f.hasClass(r)&&f.removeClass(r).addClass(t)})},_up:function(){var n=this,f=n.options,e=!f.multiple;l.unbind(c,!1).unbind(s,n._moveDelegate).unbind(o,n._upDelegate),e||n._marquee.remove(),u.support.touch&&e&&n._downTarget.addClass(i),e||n._shiftPressed!==!0?(n.element.find(f.filter+"."+r).removeClass(r).removeClass(t),n.value(n.element.find(f.filter+"."+i))):n.selectRange(n._firstSelectee(),n._downTarget),n._shiftPressed||(n._lastActive=n._downTarget),n._downTarget=null,n._shiftPressed=!1},value:function(n){var i=this,r=f(i._selectElement,i);if(n){n.each(function(){r(this)}),i.trigger(a,{});return}return i.element.find(i.options.filter+"."+t)},_firstSelectee:function(){var n=this,t;return n._lastActive!==null?n._lastActive:(t=n.value(),t.length>0?t[0]:n.element.find(n.options.filter))},_selectElement:function(r){var u=n(r),f=this.trigger("select",{element:r});u.removeClass(i),f||u.addClass(t)},clear:function(){var n=this;n.element.find(n.options.filter+"."+t).removeClass(t)},selectRange:function(i,r){var u=this,e=!1,o=f(u._selectElement,u),s;i=n(i)[0],r=n(r)[0],u.element.find(u.options.filter).each(function(){if(s=n(this),e)o(this),e=this!==r;else if(this===i)e=i!==r,o(this);else if(this===r){var u=i;i=r,r=u,e=!0,o(this)}else s.removeClass(t)}),u.trigger(a,{})}});u.ui.plugin(p)}(jQuery),function(n,t){function s(n,t,r,u){return n({idx:t,text:r,ns:i.ns,numeric:u})}function f(n,t){return nt({className:n.substring(1),text:t})}function e(n,t,r,u){n.find(t).parent().attr(i.attr("page"),r).toggleClass("k-state-disabled",u)}function d(n,t){e(n,a,1,t<=1)}function k(n,t){e(n,c,Math.max(1,t-1),t<=1)}function b(n,t,i){e(n,h,Math.min(i,t+1),t>=i)}function w(n,t,i){e(n,l,i,t>=i)}var i=window.kendo,p=i.ui,y=p.Widget,u=n.proxy,a=".k-i-seek-w",l=".k-i-seek-e",c=".k-i-arrow-w",h=".k-i-arrow-e",r="change",o="click",v="keydown",g="disabled",nt=i.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),tt=y.extend({init:function(t,e){var s=this,g,p;if(y.fn.init.call(s,t,e),e=s.options,s.dataSource=e.dataSource,s.linkTemplate=i.template(s.options.linkTemplate),s.selectTemplate=i.template(s.options.selectTemplate),g=s.page(),p=s.totalPages(),s._refreshHandler=u(s.refresh,s),s.dataSource.bind(r,s._refreshHandler),e.previousNext&&(s.element.find(a).length||(s.element.append(f(a,e.messages.first)),d(s.element,g,p)),s.element.find(c).length||(s.element.append(f(c,e.messages.previous)),k(s.element,g,p))),e.numeric&&(s.list=s.element.find(".k-pager-numbers"),s.list.length||(s.list=n('<ul class="k-pager-numbers k-reset" />').appendTo(s.element))),e.input){s.element.find(".k-pager-input").length||s.element.append('<span class="k-pager-input k-label">'+e.messages.page+'<input class="k-textbox">'+i.format(e.messages.of,p)+"</span>"),s._keydownHandler=u(s._keydown,s);s.element.on(v,".k-pager-input input",s._keydownHandler)}if(e.previousNext&&(s.element.find(h).length||(s.element.append(f(h,e.messages.next)),b(s.element,g,p)),s.element.find(l).length||(s.element.append(f(l,e.messages.last)),w(s.element,g,p))),e.pageSizes){s.element.find(".k-pager-sizes").length||n('<span class="k-pager-sizes k-label"><select/>'+e.messages.itemsPerPage+"</span>").appendTo(s.element).find("select").html(n.map(n.isArray(e.pageSizes)?e.pageSizes:[5,10,20],function(n){return"<option>"+n+"</option>"}).join("")).end().appendTo(s.element),s.element.find(".k-pager-sizes select").val(s.pageSize()),i.ui.DropDownList&&s.element.find(".k-pager-sizes select").kendoDropDownList(),s._changeHandler=u(s._change,s);s.element.on(r,".k-pager-sizes select",s._changeHandler)}if(e.refresh){s.element.find(".k-pager-refresh").length||s.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+e.messages.refresh+'"><span class="k-icon k-i-refresh">'+e.messages.refresh+"</span></a>"),s._reloadHandler=u(s._refreshClick,s);s.element.on(o,".k-pager-refresh",s._reloadHandler)}e.info&&(s.element.find(".k-pager-info").length||s.element.append('<span class="k-pager-info k-label" />')),s._clickHandler=u(s._click,s);s.element.on(o,"a",s._clickHandler);e.autoBind&&s.refresh()},destroy:function(){var n=this;n.element.off(o,"a",n._clickHandler),n.element.off(v,".k-pager-input input",n._keydownHandler),n.element.off(r,".k-pager-sizes select",n._changeHandler),n.element.off(o,".k-pager-refresh",n._reloadHandler),n.dataSource.unbind(r,n._refreshHandler)},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},refresh:function(){var n=this,f,l,o=1,u="",a,t=n.page(),r=n.options,v=n.pageSize(),h=n.dataSource.total(),e=n.totalPages(),y=n.linkTemplate,c=r.buttonCount;if(r.numeric){for(t>c&&(a=t%c,o=a===0?t-c+1:t-a+1),l=Math.min(o+c-1,e),o>1&&(u+=s(y,o-1,"...",!1)),f=o;f<=l;f++)u+=s(f==t?n.selectTemplate:y,f,f,!0);l<e&&(u+=s(y,f,"...",!1)),u===""&&(u=n.selectTemplate({text:0})),n.list.html(u)}r.info&&(u=h>0?i.format(r.messages.display,(t-1)*v+1,Math.min(t*v,h),h):r.messages.empty,n.element.find(".k-pager-info").html(u)),r.input&&n.element.find(".k-pager-input").html(n.options.messages.page+'<input class="k-textbox">'+i.format(r.messages.of,e)).find("input").val(t).attr(g,h<1).toggleClass("k-state-disabled",h<1),r.previousNext&&(d(n.element,t,e),k(n.element,t,e),b(n.element,t,e),w(n.element,t,e)),r.pageSizes&&n.element.find(".k-pager-sizes select").val(v)},_keydown:function(n){if(n.keyCode===i.keys.ENTER){var r=this.element.find(".k-pager-input").find("input"),t=parseInt(r.val(),10);(isNaN(t)||t<1||t>this.totalPages())&&(t=this.page()),r.val(t),this.page(t)}},_refreshClick:function(n){n.preventDefault(),this.dataSource.read()},_change:function(n){var t=parseInt(n.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var r=n(t.currentTarget);t.preventDefault(),r.is(".k-state-disabled")||this.page(r.attr(i.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(n){if(n!==t)this.dataSource.page(n),this.trigger(r,{index:n});else return this.dataSource.total()>0?this.dataSource.page():0}});p.plugin(tt)}(jQuery),function(n){function p(t,i){return t===i||n.contains(t,i)}var t=window.kendo,at=t.ui,lt=at.Widget,o=t.support,ct=o.touch,r=t.getOffset,yt=n.browser.msie&&n.browser.version<9,v="open",a="close",ht="deactivate",st="activate",u="center",ot="left",et="right",ft="top",h="bottom",ut="absolute",it="hidden",f="body",w="location",l="position",vt="visible",s="fitted",nt="effects",d="k-state-active",e="k-state-border",b=".k-picker-wrap, .k-dropdown-wrap, .k-link",c=ct?"touchstart":"mousedown",tt=n(document),k=n(window),g=n(document.documentElement),y="resize scroll",pt=o.transitions.css,wt=pt+"transform",i=n.extend,rt=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],bt=lt.extend({init:function(r,u){var o=this,s;lt.fn.init.call(o,r,u),r=o.element,u=o.options,o.collisions=u.collision?u.collision.split(" "):[],o.collisions.length===1&&o.collisions.push(o.collisions[0]),s=n(o.options.anchor).closest(".k-popup,.k-group"),u.appendTo=n(n(u.appendTo)[0]||s[0]||f),o.element.hide().addClass("k-popup k-group k-reset").css({position:ut}).appendTo(u.appendTo).bind("mouseenter mouseleave",function(n){o._hovered=n.type==="mouseenter"}),o.wrapper=n(),u.animation===!1&&(u.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}}),i(u.animation.open,{complete:function(){o.wrapper.css({overflow:vt}),o.trigger(st)}}),i(u.animation.close,{complete:function(){o.wrapper.hide();var h=o.wrapper.data(w),c=n(u.anchor),i,s;h&&o.wrapper.css(h),u.anchor!=f&&(i=c.hasClass(e+"-down")?"down":"up",s=e+"-"+i,c.removeClass(s).children(b).removeClass(d).removeClass(s),r.removeClass(e+"-"+t.directions[i].reverse)),o._closing=!1,o.trigger(ht)}}),o._mousedownProxy=function(n){o._mousedown(n)},o._currentWidth=tt.width(),o._resizeProxy=function(n){o._resize(n)},u.toggleTarget&&n(u.toggleTarget).bind(u.toggleEvent,n.proxy(o.toggle,o))},events:[v,st,a,ht],options:{name:"Popup",toggleEvent:"click",origin:h+" "+ot,position:ft+" "+ot,anchor:f,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:!0,duration:200,show:!0},close:{duration:100,show:!1,hide:!0}}},open:function(r,u){var s=this,lt={isFixed:!isNaN(parseInt(u,10)),x:r,y:u},a=s.element,p=s.options,w="down",h,tt,ot=n(p.anchor),st,et,ht;if(!s.visible()){for(et=0;et<rt.length;et++)st=rt[et],a.css(st,ot.css(st));if(a.data("animating")||s.trigger(v))return;g.unbind(c,s._mousedownProxy).bind(c,s._mousedownProxy),ct||k.unbind(y,s._resizeProxy).bind(y,s._resizeProxy),s.wrapper=tt=t.wrap(a).css({overflow:it,display:"block",position:ut}),o.mobileOS.android&&tt.add(ot).css(wt,"translatez(0)"),tt.css(l),p.appendTo==f&&tt.css(ft,"-10000px"),h=i(!0,{},p.animation.open),s.flipped=s._position(lt),h.effects=t.parseEffects(h.effects,s.flipped),w=h.effects.slideIn?h.effects.slideIn.direction:w,p.anchor!=f&&(ht=e+"-"+w,a.addClass(e+"-"+t.directions[w].reverse),ot.addClass(ht).children(b).addClass(d).addClass(ht)),a.data(nt,h.effects).kendoStop(!0).kendoAnimate(h)}},toggle:function(){var n=this;n[n.visible()?a:v]()},visible:function(){return this.element.is(":"+vt)},close:function(){var r=this,o=r.options,u,f,e;if(r.visible()){if(r._closing||r.trigger(a))return;r.element.find(".k-popup").each(function(){var i=n(this),t=i.data("kendoPopup");t&&t.close()}),g.unbind(c,r._mousedownProxy),k.unbind(y,r._resizeProxy),u=i(!0,{},o.animation.close),f=r.element.data(nt),e=u.effects,r.wrapper=t.wrap(r.element).css({overflow:it}),!e&&!t.size(e)&&f&&t.size(f)&&(u.effects=f,u.reverse=!0),r._closing=!0,r.element.kendoStop(!0).kendoAnimate(u)}},_resize:function(){var n=this,t;if(yt){if(t=tt.width(),t==n._currentWidth)return;n._currentWidth=t}n._hovered||n.close()},_mousedown:function(i){var r=this,s=r.element[0],f=r.options,h=n(f.anchor)[0],e=f.toggleTarget,u=t.eventTarget(i),o=n(u).closest(".k-popup")[0];o&&o!==r.element[0]||p(s,u)||p(h,u)||e&&p(n(e)[0],u)||r.close()},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r},_flip:function(n,t,i,r,f,e,o){var s=0;return o=o||t,e!==f&&e!==u&&f!==u&&(n+o>r&&(s+=-(i+t)),n+s<0&&(s+=i+t)),s},_position:function(t){var e=this,ft=e.element,u=e.wrapper,k=e.options,h=n(k.viewport),ut=n(h).offset(),b=n(k.anchor),d=k.origin.toLowerCase().split(" "),tt=k.position.toLowerCase().split(" "),p=e.collisions,y=o.zoomLevel(),it=10002,rt=b.parents().filter(u.siblings()),g,v,f,nt;rt[0]&&(g=Number(n(rt).css("zIndex")),g&&(it=g+1)),u.css("zIndex",it),t&&t.isFixed?u.css({left:t.x,top:t.y}):u.css(e._align(d,tt));var a=r(u,l),c=r(u),et=b.offsetParent().parent(".k-animation-container");return et.length&&et.data(s)&&(a=r(u,l),c=r(u)),h[0]===window?(c.top-=window.pageYOffset||document.documentElement.scrollTop||0,c.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(c.top-=ut.top,c.left-=ut.left),e.wrapper.data(w)||u.data(w,i({},a)),v=i({},c),f=i({},a),p[0]==="fit"&&(f.top+=e._fit(v.top,u.outerHeight(),h.height()/y)),p[1]==="fit"&&(f.left+=e._fit(v.left,u.outerWidth(),h.width()/y)),f.left!=a.left||f.top!=a.top?u.data(s,!0):u.removeData(s),nt=i({},f),p[0]==="flip"&&(f.top+=e._flip(v.top,ft.outerHeight(),b.outerHeight(),h.height()/y,d[0],tt[0],u.outerHeight())),p[1]==="flip"&&(f.left+=e._flip(v.left,ft.outerWidth(),b.outerWidth(),h.width()/y,d[1],tt[1],u.outerWidth())),u.css(f),f.left!=nt.left||f.top!=nt.top},_align:function(t,i){var c=this,w=c.wrapper,l=n(c.options.anchor),a=t[0],v=t[1],y=i[0],p=i[1],tt=r(l),b=n(c.options.appendTo),s,k=w.outerWidth(),d=w.outerHeight(),g=l.outerWidth(),nt=l.outerHeight(),f=tt.top,e=tt.left,o=Math.round;return b[0]!=document.body&&(s=r(b),f-=s.top,e-=s.left),a===h&&(f+=nt),a===u&&(f+=o(nt/2)),y===h&&(f-=d),y===u&&(f-=o(d/2)),v===et&&(e+=g),v===u&&(e+=o(g/2)),p===et&&(e-=k),p===u&&(e-=o(k/2)),{top:f,left:e}}});at.plugin(bt)}(jQuery),function(n,t){function l(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return l(n,i),n.filters?n.filters.length:n.field!=i}))}var i=window.kendo,s=i.ui,d=s.Widget,u=i.keys,v=i.support.touch,nt="id",c="li",it=v?"touchend":"click",r="change",h="character",k="k-state-focused",a="k-state-hover",g="k-loading",b="open",w="close",e="select",p="selected",y=n.extend,f=n.proxy,rt=n.browser.msie&&parseInt(n.browser.version,10)<9,tt=/"/g,o=d.extend({init:function(t,r){var u=this,e,o;d.fn.init.call(u,t,r),u._template(),u.ul=n('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:i.support.touch?"":"auto"}).delegate(c,"mouseenter",function(){n(this).addClass(a)}).delegate(c,"mouseleave",function(){n(this).removeClass(a)}).delegate(c,it,f(u._click,u)),u.list=o=n("<div class='k-list-container'/>").append(u.ul).mousedown(function(n){n.preventDefault()}),e=u.element.attr(nt),e&&o.attr(nt,e+"-list"),n(document.documentElement).bind("mousedown",f(u._mousedown,u))},items:function(){return this.ul[0].children},current:function(n){var i=this;if(n!==t)i._current&&i._current.removeClass(k),n&&(n.addClass(k),i._scroll(n)),i._current=n;else return i._current},dataItem:function(n){var i=this;return n===t&&(n=i.selectedIndex),i._data()[n]},_accessors:function(){var n=this,r=n.element,t=n.options,u=i.getter,f=r.attr(i.attr("text-field")),e=r.attr(i.attr("value-field"));f&&(t.dataTextField=f),e&&(t.dataValueField=e),n._text=u(t.dataTextField),n._value=u(t.dataValueField)},_blur:function(){var n=this;n._change(),n.close()},_change:function(){var n=this,i=n.selectedIndex,f=n.value(),u;f!==n._old?u=!0:i!==t&&i!==n._oldIndex&&(u=!0),u&&(n._old=f,n._oldIndex=i,n.trigger(r),n.element.trigger(r))},_click:function(t){t.isDefaultPrevented()||(this._accept(n(t.currentTarget)),t.type==="touchend"&&t.preventDefault())},_data:function(){return this.dataSource.view()},_enable:function(){var n=this,t=n.options;n.element.prop("disabled")&&(t.enable=!1),n.enable(t.enable)},_focus:function(n){var t=this;if(t.popup.visible()&&n&&t.trigger(e,{item:n})){t.close();return}t._select(n),t._blur()},_height:function(n){if(n){var t=this,i=t.list,u=t.popup.visible(),r=t.options.height;i=i.add(i.parent(".k-animation-container")).show().height(t.ul[0].scrollHeight>r?r:"auto"),u||i.hide()}},_adjustListWidth:function(){var i=this.list,r=i[0].style.width,u=this.wrapper,t,f;return r||(t=window.getComputedStyle?window.getComputedStyle(u[0],null):0,f=t?parseFloat(t.width):u.outerWidth(),t&&(n.browser.mozilla||n.browser.msie)&&(f+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)),r=f-(i.outerWidth()-i.width())),i.css({fontFamily:u.css("font-family"),width:r}),!0},_popup:function(){var n=this,u=n.list,t=n.options,f=n.wrapper,r=!1;n.popup=new s.Popup(u,y({},t.popup,{anchor:f,open:function(t){r||(r=n._adjustListWidth()),n.trigger(b)&&t.preventDefault()},close:function(t){n.trigger(w)&&t.preventDefault()},animation:t.animation})),n._touchScroller=i.touchScroller(n.popup.element)},_makeUnselectable:function(){rt&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){v||n(t.currentTarget).toggleClass(a,t.type==="mouseenter")},_toggle:function(n){var i=this;n=n!==t?n:!i.popup.visible(),v||i._focused[0]===document.activeElement||i._focused.focus(),i[n?b:w]()},_scroll:function(n){if(n){n[0]&&(n=n[0]);var t=this.ul[0],i=n.offsetTop,e=n.offsetHeight,r=t.scrollTop,u=t.clientHeight,f=i+e;t.scrollTop=r>i?i:f>r+u?f-u:r}},_template:function(){var t=this,n=t.options,r=n.template,u=n.dataSource;t.element.is(e)&&t.element[0].length&&(u||(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value")),r?(r=i.template(r),t.template=function(n){return'<li unselectable="on" class="k-item">'+r(n)+"</li>"}):t.template=i.template('<li unselectable="on" class="k-item">${data'+(n.dataTextField?".":"")+n.dataTextField+"}</li>",{useWithBlock:!1})}});y(o,{caret:function(n){var t=n.ownerDocument.selection;return t?Math.abs(t.createRange().moveStart(h,-n.value.length)):n.selectionStart},selectText:function(n,t,i){try{if(n.createTextRange){n.focus();var r=n.createTextRange();r.collapse(!0),r.moveStart(h,t),r.moveEnd(h,i-t),r.select()}else n.setSelectionRange(t,i)}catch(u){}},inArray:function(n,t){var i,r,u=t.children;if(!n||n.parentNode!==t)return-1;for(i=0,r=u.length;i<r;i++)if(n===u[i])return i;return-1}}),i.ui.List=o,s.Select=o.extend({init:function(n,t){o.fn.init.call(this,n,t)},setDataSource:function(n){this.options.dataSource=n,this._dataSource(),this.options.autoBind&&this._selectItem()},close:function(){this.popup.close()},_accessor:function(n,i){var r=this.element,o=r.is(e),u,f;if(r=r[0],n===t)return o?(f=r.selectedIndex,f>-1&&(u=r.options[f],u&&(n=u.value))):n=r.value,n;o?r.selectedIndex=i:r.value=n},_hideBusy:function(){var n=this;clearTimeout(n._busy),n._arrow.removeClass(g),n._busy=null},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n._arrow.addClass(g)},100))},_dataSource:function(){var t=this,s=t.element,o=t.options,u=o.dataSource||{},h;u=n.isArray(u)?{data:u}:u,s.is(e)&&(h=s[0].selectedIndex,h>-1&&(o.index=h),u.select=s,u.fields=[{field:o.dataTextField},{field:o.dataValueField}]),t.dataSource&&t._refreshHandler?t.dataSource.unbind(r,t._refreshHandler).unbind("requestStart",t._requestStartHandler):(t._refreshHandler=f(t.refresh,t),t._requestStartHandler=f(t._showBusy,t)),t.dataSource=i.data.DataSource.create(u).bind(r,t._refreshHandler).bind("requestStart",t._requestStartHandler)},_index:function(n){for(var u=this,f=u._data(),r,i=0,e=f.length;i<e;i++)if(r=u._value(f[i]),r===t&&(r=u._text(f[i])),r==n)return i;return-1},_get:function(t){var r=this,u=r._data(),i,f;if(typeof t=="function")for(i=0,f=u.length;i<f;i++)if(t(u[i])){t=i;break}if(typeof t=="number"){if(t<0)return n();t=n(r.ul[0].children[t])}return t&&t.nodeType&&(t=n(t)),t},_move:function(n){var t=this,i=n.keyCode,o=t.ul[0],r=t._current,e=i===u.DOWN,f;return i===u.UP||e?(n.altKey?t.toggle(e):e?(t._select(r?r[0].nextSibling:o.firstChild),n.preventDefault()):(t._select(r?r[0].previousSibling:o.lastChild),n.preventDefault()),f=!0):i===u.ENTER||i===u.TAB?(t.popup.visible()&&n.preventDefault(),t._accept(r),f=!0):i===u.ESC&&(t.close(),f=!0),f},_valueOnFetch:function(n){var t=this;if(!t.ul[0].firstChild&&!t._fetch)return t.dataSource.one(r,function(){t._fetch=!0,t.value(n)}).fetch(),!0;t._fetch=!1},_options:function(n,i){var e=this,o=e.element,l=o[0].selectedIndex,a=n.length,s="",u,h,c,r,f=0;for(i&&(s=i,f=1);f<a;f++)u="<option",h=n[f],c=e._text(h),r=e._value(h),r!==t&&(r+="",r.indexOf('"')!==-1&&(r=r.replace(tt,"&quot;")),u+=' value="'+r+'"'),u+=">",c!==t&&(u+=c),u+="</option>",s+=u;o.html(s),o[0].selectedIndex=l},_reset:function(){var n=this,t=n.element;t.closest("form").bind("reset",function(){setTimeout(function(){n.value(t[0].value)})})},_cascade:function(){var t=this,f=t.options,h=f.cascadeFrom,i,u,e,o,c,s;if(h){if(i=n("#"+h).data("kendo"+f.name),!i)return;s=t.dataSource,e=i.options.dataValueField,o=function(){t.value(""),t.enable(!1)},c=function(){var n=t.value();n?(t.value(n),t.selectedIndex==-1&&t.value("")):t.select(f.index),t.trigger(p),t.enable()},u=function(){var u=i.dataItem(),f=u?i._value(u):null,n,t;f?(n=s.filter()||{},l(n,e),t=n.filters||[],t.push({field:e,operator:"eq",value:f}),s.one(r,c).filter(t)):o()};i.bind("cascade",o).bind(r,function(){u(),t.trigger("cascade")}).one(p,function(){u()});u()}}}),s.Select.removeFiltersForField=l}(jQuery),function(n,t){function y(n){for(var t=0,i,f=n.min,e=n.max,r=n.start,o=n.setter,s=n.build,h=n.cells||12,c=n.perRow||4,l=n.content||oi,a=n.empty||ci,u=n.html||'<table class="k-content k-meta-view" cellspacing="0"><tbody><tr>';t<h;t++)t>0&&t%c==0&&(u+="</tr><tr>"),i=s(r,t),u+=v(r,f,e)?l(i):a(i),o(r,1);return u+"</tr></tbody></table>"}function p(n,t,i){var f=n.getFullYear(),r=t.getFullYear(),e=r,u=0;return i&&(r=r-r%i,e=r-r%i+i-1),f>e?u=1:f<r&&(u=-1),u}function a(n,t,r){var u=new i;return u=new i(u.getFullYear(),u.getMonth(),u.getDate()),n&&(u=new i(n)),t>u?u=new i(t):r<u&&(u=new i(r)),u}function v(n,t,i){return+n>=+t&&+n<=+i}function yt(n,t){return n.slice(t).concat(n.slice(0,t))}function pt(n,t,r){t=t instanceof i?t.getFullYear():n.getFullYear()+r*t,n.setFullYear(t)}function wt(t){t.stopImmediatePropagation(),n(this).toggleClass(hi,t.type=="mouseenter")}function si(n){n.preventDefault()}function it(n){return ii(n).calendars.standard}function tt(n){var i=f[n.start],r=f[n.depth],u=ii(n.culture);n.format=ri(n.format||u.calendars.standard.patterns.d),isNaN(i)&&(i=0,n.start=s),(r===t||r>i)&&(n.depth=s)}function bt(n){ai&&n.find("*").attr("unselectable","on")}function ei(n,t){for(var i=0,r=t.length;i<r;i++)if(n===+t[i])return!0;return!1}function fi(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1}var r=window.kendo,gt=r.ui,b=gt.Widget,dt=r.parseDate,ri=r._extractFormat,l=r.template,ii=r.getCulture,g=r.support.touch,ni=r.support.transitions,ti=ni?ni.css+"transform-origin":"",oi=l('<td#=data.cssClass#><a class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),ci=l("<td>&nbsp;</td>",{useWithBlock:!1}),ai=n.browser.msie&&parseInt(n.browser.version,10)<9,e=g?"touchend":"click",at="min",vt="left",k="slide",s="month",kt="century",w="change",ct="navigate",rt="value",hi="k-state-hover",o="k-state-disabled",c="k-other-month",et=' class="'+c+'"',ot="k-nav-today",st="td:has(.k-link)",lt=g?"touchstart":"mouseenter",ht=g?"touchend":"mouseleave",ui=6e4,ut=864e5,nt="_prevArrow",d="_nextArrow",h=n.proxy,ft=n.extend,i=Date,f={month:0,year:1,decade:2,century:3},li=b.extend({init:function(n,t){var u=this,o;b.fn.init.call(u,n,t),n=u.wrapper=u.element,t=u.options,t.url=window.unescape(t.url),n.addClass("k-widget k-calendar"),u._templates(),u._header(),u._footer(u.footer),n.delegate(st,lt+" "+ht,wt).delegate(st,e,h(u._click,u)),o=t.value,tt(t),u._index=f[t.start],u._current=new i(a(o,t.min,t.max)),u.value(o),r.notify(u)},options:{name:"Calendar",value:null,min:new i(1900,0,1),max:new i(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:s,depth:s,animation:{horizontal:{effects:k,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[w,ct],setOptions:function(n){tt(n),b.fn.setOptions.call(this,n)},min:function(n){return this._option(at,n)},max:function(n){return this._option("max",n)},navigateToPast:function(){this._navigate(nt,-1)},navigateToFuture:function(){this._navigate(d,1)},navigateUp:function(){var n=this,t=n._index;n._title.hasClass(o)||n.navigate(n._current,++t)},navigateDown:function(n){var t=this,i=t._index,r=t.options.depth;if(n){if(i===f[r]){+t._value!=+n&&(t.value(n),t.trigger(w));return}t.navigate(n,--i)}},navigate:function(r,e){e=isNaN(e)?f[e]:e;var s=this,h=s.options,w=h.culture,l=h.min,v=h.max,b=s._title,k=s._table,g=s._value,tt=s._current,it=r&&+r>+tt,rt=e!==t&&e!==s._index,y,c,p;r?s._current=r=new i(a(r,l,v)):r=tt,e===t?e=s._index:s._index=e,s._view=c=u.views[e],p=c.compare,b.toggleClass(o,e===f[kt]),s[nt].toggleClass(o,p(r,l)<1),s[d].toggleClass(o,p(r,v)>-1),(!k||s._changeView)&&(b.html(c.title(r,w)),s._table=y=n(c.content(ft({min:l,max:v,date:r,url:h.url,dates:h.dates,format:h.format,culture:w},s[c.name]))),bt(y),s._animate({from:k,to:y,vertical:rt,future:it}),s.trigger(ct)),e===f[h.depth]&&g&&s._class("k-state-selected",c.toDateString(g)),s._changeView=!0},value:function(n){var r=this,f=r._view,u=r.options,e=u.min,o=u.max;if(n===t)return r._value;n=dt(n,u.format,u.culture),n!==null&&(n=new i(n),v(n,e,o)||(n=null)),r._value=n,r._changeView=!n||f&&f.compare(n,r._current)!==0,r.navigate(n)},_animate:function(n){var i=this,t=n.from,r=n.to;t?t.parent().data("animating")?(t.parent().kendoStop(!0,!0).remove(),t.remove(),r.insertAfter(i.element[0].firstChild)):t.is(":visible")&&i.options.animation!==!1?i[n.vertical?"_vertical":"_horizontal"](t,r,n.future):(r.insertAfter(t),t.remove()):r.insertAfter(i.element[0].firstChild)},_horizontal:function(n,t,i){var e=this,r=e.options.animation.horizontal,f=r.effects,u=n.outerWidth();f&&f.indexOf(k)!=-1&&(n.add(t).css({width:u}),n.wrap("<div/>"),n.parent().css({position:"relative",width:u*2,float:vt,left:i?0:-u}),t[i?"insertAfter":"insertBefore"](n),ft(r,{effects:k+":"+(i?vt:"right"),complete:function(){n.remove(),t.unwrap()}}),n.parent().kendoStop(!0,!0).kendoAnimate(r))},_vertical:function(n,t){var r=this,f=r.options.animation.vertical,e=f.effects,u,i;e&&e.indexOf("zoom")!=-1&&(t.css({position:"absolute",top:n.prev().outerHeight(),left:0}).insertBefore(n),ti&&(u=r._cellByDate(r._view.toDateString(r._current)),i=u.position(),i=i.left+parseInt(u.width()/2,10)+"px "+(i.top+parseInt(u.height()/2,10)+"px"),t.css(ti,i)),n.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){n.remove(),t.css({position:"static",top:0,left:0})}}),t.kendoStop(!0,!0).kendoAnimate(f))},_cellByDate:function(t){return this._table.find("td:not(."+c+")").filter(function(){return n(this.firstChild).attr(r.attr(rt))===t})},_class:function(t,i){this._table.find("td:not(."+c+")").removeClass(t).filter(function(){return n(this.firstChild).attr(r.attr(rt))===i}).addClass(t)},_click:function(t){var f=this,s=f.options,e=f._current,o=n(t.currentTarget.firstChild),u=o.attr(r.attr(rt)).split("/");u=new i(u[0],u[1],u[2]),o[0].href.indexOf("#")!=-1&&t.preventDefault(),o.parent().hasClass(c)?e=u:f._view.setDate(e,u),f.navigateDown(a(e,s.min,s.max))},_focus:function(n){var t=this,i=t._view;i.compare(n,t._current)!==0?t.navigate(n):t._current=n,t._class("k-state-focused",i.toDateString(n))},_footer:function(t){var u=this,e=u.element,o=new i,f=e.find(".k-footer");if(!t){u._toggle(!1),f.hide();return}f[0]||(f=n('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(e)),u._today=f.show().find(".k-link").html(t(o)).attr("title",r.toString(o,"D",u.options.culture)),u._toggle()},_header:function(){var n=this,i=n.element,t;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" class="k-link k-nav-fast"></a><a href="#" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),t=i.find(".k-link").bind(lt+" "+ht,wt).click(!1),n._title=t.eq(1).bind(e,h(n.navigateUp,n)),n[nt]=t.eq(0).bind(e,h(n.navigateToPast,n)),n[d]=t.eq(2).bind(e,h(n.navigateToFuture,n))},_navigate:function(n,t){var r=this,e=r._index+1,f=new i(r._current);n=r[n],n.hasClass(o)||(e>3?f.setFullYear(f.getFullYear()+100*t):u.views[e].setDate(f,t),r.navigate(f))},_option:function(n,r){var u=this,e=u.options,s=+u._value,o,f;if(r===t)return e[n];(r=dt(r,e.format,e.culture),r)&&(e[n]=new i(r),f=u._view.compare(r,u._current),n===at?(o=+r>s,f=f>-1):(o=s>+r,f=f<1),o?u.value(null):f&&u.navigate(),u._toggle())},_toggle:function(n){var r=this,f=r.options,u=r._today;n===t&&(n=v(new i,f.min,f.max)),u&&(u.unbind(e),n?u.addClass(ot).removeClass(o).bind(e,h(r._todayClick,r)):u.removeClass(ot).addClass(o).bind(e,si))},_todayClick:function(n){var t=this,u=f[t.options.depth],r=new i;n.preventDefault(),t._view.compare(t._current,r)===0&&t._index==u&&(t._changeView=!1),t._value=r,t.navigate(r,u),t.trigger(w)},_templates:function(){var n=this,t=n.options,i=t.footer,u=t.month,f=u.content,e=u.empty;n.month={content:l('<td#=data.cssClass#><a class="k-link#=data.linkClass#" href="#=data.url#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:l("<td>"+(e||"&nbsp;")+"</td>",{useWithBlock:!!e})},i!==!1&&(n.footer=l(i||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}))}}),u;gt.plugin(li),u={firstDayOfMonth:function(n){return new i(n.getFullYear(),n.getMonth(),1)},firstVisibleDay:function(n,t){t=t||r.culture().calendar;for(var e=t.firstDay,f=new i(n.getFullYear(),n.getMonth(),0,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());f.getDay()!=e;)u.setTime(f,-1*ut);return f},setTime:function(n,t){var u=n.getTimezoneOffset(),r=new i(n.getTime()+t),f=r.getTimezoneOffset()-u;n.setTime(r.getTime()+f*ui)},views:[{name:s,title:function(n,t){return it(t).months.names[n.getMonth()]+" "+n.getFullYear()},content:function(n){for(var f=this,e=0,o=n.min,s=n.max,h=n.date,l=n.dates,tt=n.format,v=n.culture,k=n.url,et=k&&l[0],p=it(v),d=p.firstDay,w=p.days,g=yt(w.names,d),nt=yt(w.namesShort,d),a=u.firstVisibleDay(h,p),rt=f.first(h),ut=f.last(h),ft=f.toDateString,t=new i,b='<table class="k-content" cellspacing="0"><thead><tr>';e<7;e++)b+='<th scope="col" title="'+g[e]+'">'+nt[e]+"</th>";return t=+new i(t.getFullYear(),t.getMonth(),t.getDate()),y({cells:42,perRow:7,html:b+="</tr></thead><tbody><tr>",start:new i(a.getFullYear(),a.getMonth(),a.getDate()),min:new i(o.getFullYear(),o.getMonth(),o.getDate()),max:new i(s.getFullYear(),s.getMonth(),s.getDate()),content:n.content,empty:n.empty,setter:f.setDate,build:function(n){var i=[],u=n.getDay(),f="",e="#";return(n<rt||n>ut)&&i.push(c),+n===t&&i.push("k-today"),(u===0||u===6)&&i.push("k-weekend"),et&&ei(+n,l)&&(e=k.replace("{0}",r.toString(n,tt,v)),f=" k-action-link"),{date:n,dates:l,ns:r.ns,title:r.toString(n,"D",v),value:n.getDate(),dateString:ft(n),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:f,url:e}}})},first:function(n){return u.firstDayOfMonth(n)},last:function(n){return new i(n.getFullYear(),n.getMonth()+1,0)},compare:function(n,t){var i=n.getMonth(),r=n.getFullYear(),u=t.getMonth(),f=t.getFullYear();return r>f?1:r<f?-1:i==u?0:i>u?1:-1},setDate:function(n,t){t instanceof i?n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):u.setTime(n,t*ut)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/"+n.getDate()}},{name:"year",title:function(n){return n.getFullYear()},content:function(n){var f=it(n.culture).months.namesAbbr,e=this.toDateString,t=n.min,u=n.max;return y({min:new i(t.getFullYear(),t.getMonth(),1),max:new i(u.getFullYear(),u.getMonth(),1),start:new i(n.date.getFullYear(),0,1),setter:this.setDate,build:function(n){return{value:f[n.getMonth()],ns:r.ns,dateString:e(n),cssClass:""}}})},first:function(n){return new i(n.getFullYear(),0,n.getDate())},last:function(n){return new i(n.getFullYear(),11,n.getDate())},compare:function(n,t){return p(n,t)},setDate:function(n,t){if(t instanceof i)n.setFullYear(t.getFullYear(),t.getMonth(),n.getDate());else{var r=n.getMonth()+t;n.setMonth(r),r>11&&(r-=12),r>0&&n.getMonth()!=r&&n.setDate(0)}},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/1"}},{name:"decade",title:function(n){var t=n.getFullYear();return t=t-t%10,t+"-"+(t+9)},content:function(n){var t=n.date.getFullYear(),u=this.toDateString;return y({start:new i(t-t%10-1,0,1),min:new i(n.min.getFullYear(),0,1),max:new i(n.max.getFullYear(),0,1),setter:this.setDate,build:function(n,t){return{value:n.getFullYear(),ns:r.ns,dateString:u(n),cssClass:t===0||t==11?et:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%10,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%10+9,n.getMonth(),n.getDate())},compare:function(n,t){return p(n,t,10)},setDate:function(n,t){pt(n,t,1)},toDateString:function(n){return n.getFullYear()+"/0/1"}},{name:kt,title:function(n){var t=n.getFullYear();return t=t-t%100,t+"-"+(t+99)},content:function(n){var f=n.date.getFullYear(),t=n.min.getFullYear(),u=n.max.getFullYear(),e=this.toDateString;return t=t-t%10,u=u-u%10,u-t<10&&(u=t+9),y({start:new i(f-f%100-10,0,1),min:new i(t,0,1),max:new i(u,0,1),setter:this.setDate,build:function(n,t){var i=n.getFullYear();return{value:i+" - "+(i+9),ns:r.ns,dateString:e(n),cssClass:t===0||t==11?et:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%100,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%100+99,n.getMonth(),n.getDate())},compare:function(n,t){return p(n,t,100)},setDate:function(n,t){pt(n,t,10)},toDateString:function(n){var t=n.getFullYear();return t-t%10+"/0/1"}}]},u.isEqualDatePart=fi,u.makeUnselectable=bt,u.restrictValue=a,u.isInRange=v,u.normalize=tt,u.viewsEnum=f,r.calendar=u}(jQuery),function(n,t){function p(t){var i=t.parseFormats;o.normalize(t),i=n.isArray(i)?i:[i],i.splice(0,0,t.format),t.parseFormats=i}function ft(n){n.preventDefault()}var r=window.kendo,v=r.ui,u=r.support.touch,k=v.Widget,st=r.parseDate,i=r.keys,nt=r.template,et="<div />",at="<span />",y=u?"touchend":"click",ut=y+".datepicker",tt="open",it="close",s="change",lt="navigate",l="dateView",g="disabled",rt="k-state-default",d="k-state-focused",yt="k-state-selected",vt="k-state-disabled",dt="k-state-hover",wt="mouseenter mouseleave",h=u?"touchstart":"mousedown",ct="min",pt="max",ht="month",ot="first",o=r.calendar,bt=o.isInRange,b=o.restrictValue,kt=o.isEqualDatePart,w=n.extend,e=n.proxy,f=Date,c=function(t){var i=this,u=document.body,r=a.sharedCalendar;r||(r=a.sharedCalendar=new v.Calendar(n(et).hide().appendTo(u)),o.makeUnselectable(r.element)),i.calendar=r,i.options=t=t||{},i.popup=new v.Popup(n(et).addClass("k-calendar-container").appendTo(u),w(t.popup,t,{name:"Popup"})),i._templates(),i.value(t.value)},a;c.prototype={_calendar:function(){var n=this,f=n.popup,i=n.options,t=n.calendar,r=t.element;r.data(l)!==n&&(r.appendTo(f.element).data(l,n).undelegate(ut).delegate("td:has(.k-link)",ut,e(n._click,n)).unbind(h).bind(h,ft).show(),t.unbind(s).bind(s,i),u||t.unbind(lt).bind(lt,e(n._navigate,n)),t.month=n.month,t.options.depth=i.depth,t.options.culture=i.culture,t._footer(n.footer),t.min(i.min),t.max(i.max),t.navigate(n._value,i.start),n.value(n._value))},open:function(){var n=this;n._calendar(),n.popup.open()},close:function(){this.popup.close()},min:function(n){this._option(ct,n)},max:function(n){this._option(pt,n)},toggle:function(){var n=this;n[n.popup.visible()?it:tt]()},move:function(n){var u=this,c=u.options,o=new f(u._current),e=u.calendar,l=e._index,a=e._view,t=n.keyCode,s,r,h;if(t==i.ESC){u.close();return}if(n.altKey){t==i.DOWN?(u.open(),r=!0):t==i.UP&&(u.close(),r=!0);return}u.popup.visible()&&!e._table.parent().data("animating")&&(n.ctrlKey?t==i.RIGHT?(e.navigateToFuture(),r=!0):t==i.LEFT?(e.navigateToPast(),r=!0):t==i.UP?(e.navigateUp(),r=!0):t==i.DOWN&&(u._navigateDown(),r=!0):(t==i.RIGHT?(s=1,r=!0):t==i.LEFT?(s=-1,r=!0):t==i.UP?(s=l===0?-7:-4,r=!0):t==i.DOWN?(s=l===0?7:4,r=!0):t==i.ENTER?(u._navigateDown(),r=!0):t==i.HOME||t==i.END?(h=t==i.HOME?ot:"last",o=a[h](o),r=!0):t==i.PAGEUP?(r=!0,e.navigateToPast()):t==i.PAGEDOWN&&(r=!0,e.navigateToFuture()),(s||h)&&(h||a.setDate(o,s),u._current=o=b(o,c.min,c.max),e._focus(o))),r&&n.preventDefault())},value:function(n){var t=this,i=t.calendar,r=t.options;t._value=n,t._current=new f(b(n,r.min,r.max)),i.element.data(l)===t&&(i._focus(t._current),i.value(n))},_click:function(n){n.currentTarget.className.indexOf(yt)!==-1&&this.close()},_navigate:function(){var t=this,n=t.calendar;t._current=new f(n._current),n._focus(n._current)},_navigateDown:function(){var u=this,t=u.calendar,e=t._current,i=t._table.find("."+d),n=i.children(":"+ot).attr(r.attr("value")).split("/");if(n=new f(n[0],n[1],n[2]),!i[0]||i.hasClass(yt)){u.close();return}t._view.setDate(e,n),t.navigateDown(e)},_option:function(n,t){var i=this,u=i.options,r=i.calendar;u[n]=t,r.element.data(l)===i&&r[n](t)},_templates:function(){var n=this,t=n.options,i=t.footer,u=t.month||{},f=u.content,e=u.empty;n.month={content:nt('<td#=data.cssClass#><a class="k-link" href="\\#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:nt("<td>"+(e||"&nbsp;")+"</td>",{useWithBlock:!!e})},i!==!1&&(n.footer=nt(i||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}))}},c.normalize=p,r.DateView=c,a=k.extend({init:function(n,t){var i=this;k.fn.init.call(i,n,t),n=i.element,t=i.options,p(t),i._wrapper(),i.dateView=new c(w({},t,{anchor:i.wrapper,change:function(){i._change(this.value()),i.close()},close:function(n){i.trigger(it)&&n.preventDefault()},open:function(n){i.trigger(tt)&&n.preventDefault()}})),i._icon(),u||(n[0].type="text"),n.addClass("k-input").bind({keydown:e(i._keydown,i),focus:function(){i._inputWrapper.addClass(d)},blur:e(i._blur,i)}).closest("form").bind("reset",function(){i.value(n[0].defaultValue)}),i.enable(!n.is("[disabled]")),i.value(t.value||i.element.val()),r.notify(i)},events:[tt,it,s],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:ht,depth:ht,animation:{},month:{}},setOptions:function(n){var t=this;k.fn.setOptions.call(t,n),p(t.options),w(t.dateView.options,t.options)},enable:function(n){var t=this,u=t._dateIcon.unbind(y+" "+h),i=t._inputWrapper.unbind(wt),r=t.element;n===!1?(i.removeClass(rt).addClass(vt),r.attr(g,g)):(i.addClass(rt).removeClass(vt).bind(wt,t._toggleHover),r.removeAttr(g),u.bind(y,e(t._click,t)).bind(h,ft))},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(ct,n)},max:function(n){return this._option(pt,n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n)},_toggleHover:function(t){u||n(t.currentTarget).toggleClass(dt,t.type==="mouseenter")},_blur:function(){var n=this;n.close(),n._change(n.element.val()),n._inputWrapper.removeClass(d)},_click:function(){var n=this,t=n.element;n.dateView.toggle(),u||t[0]===document.activeElement||t.focus()},_change:function(n){var t=this;n=t._update(n),+t._old!=+n&&(t._old=n,t.trigger(s),t.element.trigger(s))},_keydown:function(n){var t=this,r=t.dateView;r.popup.visible()||n.keyCode!=i.ENTER?r.move(n):t._change(t.element.val())},_icon:function(){var r=this,i=r.element,t;t=i.next("span.k-select"),t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(i)),r._dateIcon=t},_option:function(n,i){var u=this,r=u.options;if(i===t)return r[n];(i=st(i,r.parseFormats,r.culture),i)&&(r[n]=new f(i),u.dateView[n](i))},_update:function(n){var u=this,i=u.options,f=i.min,e=i.max,t=st(n,i.parseFormats,i.culture);return+t==+u._value?t:(t!==null&&kt(t,f)?t=b(t,f,e):bt(t,f,e)||(t=null),u._value=t,u.dateView.value(t),u.element.val(t?r.toString(t,i.format,i.culture):n),t)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-datepicker"),t[0]||(t=i.wrap(at).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(at).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),r.wrapper=t.addClass("k-widget k-datepicker k-header"),r._inputWrapper=n(t[0].firstChild)}}),v.plugin(a)}(jQuery),function(n,t){function f(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function g(n,t,i){return t.split(i)[f(n,t,i)]}function d(n,t,i,r){var u=t.split(r);return u.splice(f(n,t,r),1,i),r&&u[u.length-1]!==""&&u.push(""),u.join(r)}function tt(n){var t=n.value.length;l(n,t,t)}var u=window.kendo,a=u.support,v=a.placeholder,y=u.ui,i=u.keys,nt=u.data.DataSource,r=y.List,s="change",c="k-state-default",h="disabled",w="k-state-focused",b="k-state-selected",k="k-state-disabled",it="k-state-hover",p="mouseenter mouseleave",e=r.caret,l=r.selectText,o=n.proxy,rt=r.extend({init:function(t,i){var f=this,e;i=n.isArray(i)?{dataSource:i}:i,r.fn.init.call(f,t,i),t=f.element,i=f.options,i.placeholder=i.placeholder||t.attr("placeholder"),v&&t.attr("placeholder",i.placeholder),f._wrapper(),f._accessors(),f._dataSource(),t[0].type="text",e=f.wrapper,t.attr("autocomplete","off").addClass("k-input").bind({keydown:o(f._keydown,f),paste:o(f._search,f),focus:function(){f._prev=f.value(),f._placeholder(!1),e.addClass(w),clearTimeout(f._bluring)},blur:function(){f._change(),f._placeholder(),e.removeClass(w)}}),f._enable(),f._popup(),f._old=f.value(),f._placeholder(),u.notify(f)},options:{name:"AutoComplete",suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n.dataSource.unbind(s,n._refreshHandler):n._refreshHandler=o(n.refresh,n),n.dataSource=nt.create(n.options.dataSource).bind(s,n._refreshHandler)},setDataSource:function(n){this.options.dataSource=n,this._dataSource()},events:["open","close",s,"select","dataBinding","dataBound"],setOptions:function(n){r.fn.setOptions.call(this,n),this._template(),this._accessors()},enable:function(n){var t=this,i=t.element,r=t.wrapper;n===!1?(r.removeClass(c).addClass(k).unbind(p),i.attr(h,h)):(r.removeClass(k).addClass(c).bind(p,t._toggleHover),i.removeAttr(h))},close:function(){var n=this;n._current=null,n.popup.close()},refresh:function(){var t=this,i=t.ul[0],o=t.popup,f=t.options,e=t._data(),r=e.length;t.trigger("dataBinding"),i.innerHTML=u.render(t.template,e),t._height(r),r&&(f.highlightFirst&&t.current(n(i.firstChild)),f.suggest&&t.suggest(n(i.firstChild))),t._open&&(t._open=!1,o[r?"open":"close"]()),t._touchScroller&&t._touchScroller.reset(),t._makeUnselectable(),t.trigger("dataBound")},select:function(n){this._select(n)},search:function(n){var t=this,i=t.options,u=i.ignoreCase,f=i.separator,r;n=n||t.value(),t._current=null,clearTimeout(t._typing),f&&(n=g(e(t.element[0]),n,f)),r=n.length,r?r>=t.options.minLength&&(t._open=!0,t.dataSource.filter({value:u?n.toLowerCase():n,operator:i.filter,field:i.dataTextField,ignoreCase:u})):t.popup.close()},suggest:function(n){var o=this,v=o._last,s=o.value(),y=o.element[0],h=e(y),c=o.options.separator,a=s.split(c),p=f(h,s,c),w=h,u;if(v==i.BACKSPACE||v==i.DELETE){o._last=t;return}n=n||"",typeof n!="string"&&(u=r.inArray(n[0],o.ul[0]),n=u>-1?o._text(o._data()[u]):""),h<=0&&(h=s.toLowerCase().indexOf(n.toLowerCase())+1),u=s.substring(0,h).lastIndexOf(c),u=u>-1?h-(u+c.length):h,s=a[p].substring(0,u),n&&(u=n.toLowerCase().indexOf(s.toLowerCase()),u>-1&&(n=n.substring(u+s.length),w=h+n.length,s+=n),c&&a[a.length-1]!==""&&a.push("")),a[p]=s,o.value(a.join(c||"")),l(y,h,w)},value:function(n){var i=this,r=i.element[0];if(n!==t)r.value=n,i._placeholder();else return(n=r.value,r.className.indexOf("k-readonly")>-1)?n===i.options.placeholder?"":n:n},_accept:function(n){var t=this;t._focus(n),tt(t.element[0])},_keydown:function(t){var r=this,e=r.ul[0],u=t.keyCode,f=r._current,o=r.popup.visible();r._last=u,u===i.DOWN?(o&&r._move(f?f.next():n(e.firstChild)),t.preventDefault()):u===i.UP?(o&&r._move(f?f.prev():n(e.lastChild)),t.preventDefault()):u===i.ENTER||u===i.TAB?(r.popup.visible()&&t.preventDefault(),r._accept(f)):u===i.ESC?r.close():r._search()},_move:function(n){var t=this;n=n[0]?n:null,t.current(n),t.options.suggest&&t.suggest(n)},_placeholder:function(n){if(!v){var u=this,f=u.element,r=u.options.placeholder,i;if(r){if(i=f.val(),n===t&&(n=!i),n||(r=i!==r?i:""),i===u._old&&!n)return;f.toggleClass("k-readonly",n).val(r)}}},_search:function(){var n=this;clearTimeout(n._typing),n._typing=setTimeout(function(){n._prev!==n.value()&&(n._prev=n.value(),n.search())},n.options.delay)},_select:function(t){var i=this,s=i.options.separator,f=i._data(),u,o;t=n(t),t[0]&&!t.hasClass(b)&&(o=r.inArray(t[0],i.ul[0]),o>-1&&(f=f[o],u=i._text(f),s&&(u=d(e(i.element[0]),i.value(),u,s)),i.value(u),i.current(t.addClass(b))))},_toggleHover:function(t){a.touch||n(t.currentTarget).toggleClass(it,t.type==="mouseenter")},_wrapper:function(){var t=this,i=t.element,r=i[0],n;n=i.parent(),n.is("span.k-widget")||(n=i.wrap("<span />").parent()),n[0].style.cssText=r.style.cssText,i.css({width:"100%",height:r.style.height}),t._focused=t.element,t.wrapper=n.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});y.plugin(rt)}(jQuery),function(n,t){function p(n,t,i){for(var u=0,f=t.length-1,r;u<f;++u)r=t[u],r in n||(n[r]={}),n=n[r];n[t[f]]=i}var i=window.kendo,e=i.ui,r=e.Select,u=i.support.mobileOS,f="disabled",l="change",v="select",a="k-state-focused",w="k-state-default",c="k-state-disabled",o="k-state-selected",h="tabIndex",s="mouseenter mouseleave",y=n.proxy,b=r.extend({init:function(u,f){var e=this,c=f&&f.index,s,h,o;f=n.isArray(f)?{dataSource:f}:f,r.fn.init.call(e,u,f),f=e.options,u=e.element.focus(function(){e.wrapper.focus()}),e._reset(),e._word="",e._wrapper(),e._span(),e._popup(),e._mobile(),e._accessors(),e._dataSource(),e._enable(),e._cascade(),e.selectedIndex=-1,c!==t&&(f.index=c),f.autoBind?e._selectItem():(o=f.text,o||(s=e._optionLabelText(f.optionLabel),h=s&&f.index===0,u.is(v)?o=h?s:u.children(":selected").text():!u[0].value&&h&&(o=s)),e.text(o)),i.notify(e)},options:{name:"DropDownList",enable:!0,index:0,autoBind:!0,text:"",template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",l,"select","dataBinding","dataBound"],setOptions:function(n){r.fn.setOptions.call(this,n),this._template(),this._accessors()},enable:function(n){var t=this,r=t.element,u=t.wrapper.unbind(".dropdownlist"),i=t._inputWrapper.unbind(s);n===!1?(r.attr(f,f),i.removeClass(w).addClass(c)):(r.removeAttr(f,f),i.addClass(w).removeClass(c).bind(s,t._toggleHover),u.bind({"click.dropdownlist":function(n){n.preventDefault(),t.toggle()},"keydown.dropdownlist":y(t._keydown,t),"keypress.dropdownlist":y(t._keypress,t),"focusin.dropdownlist":function(){i.addClass(a)},"focusout.dropdownlist":function(){t._blur(),i.removeClass(a)}}))},open:function(){var n=this;n.ul[0].firstChild?(n.popup.open(),n._scroll(n._current)):(n._open=!0,n._selectItem())},toggle:function(n){this._toggle(n)},refresh:function(){var n=this,r=n._data(),u=r.length,t=n.options.optionLabel;n.trigger("dataBinding"),n._current&&n.current(null),n.ul[0].innerHTML=i.render(n.template,r),n._height(u),n.element.is(v)&&(t&&u&&(t=n._optionLabelText(t),t='<option value="">'+t+"</option>"),n._options(r,t)),n._open&&(n._open=!1,n.toggle(!!u)),n._hideBusy(),n._makeUnselectable(),n.trigger("dataBound")},search:function(n){if(n){var i=this,r=i.options.ignoreCase;r&&(n=n.toLowerCase()),i._select(function(u){var f=i._text(u);if(f!==t)return f=f+"",r&&(f=f.toLowerCase()),f.indexOf(n)===0})}},select:function(n){var i=this;if(n===t)return i.selectedIndex;i._select(n),i._old=i._accessor(),i._oldIndex=i.selectedIndex},text:function(n){var i=this.span;if(n!==t)i.text(n);else return i.text()},value:function(n){var i=this,r;if(n!==t){if(n!==null&&(n=n.toString()),n&&i._valueOnFetch(n))return;r=i._index(n),i.select(r>-1?r:0)}else return i._accessor()},_selectItem:function(){var n=this;n.dataSource.one(l,function(){var t=n.options.value||n.value();t?n.value(t):n.select(n.options.index),n.trigger("selected")}).fetch()},_accept:function(n){this._focus(n)},_optionLabelText:function(){var t=this.options,i=t.dataTextField,n=t.optionLabel;return n&&i&&typeof n=="object"?this._text(n):n},_data:function(){var s=this,f=s.options,t=f.optionLabel,r=f.dataTextField,e=f.dataValueField,u=s.dataSource.view(),h=u.length,n=t,o=0;if(t&&h){for(typeof t=="object"?n=t:r&&(n={},r=r.split("."),e=e.split("."),p(n,e,""),p(n,r,t)),n=new i.data.ObservableArray([n]);o<h;o++)n.push(u[o]);u=n}return u},_keydown:function(n){var t=this,r=n.keyCode,u=i.keys,f=t.ul[0];t._move(n),r===u.HOME?(n.preventDefault(),t._select(f.firstChild)):r===u.END&&(n.preventDefault(),t._select(f.lastChild))},_keypress:function(n){var t=this;setTimeout(function(){t._word+=String.fromCharCode(n.keyCode||n.charCode),t._search()})},_popup:function(){r.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=i.wrap(this.element).addClass("km-popup")})},_search:function(){var n=this;clearTimeout(n._typing),n._typing=setTimeout(function(){n._word=""},n.options.delay),n.search(n._word)},_select:function(n){var i=this,h=i._current,u=i._data(),f,s,r;n=i._get(n),n&&n[0]&&!n.hasClass(o)&&(h&&h.removeClass(o),r=e.List.inArray(n[0],i.ul[0]),r>-1&&(u=u[r],s=i._text(u),f=i._value(u),i.selectedIndex=r,i.text(s),i._accessor(f!==t?f:s,r),i.current(n.addClass(o))))},_mobile:function(){var t=this,n=t.popup,i=n.element.parents(".km-root").eq(0);i.length&&u&&(n.options.animation.open.effects=u.android||u.meego?"fadeIn":u.ios?"slideIn:up":n.options.animation.open.effects)},_span:function(){var t=this,i=t.wrapper,u=".k-input",r;r=i.find(u),r[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span class="k-select"><span class="k-icon k-i-arrow-s">select</span></span></span>').append(t.element),r=i.find(u)),t.span=r,t._inputWrapper=n(i[0].firstChild),t._arrow=i.find(".k-icon").mousedown(function(n){n.preventDefault()})},_wrapper:function(){var i=this,t=i.element,r=t[0],u=t.attr(h),n;n=t.parent(),n.is("span.k-widget")||(n=t.wrap("<span />").parent()),n.attr(h,u||0),n[0].style.cssText=r.style.cssText,t.hide(),i._focused=i.wrapper=n.attr("unselectable","on").addClass("k-widget k-dropdown k-header").addClass(r.className)}});e.plugin(b)}(jQuery),function(n,t){var i=window.kendo,c=i.ui,u=c.List,r=c.Select,g=i.support,k=g.placeholder,v=r.removeFiltersForField,l=i.keys,a=g.touch?"touchend":"click",s="disabled",h="change",y="k-state-default",p="k-state-disabled",w="k-state-focused",b="mousedown",o="select",d="k-state-selected",e="filter",f="accept",nt="rebind",tt="mouseenter mouseleave",it=null,rt=n.proxy,ut=r.extend({init:function(t,u){var f=this,s,e;u=n.isArray(u)?{dataSource:u}:u,r.fn.init.call(f,t,u),u=f.options,t=f.element.focus(function(){f.input.focus()}),u.placeholder=u.placeholder||t.attr("placeholder"),f._reset(),f._wrapper(),f._input(),f._popup(),f._accessors(),f._dataSource(),f._enable(),f._cascade(),s=f._inputWrapper,f.input.bind({keydown:rt(f._keydown,f),focus:function(){s.addClass(w),f._placeholder(!1)},blur:function(){s.removeClass(w),clearTimeout(f._typing),f.text(f.text()),f._placeholder(),f._blur()}}),f._oldIndex=f.selectedIndex=-1,f._old=f.value(),u.autoBind?f._selectItem():(e=u.text,!e&&t.is(o)&&(e=t.children(":selected").text()),e&&f.input.val(e)),e||f._placeholder(),i.notify(f)},options:{name:"ComboBox",enable:!0,index:-1,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",h,"select","dataBinding","dataBound"],setOptions:function(n){r.fn.setOptions.call(this,n),this._template(),this._accessors()},current:function(n){var u=this,i=u._current;if(n===t)return i;i&&i.removeClass(d),r.fn.current.call(u,n)},enable:function(n){var t=this,i=t.input.add(t.element),r=t._inputWrapper.unbind(tt),u=t._arrow.parent().unbind(a+" "+b);n===!1?(r.removeClass(y).addClass(p),i.attr(s,s)):(r.removeClass(p).addClass(y).bind(tt,t._toggleHover),i.removeAttr(s),u.bind(a,function(){t.toggle()}).bind(b,function(n){n.preventDefault()}))},open:function(){var n=this,t=n.dataSource.options.serverFiltering;n.popup.visible()||(n.ul[0].firstChild&&(n._state!==f||t)?(n.popup.open(),n._scroll(n._current)):(n._open=!0,n._state=nt,n._selectItem()))},refresh:function(){var t=this,r=t.ul[0],e=t.options,s=t.value(),u=t._data(),f=u.length;t.trigger("dataBinding"),r.innerHTML=i.render(t.template,u),t._height(f),t.element.is(o)&&(t._options(u),s&&t._state===nt&&(t._state="",t.value(s))),f&&(e.highlightFirst&&t.current(n(r.firstChild)),e.suggest&&t.input.val()&&t.suggest(n(r.firstChild))),t._open&&(t._open=!1,t.toggle(!!f)),t._touchScroller&&t._touchScroller.reset(),t._makeUnselectable(),t._hideBusy(),t.trigger("dataBound")},select:function(n){var i=this;if(n===t)return i.selectedIndex;i._select(n),i._old=i._accessor(),i._oldIndex=i.selectedIndex},search:function(n){n=typeof n=="string"?n:this.text();var t=this,h=n.length,i=t.options,f=i.ignoreCase,o=i.filter,s=i.dataTextField,r,u;clearTimeout(t._typing),h>=i.minLength&&(o==="none"?t._filter(n):(t._open=!0,t._state=e,u=t.dataSource.filter()||{},v(u,s),r=u.filters||[],r.push({value:f?n.toLowerCase():n,field:s,operator:o,ignoreCase:f}),t.dataSource.filter(r)))},suggest:function(n){var r=this,o=r.input[0],i=r.text(),e=u.caret(o),s=r._last,f;if(s==l.BACKSPACE||s==l.DELETE){r._last=t;return}n=n||"",typeof n!="string"&&(f=u.inArray(n[0],r.ul[0]),n=f>-1?r._text(r.dataSource.view()[f]):""),e<=0&&(e=i.toLowerCase().indexOf(n.toLowerCase())+1),n?(f=n.toLowerCase().indexOf(i.toLowerCase()),f>-1&&(i+=n.substring(f+i.length))):i=i.substring(0,e),i.length===e&&n||(o.value=i,u.selectText(o,e,i.length))},text:function(n){n=n===null?"":n;var i=this,f=i._text,e=i.input[0],o=i.options.ignoreCase,r=n,u;if(n!==t){if(u=i.dataItem(),u&&f(u)===n)return;o&&(r=r.toLowerCase()),i._select(function(n){return n=f(n),o&&(n=(n+"").toLowerCase()),n===r}),i.selectedIndex<0&&(i._custom(n),e.value=n)}else return e.value},toggle:function(n){var t=this;t._toggle(n)},value:function(n){var i=this,r;if(n!==t){if(n!==null&&(n=n.toString()),n&&i._valueOnFetch(n))return;r=i._index(n),r>-1?i.select(r):(i.current(it),i._custom(n),i.text(n),i._placeholder()),i._old=i._accessor(),i._oldIndex=i.selectedIndex}else return i._accessor()},_accept:function(n){var t=this;n&&t.popup.visible()?(t._state===e&&(t._state=f),t._focus(n)):(t.text(t.text()),t._change())},_custom:function(t){var r=this,u=r.element,i=r._option;u.is(o)?(i||(i=r._option=n("<option/>"),u.append(i)),i.text(t),i[0].selected=!0):u.val(t)},_filter:function(n){var i=this,r=i.options,u=i.dataSource,f=r.ignoreCase,e=function(r){var u=i._text(r);if(u!==t)return(u=u+"",u!==""&&n==="")?!1:(f&&(u=u.toLowerCase()),u.indexOf(n)===0)};if(f&&(n=n.toLowerCase()),!i.ul[0].firstChild){u.one(h,function(){u.data()[0]&&i.search(n)}).fetch();return}i._highlight(e)!==-1&&(r.suggest&&i._current&&i.suggest(i._current),i.open()),i._hideBusy()},_highlight:function(i){var r=this,f;return i===t||i===null?-1:(i=r._get(i),f=u.inArray(i[0],r.ul[0]),f==-1&&(i=r.options.highlightFirst&&!r.text()?n(r.ul[0].firstChild):it),r.current(i),f)},_input:function(){var t=this,i=t.element[0],s=i.tabIndex,u=t.wrapper,o=".k-input",r,f,e=i.name||"";e&&(e='name="'+e+'_input" '),r=u.find(o),r[0]||(u.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><input '+e+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(t.element),r=u.find(o)),f=r[0],f.tabIndex=s,f.style.cssText=i.style.cssText,i.maxLength>-1&&(f.maxLength=i.maxLength),r.addClass(i.className).val(i.value).css({width:"100%",height:i.style.height}).show(),k&&r.attr("placeholder",t.options.placeholder),t._focused=t.input=r,t._arrow=u.find(".k-icon"),t._inputWrapper=n(u[0].firstChild)},_keydown:function(n){var t=this,i=n.keyCode,r=t.input;t._last=i,clearTimeout(t._typing),i==l.TAB?(t.text(r.val()),t._state===e&&t.selectedIndex>-1&&(t._state=f)):t._move(n)||t._search()},_placeholder:function(n){if(!k){var i=this,f=i.input,r=i.options.placeholder,u;if(r){if(u=i.value(),n===t&&(n=!u),f.toggleClass("k-readonly",n),!n){if(u)return;r=""}f.val(r)}}},_search:function(){var n=this;n._typing=setTimeout(function(){var t=n.text();n._prev!==t&&(n._prev=t,n.search(t))},n.options.delay)},_select:function(n){var i=this,f,e,r=i._highlight(n),u=i._data();i.selectedIndex=r,r!==-1&&(i._current.addClass(d),u=u[r],f=i._text(u),e=i._value(u),i._prev=i.input[0].value=f,i._accessor(e!==t?e:f,r),i._placeholder())},_selectItem:function(){var n=this,t=n.options,r=n.dataSource,i=r.filter()||{};v(i,n.options.dataTextField),n.dataSource.one(h,function(){var i=t.value||n.value();i?n.value(i):n.select(t.index),n.trigger("selected")}).filter(i)},_wrapper:function(){var i=this,t=i.element,n;n=t.parent(),n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent()),n[0].style.cssText=t[0].style.cssText,i.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).show()}});c.plugin(ut)}(jQuery),function(n,t){function w(n){return n=String.prototype.trim?n.trim():n.replace(/^\s\s*/,"").replace(/\s\s*$/,""),n.replace(/&nbsp;/gi,"")}var i=window.kendo,h=i.ui,f=n.proxy,d=n.extend,y=n.grep,o=n.map,k=n.inArray,r="k-state-selected",s="asc",v="desc",p="click",a="change",u="kendoPopup",l="kendoFilterMenu",e="kendoMenu",c=h.Widget,b=c.extend({init:function(t,r){var e=this,o;c.fn.init.call(e,t,r),t=e.element,r=e.options,e.owner=r.owner,e.field=t.attr(i.attr("field")),o=t.find(".k-header-column-menu"),o[0]||(o=t.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),e._clickHandler=f(e._click,e),o.click(e._clickHandler),e.link=o,e.wrapper=n('<div class="k-column-menu"/>'),e.wrapper.html(i.template(g)({ns:i.ns,messages:r.messages,sortable:r.sortable,filterable:r.filterable,columns:e._ownerColumns(),showColumns:r.columns})),e.popup=e.wrapper[u]({anchor:o,open:f(e._open,e)}).data(u),e._menu(),e._sort(),e._columns(),e._filter()},options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){var n=this;n.filterMenu&&(n.filterMenu.destroy(),n.filterMenu=null),n.wrapper.children().removeData(e),n.wrapper.removeData(u).remove(),n.link.unbind(p,n._clickHandler),n.element.removeData("kendoColumnMenu"),n.columns=null},close:function(){this.menu.close(),this.popup.close()},_click:function(n){n.preventDefault(),n.stopPropagation(),this.popup.toggle()},_open:function(){n(".k-column-menu").not(this.wrapper).each(function(){n(this).data(u).close()})},_ownerColumns:function(){var n=this.owner.columns,t=y(n,function(n){var t=!0,i=w(n.title||"");return n.menu!==!1&&(n.field||i.length)||(t=!1),t});return o(t,function(t){return{field:t.field,title:t.title||t.field,hidden:t.hidden,index:k(t,n)}})},_menu:function(){this.menu=this.wrapper.children()[e]({orientation:"vertical",closeOnClick:!1}).data(e)},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t.options.dataSource.bind(a,f(t.refresh,t)),t.menu.element.delegate(".k-sort-asc, .k-sort-desc",p,function(){var i=n(this),u=i.hasClass("k-sort-asc")?s:v;i.parent().find(".k-sort-"+(u==s?v:s)).removeClass(r),t._sortDataSource(i,u),t.close()}))},_sortDataSource:function(n,i){var f=this,o=f.options.sortable,s=f.options.dataSource,e,h,u=s.sort()||[];if(n.hasClass(r)&&o&&o.allowUnsort!==!1?(n.removeClass(r),i=t):n.addClass(r),o===!0||o.mode==="single")u=[{field:f.field,dir:i}];else{for(e=0,h=u.length;e<h;e++)if(u[e].field===f.field){u.splice(e,1);break}u.push({field:f.field,dir:i})}s.sort(u)},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t.owner.bind(["columnHide","columnShow"],function(){t._updateColumnsMenu()}),t.wrapper.delegate("[type=checkbox]",a,function(){var r=n(this),u=parseInt(r.attr(i.attr("index")),10);r.is(":checked")?t.owner.showColumn(u):t.owner.hideColumn(u)}))},_updateColumnsMenu:function(){var n=this._ownerColumns(),r=o(n,function(n){return"["+i.attr("index")+"="+n.index+"]"}).join(","),t=y(n,function(n){return!n.hidden}),u=o(t,function(n){return"["+i.attr("index")+"="+n.index+"]"}).join(",");this.wrapper.find(r).attr("checked",!1),this.wrapper.find(u).attr("checked",!0).attr("disabled",t.length==1)},_filter:function(){var n=this,t=n.options;t.filterable!==!1&&(n.filterMenu=n.wrapper.find(".k-filterable")[l](d(!0,{},{appendToElement:!0,dataSource:t.dataSource,values:t.values,field:n.field},t.filterable)).data(l))},refresh:function(){var n=this,u=n.options.dataSource.sort()||[],i,e=n.field,t,f;for(n.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(r),t=0,f=u.length;t<f;t++)i=u[t],e==i.field&&n.wrapper.find(".k-sort-"+i.dir).addClass(r)}}),g='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><label><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</label></li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';h.plugin(b)}(jQuery),function(n,t){function ut(n){return new Array(n+1).join('<td class="k-group-cell">&nbsp;</td>')}function nt(n){var t,i=" ";if(n){if(typeof n===e)return n;for(t in n)i+=t+'="'+n[t]+'"'}return i}function yi(t){var i=0;return n("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){i+=this.offsetHeight}),i}function rt(t,i){n("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",i)}function oi(n){var t,i,r={},u={};if(!lt(n))for(y(n)||(n=[n]),t=0,i=n.length;t<i;t++)r[n[t].aggregate]=0,u[n[t].field]=r;return u}function w(n,t,i){var r=n.eq(t),u=n.eq(i);r[t>i?"insertBefore":"insertAfter"](u)}function ki(n,t,i){var e,h,r,o;for(i=y(i)?i:[i],e=0,h=i.length;e<h;e++)if(r=i[e],f(r)&&r.click){o=r.name||r.text;t.on(s,"a.k-grid-"+o,{commandName:o},u(r.click,n))}}function a(n){return v(n,function(n){return!n.hidden})}function p(n){n=n||{};var t=n.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===n.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",r({},n,{style:t})}function yt(n){n=n||{};var t=n.style;return t&&(n.style=t.replace(/((.*)?)(display\s*:\s*none)\s*;?/i,"$1")),n}function wt(t,r,u,f){var s=t.find(">colgroup"),o,h=vt(r,function(n){return(o=n.width,o&&parseInt(o,10)!==0)?i.format('<col style="width:{0}"/>',typeof o===e?o:o+"px"):"<col />"});(u||s.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />'),s.length&&s.remove(),s=n("<colgroup/>").append(n(new Array(f+1).join('<col class="k-group-col">')+h.join(""))),t.prepend(s)}function at(n,t){var r,u,i;if(typeof n===e&&n===t||f(n)&&n.name===t)return n;if(y(n))for(r=0,u=n.length;r<u;r++)if(i=n[r],typeof i===e&&i===t||i.name===t)return i;return null}var i=window.kendo,k=i.ui,bi=i.data.DataSource,di=k.Groupable,gi=i.support.tbodyInnerHtml,d=k.Widget,o=i.keys,f=n.isPlainObject,r=n.extend,vt=n.map,v=n.grep,y=n.isArray,hi=n.inArray,u=n.proxy,nr=n.isFunction,lt=n.isEmptyObject,l=Math,ti="requestStart",pt="error",ct="tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer):visible",h=":not(.k-group-cell,.k-hierarchy-cell):visible",tr="tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer) > td:not(.k-group-cell,.k-hierarchy-cell)",ci=ct+">td"+h,b=ci+":first",ft="edit",st="save",si="remove",ot="detailInit",c="change",ei="columnHide",fi="columnShow",ui="saveChanges",vi="dataBound",ri="detailExpand",ii="detailCollapse",tt="k-state-focused",ni="k-focusable",gt="k-state-selected",dt="columnResize",kt="columnReorder",s="click",bt="height",ht="tabIndex",g="function",e="string",ir="Are you sure you want to delete this record?",wi=/(\}|\#)/ig,it=3,et=/#/ig,pi='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',li=d.extend({init:function(n,t){var i=this;d.fn.init.call(i,n,t),i._refreshHandler=u(i.refresh,i),i.setDataSource(t.dataSource),i.wrap()},setDataSource:function(n){var t=this;t.dataSource&&t.dataSource.unbind(c,t._refreshHandler),t.dataSource=n,t.dataSource.bind(c,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:n.noop},wrap:function(){var t=this,f=i.support.scrollbar()+1,r=t.element;r.css({width:"auto",paddingRight:f,overflow:"hidden"}),t.content=r.children().first(),t.wrapper=t.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll",u(t._wheelScroll,t)).bind("mousewheel",u(t._wheelScroll,t)),i.support.touch&&(t.drag=new i.Drag(t.wrapper,{global:!0,move:function(n){t.verticalScrollbar.scrollTop(t.verticalScrollbar.scrollTop()-n.y.delta),n.preventDefault()}})),t.verticalScrollbar=n('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:f}).appendTo(r).bind("scroll",u(t._scroll,t))},_wheelScroll:function(t){var u=this,f=u.verticalScrollbar.scrollTop(),i=t.originalEvent,r;t.preventDefault(),i.wheelDelta?r=i.wheelDelta:i.detail?r=-i.detail*10:n.browser.opera&&(r=-i.wheelDelta),u.verticalScrollbar.scrollTop(f+-r)},_scroll:function(n){var t=this,i=n.currentTarget.scrollTop,f=t.dataSource,r=t.itemHeight,e=f.skip()||0,o=t._rangeStart||e,s=t.element.innerHeight(),h=!!(t._scrollbarTop&&t._scrollbarTop>i),u=l.max(l.floor(i/r),0),c=l.max(u+l.floor(s/r),0);t._scrollTop=i-o*r,t._scrollbarTop=i,t._fetch(u,c,h)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(n,t,i){var u=this,e=u.dataSource,h=u.itemHeight,r=e.take(),f=u._rangeStart||e.skip()||0,o=l.floor(n/r)*r,s=!1,c=.33;return n<f?(s=!0,f=l.max(0,t-r),u._scrollTop=(n-f)*h,u._page(f,r)):t>=f+r&&!i?(s=!0,f=n,u._scrollTop=h,u._page(f,r)):u._fetching||(n<o+r-r*c&&n>r&&e.prefetch(o-r,r),t>o+r*c&&e.prefetch(o+r,r)),s},_page:function(n,t){var r=this,u=r.dataSource;clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=n,u.inRange(n,t)?u.range(n,t):(i.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){u.range(n,t)},100))},refresh:function(){var n=this,u="",t=25e4,o=n.dataSource,c=n._rangeStart,a=i.support.scrollbar(),f=n.wrapper[0],r,e,s,h;for(i.ui.progress(n.wrapper.parent(),!1),clearTimeout(n._timeout),s=n.itemHeight=n.options.itemHeight()||0,h=f.scrollWidth>f.offsetWidth?a:0,r=o.total()*s+h,e=0;e<l.floor(r/t);e++)u+='<div style="width:1px;height:'+t+'px"></div>';r%t&&(u+='<div style="width:1px;height:'+r%t+'px"></div>'),n.verticalScrollbar.html(u),f.scrollTop=n._scrollTop,n.drag&&n.drag.cancel(),c&&!n._fetching&&(n._rangeStart=o.skip()),n._fetching=!1}}),ai={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},rr=d.extend({init:function(n,t){var r=this;t=y(t)?{dataSource:t}:t,d.fn.init.call(r,n,t),r._element(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r.options.autoBind&&r.dataSource.fetch(),i.notify(r)},events:[c,"dataBinding",vi,ri,ii,ot,ft,st,si,ui,dt,kt,fi,ei],setDataSource:function(n){var t=this;t.options.dataSource=n,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&n.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1},setOptions:function(n){var t=this;d.fn.setOptions.call(this,n),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_attachCustomCommandsEvent:function(){for(var n=this,r=n.columns||[],t,i=0,u=r.length;i<u;i++)t=r[i].command,t&&ki(n,n.wrapper,t)},_element:function(){var t=this,i=t.element;i.is("table")||(i=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),i.length||(i=n("<table />").appendTo(t.element))),t.table=i.attr("cellspacing",0),t._wrapper()},_positionColumnResizeHandle:function(t){var i=this,f=i.options.scrollable,r=i.resizeHandle,u;i.thead.on("mousemove","th:not(.k-group-cell,.k-hierarchy-cell)",function(e){var o=n(this),s=o.offset().left+this.offsetWidth;e.clientX>s-it&&e.clientX<s+it?(rt(i.wrapper,o.css("cursor")),r||(r=i.resizeHandle=n('<div class="k-resize-handle"/>'),t.append(r)),u=this.offsetWidth,o.prevAll().each(function(){u+=this.offsetWidth}),r.css({top:f?0:yi(i.wrapper),left:u-it,height:o.outerHeight(),width:it*3}).data("th",o).show()):(rt(i.wrapper,""),r&&r.hide())})},_resizable:function(){var t=this,i=t.options,u,f,r,e,o;i.resizable&&(u=i.scrollable?t.wrapper.find(".k-grid-header-wrap"):t.wrapper,t._positionColumnResizeHandle(u),u.kendoResizable({handle:".k-resize-handle",hint:function(i){return n('<div class="k-grid-resize-indicator" />').css({height:i.data("th").outerHeight()+t.tbody.attr("clientHeight")})},start:function(u){var s=n(u.currentTarget).data("th"),h=n.inArray(s[0],s.parent().children(":visible")),c=t.tbody.parent(),l=t.footer||n();rt(t.wrapper,s.css("cursor")),o=i.scrollable?t.thead.parent().find("col:eq("+h+")").add(c.children("colgroup").find("col:eq("+h+")")).add(l.find("colgroup").find("col:eq("+h+")")):c.children("colgroup").find("col:eq("+h+")"),f=u.x.location,r=s.outerWidth(),e=t.tbody.outerWidth()},resize:function(u){var s=r+u.x.location-f,h=t.footer||n();s>10&&(o.css("width",s),i.scrollable&&(t._footerWidth=e+u.x.location-f,t.tbody.parent().add(t.thead.parent()).add(h.find("table")).css("width",t._footerWidth)))},resizeend:function(i){var u=n(i.currentTarget).data("th"),f=u.outerWidth(),e;rt(t.wrapper,""),r!=f&&(e=t.columns[u.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(u)],e.width=f,t.trigger(dt,{column:e,oldWidth:r,newWidth:f})),t.resizeHandle.hide()}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance=t.thead.kendoDraggable({group:i.guid(),filter:".k-header:not(.k-group-cell,.k-hierarchy-cell):visible["+i.attr("field")+"]",hint:function(t){return n('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(i.attr("title"))||t.attr(i.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var n=this;n.options.reorderable&&n.thead.kendoReorderable({draggable:n._draggableInstance,change:function(t){var i=a(n.columns)[t.oldIndex];n.trigger(kt,{newIndex:t.newIndex,oldIndex:t.oldIndex,column:i}),n.reorderColumn(t.newIndex,i)}})},reorderColumn:function(t,i){var r=this,u=n.inArray(i,r.columns),o=n.inArray(i,a(r.columns)),s,f,h,e=r.footer||r.wrapper.find(".k-grid-footer");if(u!==t)for(r.columns.splice(u,1),r.columns.splice(t,0,i),r._templates(),w(r.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),o,t),r.options.scrollable&&w(r.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),o,t),w(r.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),u,t),e&&e.length&&(w(e.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),o,t),w(e.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),u,t)),s=r.tbody.children(":not(.k-grouping-row,.k-detail-row)"),f=0,h=s.length;f<h;f+=1)w(s.eq(f).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),u,t)},cellIndex:function(t){return n(t).parent().find("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=n(t),t.is("tr")||this._editMode()==="popup"||(t=t.closest("tr"));var r=t.attr(i.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t=this,i=t.options.editable,u=function(){var i=document.activeElement,r=t._editContainer;!r||n.contains(r[0],i)||r[0]===i||n(i).closest(".k-animation-container").length||t.editable.end()&&t.closeCell()},r;i&&(r=t._editMode(),r==="incell"?i.update!==!1&&(t.wrapper.delegate("tr:not(.k-grouping-row) > td:not(.k-hierarchy-cell,.k-detail-cell,.k-group-cell,.k-edit-cell,:has(a.k-grid-delete))",s,function(i){var r=n(this);r.closest("tbody")[0]!==t.tbody[0]||n(i.target).is(":input")||(t.editable?t.editable.end()&&(t.closeCell(),t.editCell(r)):t.editCell(r))}),t.wrapper.bind("focusin",function(){clearTimeout(t.timer),t.timer=null}),t.wrapper.bind("focusout",function(){t.timer=setTimeout(u,1)})):i.update!==!1&&t.wrapper.delegate("tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",s,function(i){i.preventDefault(),t.editRow(n(this).closest("tr"))}),i.destroy!==!1&&t.wrapper.delegate("tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-delete",s,function(i){i.preventDefault(),t.removeRow(n(this).closest("tr"))}))},editCell:function(n){var t=this,i=t.columns[t.cellIndex(n)],r=t._modelForContainer(n);r&&(!r.editable||r.editable(i.field))&&!i.command&&i.field&&(t._attachModelChange(r),t._editContainer=n,t.editable=n.addClass("k-edit-cell").kendoEditable({fields:{field:i.field,format:i.format,editor:i.editor,values:i.values},model:r,change:function(i){t.trigger(st,{values:i.values,container:n,model:r})&&i.preventDefault()}}).data("kendoEditable"),n.parent().addClass("k-grid-edit-row"),t.trigger(ft,{container:n,model:r}))},_destroyEditable:function(){var n=this;n.editable&&(n._detachModelChange(),n.editable.destroy(),delete n.editable,n._editMode()==="popup"&&n._editContainer.data("kendoWindow").close(),n._editContainer=null)},_attachModelChange:function(n){var t=this;t._modelChangeHandler=function(n){t._modelChange({field:n.field,model:this})},n.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var n=this,i=n._editContainer,t=n._modelForContainer(i);t&&t.unbind(c,n._modelChangeHandler)},closeCell:function(){var t=this,r=t._editContainer.removeClass("k-edit-cell"),u=r.closest("tr").attr(i.attr("uid")),f=t.columns[t.cellIndex(r)],e=t.dataSource.getByUid(u);r.parent().removeClass("k-grid-edit-row"),t._destroyEditable(),t._displayCell(r,f,e),r.hasClass("k-dirty-cell")&&n('<span class="k-dirty"/>').prependTo(r)},_displayCell:function(n,t,f){var s=this,e={storage:{},count:0},h=r({},i.Template,s.options.templateSettings),o=i.template(s._cellTmpl(t,e),h);e.count>0&&(o=u(o,e.storage)),n.empty().html(o(f))},removeRow:function(t){var i=this,r,u;i._confirmation()&&(t=n(t).hide(),r=i._modelForContainer(t),r&&!i.trigger(si,{row:t,model:r})&&(i.dataSource.remove(r),u=i._editMode(),(u==="inline"||u==="popup")&&i.dataSource.sync()))},_editMode:function(){var t="incell",n=this.options.editable;return n!==!0&&(t=typeof n=="string"?n:n.mode||t),t},editRow:function(t){var i=this,r=i._modelForContainer(t),u=i._editMode(),f;i.cancelRow(),r&&(i._attachModelChange(r),u==="popup"?i._createPopupEditor(r):u==="inline"?i._createInlineEditor(t,r):u==="incell"&&n(t).children(h).each(function(){var t=n(this),u=i.columns[t.index()];return r=i._modelForContainer(t),r&&(!r.editable||r.editable(u.field))&&u.field?(i.editCell(t),!1):void 0}),f=i._editContainer,f.delegate("a.k-grid-cancel",s,function(n){n.preventDefault(),i.cancelRow()}),f.delegate("a.k-grid-update",s,function(n){n.preventDefault(),i.saveRow()}))},_createPopupEditor:function(t){var o=this,c="<div "+i.attr("uid")+'="'+t.uid+'"><div class="k-edit-form-container">',e,s,nt=[],h,y,v,k,d,p,a=o.options.editable,tt=f(a)?a.window:{},g=r({},i.Template,o.options.templateSettings),l,w,b;if(a.template)for(c+=i.template(window.unescape(a.template),g)(t),h=0,y=o.columns.length;h<y;h++)e=o.columns[h],e.command&&(s=at(e.command,"edit"));else for(h=0,y=o.columns.length;h<y;h++)e=o.columns[h],e.command?e.command&&(s=at(e.command,"edit")):(c+='<div class="k-edit-label"><label for="'+e.field+'">'+(e.title||e.field||"")+"</label></div>",(!t.editable||t.editable(e.field))&&e.field?(nt.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),c+="<div "+i.attr("container-for")+'="'+e.field+'" class="k-edit-field"></div>'):(l={storage:{},count:0},v=i.template(o._cellTmpl(e,l),g),l.count>0&&(v=u(v,l.storage)),c+='<div class="k-edit-field">'+v(t)+"</div>"));s&&f(s)&&(s.text&&f(s.text)&&(k=s.text.update,d=s.text.cancel),s.attr&&(p=s.attr)),c+=o._createButton({name:"update",text:k,attr:p})+o._createButton({name:"canceledit",text:d,attr:p}),c+="</div></div>",w=o._editContainer=n(c).appendTo(o.wrapper).eq(0).kendoWindow(r({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1},tt)),b=w.data("kendoWindow"),b.wrapper.delegate(".k-i-close","click",function(){o.cancelRow()}),o.editable=o._editContainer.kendoEditable({fields:nt,model:t,clearContainer:!1}).data("kendoEditable"),b.center().open(),o.trigger(ft,{container:w,model:t})},_createInlineEditor:function(t,i){var e=this,r,o,u,s=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(o=n(this),r=e.columns[e.cellIndex(o)],!r.command&&r.field&&(!i.editable||i.editable(r.field)))s.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),o.attr("data-container-for",r.field),o.empty();else if(r.command&&(u=at(r.command,"edit"),u)){o.empty();var c,h,t;f(u)&&(u.text&&f(u.text)&&(c=u.text.update,h=u.text.cancel),u.attr&&(t=u.attr)),n(e._createButton({name:"update",text:c,attr:t})+e._createButton({name:"canceledit",text:h,attr:t})).appendTo(o)}}),e._editContainer=t,e.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:s,model:i,clearContainer:!1}).data("kendoEditable"),e.trigger(ft,{container:t,model:i})},cancelRow:function(){var n=this,t=n._editContainer,r;t&&(r=n._modelForContainer(t),n.dataSource.cancelChanges(r),n._editMode()!=="popup"?n._displayRow(t):n._displayRow(n.items().filter("["+i.attr("uid")+"="+r.uid+"]")),n._destroyEditable())},saveRow:function(){var n=this,t=n._editContainer,r=n._modelForContainer(t),i=n.editable;t&&i&&i.end()&&!n.trigger(st,{container:t,model:r})&&(n._editMode()!=="popup"&&n._displayRow(t),n._destroyEditable(),n.dataSource.sync())},_displayRow:function(t){var i=this,r=i._modelForContainer(t);r&&t.replaceWith(n((t.hasClass("k-alt")?i.altRowTemplate:i.rowTemplate)(r)))},_showMessage:function(n){return window.confirm(n)},_confirmation:function(){var i=this,n=i.options.editable,t=n===!0||typeof n===e?ir:n.confirmation;return t!==!1&&t!=null?i._showMessage(t):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var n=this;(n.editable&&n.editable.end()||!n.editable)&&!n.trigger(ui)&&n.dataSource.sync()},addRow:function(){var n=this,t,r=n.dataSource,u=n._editMode(),h=n.options.editable.createAt||"",o=r.pageSize(),f=r.view()||[];if(n.editable&&n.editable.end()||!n.editable){u!="incell"&&n.cancelRow(),t=r.indexOf(f[0]),h.toLowerCase()=="bottom"&&(t+=f.length,o&&!r.options.serverPaging&&o<=f.length&&(t-=1)),t<0&&(t=0);var c=r.insert(t,{}),l=c.uid,e=n.table.find("tr["+i.attr("uid")+"="+l+"]"),s=e.children("td:not(.k-group-cell,.k-hierarchy-cell)").first();(u==="inline"||u==="popup")&&e.length?n.editRow(e):s.length&&n.editCell(s)}},_toolbar:function(){var t=this,c=t.wrapper,r=t.options.toolbar,o=t.options.editable,f,h;r&&(f=t.wrapper.find(".k-grid-toolbar"),f.length||(r=nr(r)?r({}):typeof r===e?r:t._toolbarTmpl(r).replace(et,"\\#"),h=u(i.template(r),t),f=n('<div class="k-toolbar k-grid-toolbar" />').html(h({})).prependTo(c)),o&&o.create!==!1&&f.delegate(".k-grid-add",s,function(n){n.preventDefault(),t.addRow()}).delegate(".k-grid-cancel-changes",s,function(n){n.preventDefault(),t.cancelChanges()}).delegate(".k-grid-save-changes",s,function(n){n.preventDefault(),t.saveChanges()}))},_toolbarTmpl:function(n){var u=this,t,i,r="";if(y(n))for(t=0,i=n.length;t<i;t++)r+=u._createButton(n[t]);return r},_createButton:function(n){var o=n.template||pi,t=typeof n===e?n:n.name||n.text,u={className:"k-grid-"+t,text:t,imageClass:"",attr:"",iconClass:""};if(!t&&!(f(n)&&n.template))throw new Error("Custom commands should have name specified");return f(n)?(n.className&&(n.className+=" "+u.className),t==="edit"&&f(n.text)&&(n=r(!0,{},n),n.text=n.text.edit),n.attr&&f(n.attr)&&(n.attr=nt(n.attr)),u=r(!0,u,ai[t],n)):u=r(!0,u,ai[t]),i.template(o)(u)},_groupable:function(){var t=this,u=t.wrapper,f=t.options.groupable;t.groupable||t.table.delegate(".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",s,function(i){var r=n(this),u=r.closest("tr");r.hasClass("k-i-collapse")?t.collapseGroup(u):t.expandGroup(u),i.preventDefault(),i.stopPropagation()}),f&&(u.has("div.k-grouping-header")[0]||n("<div />").addClass("k-grouping-header").html("&nbsp;").prependTo(u),t.groupable&&t.groupable.destroy(),t.groupable=new di(u,r({},f,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,filter:".k-header:not(.k-group-cell,.k-hierarchy-cell):visible["+i.attr("field")+"]",allowDrag:t.options.reorderable})))},_selectable:function(){var n=this,r,u,t=n.options.selectable;t&&(r=typeof t===e&&t.toLowerCase().indexOf("multiple")>-1,u=typeof t===e&&t.toLowerCase().indexOf("cell")>-1,n.selectable=new i.ui.Selectable(n.table,{filter:">"+(u?tr:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),multiple:r,change:function(){n.trigger(c)}}),n.options.navigatable&&n.wrapper.keydown(function(t){var i=n.current();t.keyCode!==o.SPACEBAR||t.target!=n.wrapper[0]||i.hasClass("k-edit-cell")||(t.preventDefault(),t.stopPropagation(),i=u?i:i.parent(),r?t.ctrlKey?i.hasClass(gt)&&(i.removeClass(gt),i=null):n.selectable.clear():n.selectable.clear(),n.selectable.value(i))}))},clearSelection:function(){var n=this;n.selectable.clear(),n.trigger(c)},select:function(t){var r=this,i=r.selectable;if(t=n(t),t.length){i.options.multiple||(i.clear(),t=t.first()),i.value(t);return}return i.value()},current:function(n){var i=this,u=i.options.scrollable,r=i._current;return n!==t&&n.length&&(r&&r[0]===n[0]||(n.addClass(tt),r&&r.removeClass(tt),i._current=n,n.length&&u&&(i._scrollTo(n.parent()[0],i.content[0]),u.virtual?i._scrollTo(n[0],i.content.find(">.k-virtual-scrollable-wrap")[0]):i._scrollTo(n[0],i.content[0])))),i._current},_scrollTo:function(n,t){var i=n.tagName.toLowerCase()==="td",r=n[i?"offsetLeft":"offsetTop"],o=n[i?"offsetWidth":"offsetHeight"],u=t[i?"scrollLeft":"scrollTop"],f=t[i?"clientWidth":"clientHeight"],e=r+o;t[i?"scrollLeft":"scrollTop"]=u>r?r:e>u+f?e-f:u},_navigatable:function(){var t=this,f=t.wrapper,r=t.table.addClass(ni),i=u(t.current,t),s="."+ni+" "+ci,e=n.browser,c=function(r){var u=n(r.currentTarget);u.closest("tbody")[0]===t.tbody[0]&&(i(u),n(r.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input")||setTimeout(function(){f.focus()}),r.stopPropagation())};t.options.navigatable&&(f.bind({focus:function(){var n=t._current;n&&n.is(":visible")?n.addClass(tt):i(t.table.find(b))},focusout:function(n){t._current&&t._current.removeClass(tt),n.stopPropagation()},keydown:function(u){var c=u.keyCode,s=t.current(),p=u.shiftKey,y=t.dataSource,k=t.options.pageable,a=!n(u.target).is(":button,a,:input,a>.t-icon"),d=t._editMode()=="incell",w,v,l=!1;a&&o.UP===c?(i(s?s.parent().prevAll(ct).last().children(":eq("+s.index()+"),:eq(0)").last():r.find(b)),l=!0):a&&o.DOWN===c?(i(s?s.parent().nextAll(ct).first().children(":eq("+s.index()+"),:eq(0)").last():r.find(b)),l=!0):a&&o.LEFT===c?(i(s?s.prevAll(h+":first"):r.find(b)),l=!0):a&&o.RIGHT===c?(i(s?s.nextAll(":visible:first"):r.find(b)),l=!0):a&&k&&o.PAGEDOWN==c?(t._current=null,y.page(y.page()+1),l=!0):a&&k&&o.PAGEUP==c?(t._current=null,y.page(y.page()-1),l=!0):t.options.editable&&(s=s?s:r.find(b),o.ENTER==c||o.F2==c?(t._handleEditing(s),l=!0):o.TAB==c&&d?(v=p?s.prevAll(h+":first"):s.nextAll(":visible:first"),v.length||(v=s.parent()[p?"prevAll":"nextAll"]("tr:not(.k-grouping-row,.k-detail-row):visible").children(h+(p?":last":":first"))),v.length&&(t._handleEditing(s,v),l=!0)):o.ESC==c&&t._editContainer&&(t._editContainer.has(s[0])||s[0]===t._editContainer[0])&&(d?t.closeCell():(w=t.items().index(s.parent()),document.activeElement.blur(),t.cancelRow(),w>=0&&t.current(t.items().eq(w).children().filter(h).first())),e.msie&&parseInt(e.version,10)<9&&document.body.focus(),f.focus(),l=!0)),l&&(u.preventDefault(),u.stopPropagation())}}),f.delegate(s,"mousedown",c))},_handleEditing:function(t,i){var r=this,f=r._editMode(),u=r._editContainer,o,e;if(e=f=="incell"?t.hasClass("k-edit-cell"):t.parent().hasClass("k-grid-edit-row"),r.editable)if(n.contains(u[0],document.activeElement)&&n(document.activeElement).blur(),r.editable.end())f=="incell"?r.closeCell():(o=t.parent()[0]===u[0]?r.items().index(t.parent()):r.items().index(u),r.saveRow(),r.current(r.items().eq(o).children().filter(h).first()),e=!0);else{f=="incell"?r.current(u):r.current(u.children().filter(h).first()),u.find(":input:visible:first").focus();return}i&&r.current(i),r.wrapper.focus(),(e||i)&&!i||(f=="incell"?r.editCell(r.current()):r.editRow(r.current().parent()))},_wrapper:function(){var n=this,i=n.table,r=n.options.height,t=n.element;t.is("div")||(t=t.wrap("<div/>").parent()),n.wrapper=t.addClass("k-grid k-widget").attr(ht,l.max(i.attr(ht)||0,0)),i.removeAttr(ht),r&&(n.wrapper.css(bt,r),i.css(bt,"auto"))},_tbody:function(){var r=this,i=r.table,t;t=i.find(">tbody"),t.length||(t=n("<tbody/>").appendTo(i)),r.tbody=t},_scrollable:function(){var t=this,r,o,h=t.options,f=h.scrollable,s=i.support.scrollbar(),e;f&&(r=t.wrapper.children(".k-grid-header"),r[0]||(r=n('<div class="k-grid-header" />').insertBefore(t.table)),r.css("padding-right",f.virtual?s+1:s),o=n('<table cellspacing="0" />'),o.append(t.thead),r.empty().append(n('<div class="k-grid-header-wrap" />').append(o)),t.content=t.table.parent(),t.content.is(".k-virtual-scrollable-wrap")&&(t.content=t.content.parent()),t.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(t.content=t.table.wrap('<div class="k-grid-content" />').parent()),f!==!0&&f.virtual&&!t.virtualScrollable&&(t.virtualScrollable=new li(t.content,{dataSource:t.dataSource,itemHeight:u(t._averageRowHeight,t)})),t.scrollables=r.children(".k-grid-header-wrap"),f.virtual?t.content.find(">.k-virtual-scrollable-wrap").bind("scroll",function(){t.scrollables.scrollLeft(this.scrollLeft)}):(t.content.bind("scroll",function(){t.scrollables.scrollLeft(this.scrollLeft)}),e=i.touchScroller(t.content),e&&e.movable&&e.movable.bind("change",function(n){t.scrollables.scrollLeft(-n.sender.x)})))},_setContentHeight:function(){var n=this,r=n.options,t=n.wrapper.innerHeight(),e=n.wrapper.children(".k-grid-header"),u=i.support.scrollbar(),f;r.scrollable&&(t-=e.outerHeight(),n.pager&&(t-=n.pager.element.outerHeight()),r.groupable&&(t-=n.wrapper.children(".k-grouping-header").outerHeight()),r.toolbar&&(t-=n.wrapper.children(".k-grid-toolbar").outerHeight()),n.footerTemplate&&(t-=n.wrapper.children(".k-grid-footer").outerHeight()),f=function(n){var t,i;return n[0].style.height?!0:(t=n.height(),n.height("auto"),i=n.height(),t!=i)?(n.height(""),!0):(n.height(""),!1)},f(n.wrapper)&&(t>u*2?n.content.height(t):n.content.height(u*2+1)))},_averageRowHeight:function(){var n=this,t=n._rowHeight,i;return n._rowHeight||(n._rowHeight=t=n.table.outerHeight()/n.table[0].rows.length,n._sum=t,n._measures=1),i=n.table.outerHeight()/n.table[0].rows.length,t!==i&&(n._measures++,n._sum+=i,n._rowHeight=n._sum/n._measures),t},_dataSource:function(){var n=this,o=n.options,e,i=o.dataSource;i=y(i)?{data:i}:i,f(i)&&(r(i,{table:n.table,fields:n.columns}),e=o.pageable,f(e)&&e.pageSize!==t&&(i.pageSize=e.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(c,n._refreshHandler).unbind(ti,n._requestStartHandler).unbind(pt,n._errorHandler):(n._refreshHandler=u(n.refresh,n),n._requestStartHandler=u(n._requestStart,n),n._errorHandler=u(n._error,n)),n.dataSource=bi.create(i).bind(c,n._refreshHandler).bind(ti,n._requestStartHandler).bind(pt,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r=this,s=t.model,f=r.tbody.find("tr["+i.attr("uid")+"="+s.uid+"]"),u,e,l=f.hasClass("k-alt"),h,o,c;if(f.children(".k-edit-cell").length&&!r.options.rowTemplate)f.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){u=n(this),e=r.columns[r.cellIndex(u)],e.field===t.field&&(u.hasClass("k-edit-cell")?u.addClass("k-dirty-cell"):(r._displayCell(u,e,s),n('<span class="k-dirty"/>').prependTo(u)))});else if(!f.hasClass("k-grid-edit-row")){for(h=n((l?r.altRowTemplate:r.rowTemplate)(s)),f.replaceWith(h),o=0,c=r.columns.length;o<c;o++)e=r.columns[o],e.field===t.field&&(u=h.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(o),n('<span class="k-dirty"/>').prependTo(u));r.trigger("itemChange",{item:h,data:s,ns:k})}},_pageable:function(){var t=this,f,u=t.options.pageable;u&&(f=t.wrapper.children("div.k-grid-pager"),f.length||(f=n('<div class="k-pager-wrap k-grid-pager"/>').appendTo(t.wrapper)),t.pager&&t.pager.destroy(),t.pager=typeof u=="object"&&u instanceof i.ui.Pager?u:new i.ui.Pager(f,r({},u,{dataSource:t.dataSource})))},_footer:function(){var t=this,r=t.dataSource.aggregates(),i="",s=t.footerTemplate,u=t.options,f,e,o;s&&(r=lt(r)?oi(t.dataSource.aggregate()):r,i=n(t._wrapFooter(s(r))),f=t.footer||t.wrapper.find(".k-grid-footer"),f.length?(e=i,f.replaceWith(e),t.footer=e):t.footer=u.scrollable?u.pageable?i.insertBefore(t.wrapper.children("div.k-grid-pager")):i.appendTo(t.wrapper):i.insertBefore(t.tbody),u.scrollable&&(o=!1,t.scrollables.each(function(){n(this).hasClass("k-grid-footer-wrap")&&(o=!0)}),o||(t.scrollables=t.scrollables.add(t.footer.children(".k-grid-footer-wrap")))),u.resizable&&t._footerWidth&&t.footer.find("table").css("width",t._footerWidth))},_wrapFooter:function(t){var r=this,i="";return r.options.scrollable?(i=n('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+t+"</tbody></table></div></div>"),r._appendCols(i.find("table")),i):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var f=this,s,a=f.columns,t,e=f.options,u=e.columnMenu,h,c,l,o;u&&(typeof u=="boolean"&&(u={}),f.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(v){t=a[v],o=n(this),!t.command&&(t.field||o.attr("data-"+i.ns+"field"))&&(s=o.data("kendoColumnMenu"),s&&s.destroy(),c=t.sortable!==!1&&u.sortable!==!1?e.sortable:!1,l=e.filterable&&t.filterable!==!1&&u.filterable!==!1?r({},t.filterable,e.filterable):!1,h={dataSource:f.dataSource,values:t.values,columns:u.columns,sortable:c,filterable:l,messages:u.messages,owner:f},o.kendoColumnMenu(h))}))},_filterable:function(){var t=this,u=t.columns,f,e,o=t.options.filterable;o&&!t.options.columnMenu&&t.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(s){f=n(this),u[s].filterable!==!1&&!u[s].command&&(u[s].field||f.attr("data-"+i.ns+"field"))&&(e=f.data("kendoFilterMenu"),e&&e.destroy(),f.kendoFilterMenu(r(!0,{},o,u[s].filterable,{dataSource:t.dataSource,values:u[s].values})))})},_sortable:function(){var u=this,e=u.columns,t,f=u.options.sortable;f&&u.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(o){t=e[o],t.sortable!==!1&&!t.command&&t.field&&n(this).attr("data-"+i.ns+"field",t.field).kendoSortable(r({},f,{dataSource:u.dataSource}))})},_columns:function(t){var u=this,f=u.table,o,h=f.find("col"),s=u.options.dataSource;t=t.length?t:vt(f.find("th"),function(t,r){t=n(t);var f=t.attr(i.attr("sortable")),e=t.attr(i.attr("filterable")),o=t.attr(i.attr("type")),s=t.attr(i.attr("groupable")),u=t.attr(i.attr("field")),c=t.attr(i.attr("menu"));return u||(u=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:u,type:o,sortable:f!=="false",filterable:e!=="false",groupable:s!=="false",menu:c,template:t.attr(i.attr("template")),width:h.eq(r).css("width")}}),o=!(u.table.find("tbody tr").length>0&&(!s||!s.transport)),u.columns=vt(t,function(n){return n=typeof n===e?{field:n}:n,n.hidden&&(n.attributes=p(n.attributes),n.footerAttributes=p(n.footerAttributes),n.headerAttributes=p(n.headerAttributes)),r({encoded:o},n)})},_tmpl:function(n,t){var f=this,y=r({},i.Template,f.options.templateSettings),e,c=f.columns.length,l,h={storage:{},count:0},o,p,a=f._hasDetails(),s=[],v=f.dataSource.group().length;if(!n){for(n="<tr",t&&s.push("k-alt"),a&&s.push("k-master-row"),s.length&&(n+=' class="'+s.join(" ")+'"'),c&&(n+=" "+i.attr("uid")+'="#=uid#"'),n+=">",v>0&&(n+=ut(v)),a&&(n+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#"></a></td>'),e=0;e<c;e++)o=f.columns[e],l=o.template,p=typeof l,n+="<td"+nt(o.attributes)+">",n+=f._cellTmpl(o,h),n+="</td>";n+="</tr>"}return(n=i.template(n,y),h.count>0)?u(n,h.storage):n},_headerCellText:function(n){var o=this,s=r({},i.Template,o.options.templateSettings),t=n.headerTemplate,f=typeof t,u=n.title||n.field||"";return f===g?u=i.template(t,s)({}):f===e&&(u=t),u},_cellTmpl:function(n,t){var h=this,c=r({},i.Template,h.options.templateSettings),l=n.template,a=c.paramName,u="",s,p,v=n.format,w=typeof l,o=n.values;if(n.command){if(y(n.command)){for(s=0,p=n.command.length;s<p;s++)u+=h._createButton(n.command[s]);return u.replace(et,"\\#")}return h._createButton(n.command).replace(et,"\\#")}return w===g?(t.storage["tmpl"+t.count]=l,u+="#=this.tmpl"+t.count+"("+a+")#",t.count++):w===e?u+=l:o&&o.length&&f(o[0])&&"value"in o[0]?(u+="#var v ="+i.stringify(o)+"#",u+="#for (var idx=0,length=v.length;idx<length;idx++) {#",u+="#if (v[idx].value == ",c.useWithBlock||(u+=a+"."),u+=n.field,u+=") { #",u+="${v[idx].text}",u+="#break;#",u+="#}#",u+="#}#"):(u+=n.encoded?"${":"#=",v&&(u+='kendo.format("'+v.replace(wi,"\\$1")+'",'),c.useWithBlock||(u+=a+"."),u+=n.field,v&&(u+=")"),u+=n.encoded?"}":"#"),u},_templates:function(){var t=this,i=t.options,u=t.dataSource,f=u.group(),r=u.aggregate();t.rowTemplate=t._tmpl(i.rowTemplate),t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(i.detailTemplate||"")),(!lt(r)||v(t.columns,function(n){return n.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(r,"footerTemplate","k-footer-template")),f.length&&v(t.columns,function(n){return n.groupFooterTemplate}).length&&(r=n.map(f,function(n){return n.aggregates}),t.groupFooterTemplate=t._footerTmpl(r,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(n,t,f){var h=this,a=r({},i.Template,h.options.templateSettings),k=a.paramName,e="",c,v,it=h.columns,o,y,p={},l=0,w={},tt=h.dataSource,b=tt.group().length,d=oi(n),s;for(e+='<tr class="'+f+'">',b>0&&(e+=ut(b)),h._hasDetails()&&(e+='<td class="k-hierarchy-cell">&nbsp;</td>'),c=0,v=h.columns.length;c<v;c++)s=it[c],o=s[t],y=typeof o,e+="<td"+nt(s.footerAttributes)+">",o?(y!==g&&(w=d[s.field]?r({},a,{paramName:k+"."+s.field}):{},o=i.template(o,w)),p["tmpl"+l]=o,e+="#=this.tmpl"+l+"("+k+")#",l++):e+="&nbsp;",e+="</td>";return(e+="</tr>",e=i.template(e,a),l>0)?u(e,p):e},_detailTmpl:function(n){var e=this,t="",o=r({},i.Template,e.options.templateSettings),l=o.paramName,s={},f=0,h=e.dataSource.group().length,c=a(e.columns).length,v=typeof n;return(t+='<tr class="k-detail-row">',h>0&&(t+=ut(h)),t+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",v===g?(s["tmpl"+f]=n,t+="#=this.tmpl"+f+"("+l+")#",f++):t+=n,t+="</td></tr>",t=i.template(t,o),f>0)?u(t,s):t},_hasDetails:function(){var n=this;return n.options.detailTemplate!==t||(n._events[ot]||[]).length},_details:function(){var t=this;t.table.delegate(".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",s,function(i){var f=n(this),u=f.hasClass("k-plus"),r=f.closest("tr.k-master-row"),e,s=t.detailTemplate,o,h=t._hasDetails();return f.toggleClass("k-plus",!u).toggleClass("k-minus",u),h&&!r.next().hasClass("k-detail-row")&&(o=t.dataItem(r),n(s(o)).addClass(r.hasClass("k-alt")?"k-alt":"").insertAfter(r),t.trigger(ot,{masterRow:r,detailRow:r.next(),data:o,detailCell:r.next().find(".k-detail-cell")})),e=r.next(),t.trigger(u?ri:ii,{masterRow:r,detailRow:e}),e.toggle(u),i.preventDefault(),!1})},dataItem:function(t){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(n(t))]},expandRow:function(t){n(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){n(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var r=this,h=r.columns,l=r._hasDetails()&&h.length,s,a,e="",o=r.table.find(">thead"),f,c,u;if(o.length||(o=n("<thead/>").insertBefore(r.tbody)),f=r.element.find("tr:has(th):first"),f.length||(f=o.children().first(),f.length||(f=n("<tr/>"))),f.children().length)l&&!f.find(".k-hierarchy-cell")[0]&&f.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(l&&(e+='<th class="k-hierarchy-cell">&nbsp;</th>'),s=0,a=h.length;s<a;s++)u=h[s],c=r._headerCellText(u),u.command?e+="<th"+nt(u.headerAttributes)+">"+c+"</th>":(e+="<th "+i.attr("field")+"='"+(u.field||"")+"' ",u.title&&(e+=i.attr("title")+'="'+u.title.replace(/'/g,"'")+'" '),u.groupable!==t&&(e+=i.attr("groupable")+"='"+u.groupable+"' "),u.aggregates&&(e+=i.attr("aggregates")+"='"+u.aggregates+"'"),e+=nt(u.headerAttributes),e+=">"+c+"</th>");f.html(e)}f.find("th").addClass("k-header"),r.options.scrollable||o.addClass("k-grid-header"),f.appendTo(o),r.thead=o,r._sortable(),r._filterable(),r._scrollable(),r._updateCols(),r._resizable(),r._draggable(),r._reorderable(),r._columnMenu()},_updateCols:function(){var n=this;n._appendCols(n.thead.parent().add(n.table))},_appendCols:function(n){var t=this;wt(n,a(t.columns),t._hasDetails(),t.dataSource.group().length)},_autoColumns:function(n){if(n&&n.toJSON){var t=this,i;n=n.toJSON();for(i in n)t.columns.push({field:i});t._thead(),t._templates()}},_rowsHtml:function(n){for(var i=this,r="",u=i.rowTemplate,f=i.altRowTemplate,t=0,e=n.length;t<e;t++)r+=t%2?f(n[t]):u(n[t]),i._data.push(n[t]);return r},_groupRowHtml:function(n,t,u){var f=this,e="",o,l,a=n.field,s=v(f.columns,function(n){return n.field==a})[0]||{},w=s.format?i.format(s.format,n.value):n.value,h=s.groupHeaderTemplate,y=(s.title||a)+": "+w,p=r({},{field:n.field,value:n.value},n.aggregates[n.field]),c=n.items;if(h&&(y=typeof h===g?h(p):i.template(h)(p)),e+='<tr class="k-grouping-row">'+ut(u)+'<td colspan="'+t+'"><p class="k-reset"><a class="k-icon k-i-collapse" href="#"></a>'+y+"</p></td></tr>",n.hasSubgroups)for(o=0,l=c.length;o<l;o++)e+=f._groupRowHtml(c[o],t-1,u+1);else e+=f._rowsHtml(c);return f.groupFooterTemplate&&(e+=f.groupFooterTemplate(n.aggregates)),e},collapseGroup:function(t){t=n(t).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var f=t.find(".k-group-cell").length,r=1,u,i;t.nextAll("tr").each(function(){if(i=n(this),u=i.find(".k-group-cell").length,i.hasClass("k-grouping-row")?r++:i.hasClass("k-group-footer")&&r--,u<=f||i.hasClass("k-group-footer")&&r<0)return!1;i.hide()})},expandGroup:function(t){t=n(t).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var e=this,f=t.find(".k-group-cell").length,i,r,u=1;t.nextAll("tr").each(function(){if(i=n(this),r=i.find(".k-group-cell").length,r<=f)return!1;r!=f+1||i.hasClass("k-detail-row")||(i.show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&e.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-minus")&&i.next().show()),i.hasClass("k-grouping-row")&&u++,i.hasClass("k-group-footer")&&(u==1?i.show():u--)})},_updateHeader:function(t){var r=this,u=r.thead.find("th.k-group-cell"),i=u.length;t>i?n(new Array(t-i+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.thead.find("tr")):t<i&&(i=i-t,n(v(u,function(n,t){return i>t})).remove())},_firstDataItem:function(n,t){return n&&t&&(n=n.hasSubgroups?this._firstDataItem(n.items[0],t):n.items[0]),n},hideColumn:function(t){var i=this,c,f,r,u,l,o,s=0,h,y=i.footer||i.wrapper.find(".k-grid-footer"),w=i.columns,e;if(t=typeof t=="number"?w[t]:v(w,function(n){return n.field===t})[0],t&&!t.hidden){for(e=hi(t,a(w)),t.hidden=!0,t.attributes=p(t.attributes),t.footerAttributes=p(t.footerAttributes),t.headerAttributes=p(t.headerAttributes),i._templates(),i._updateCols(),i.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(e).hide(),y&&(i._appendCols(y.find("table:first")),y.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(e).hide()),c=i.tbody.children(),u=0,h=c.length;u<h;u+=1)f=c.eq(u),f.is(".k-grouping-row,.k-detail-row")?(r=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-1)):(f.hasClass("k-grid-edit-row")&&(r=f.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(e).remove(),f=r.find("tr:first")),f.children(":not(.k-group-cell,.k-hierarchy-cell):visible").eq(e).hide());for(l=i.thead.prev().find("col"),u=0,h=l.length;u<h;u+=1)if(o=l[u].style.width,o&&o.indexOf("%")==-1)s+=parseInt(o,10);else{s=0;break}s&&n(">.k-grid-header table:first,>.k-grid-footer table:first",i.wrapper).add(i.table).width(s),i.trigger(ei,{column:t})}},showColumn:function(t){var i=this,c,u,o,f,r,l,e,y,p,s=i.columns,w=i.footer||i.wrapper.find(".k-grid-footer"),h;if(t=typeof t=="number"?s[t]:v(s,function(n){return n.field===t})[0],t&&t.hidden){for(h=hi(t,s),t.hidden=!1,t.attributes=yt(t.attributes),t.footerAttributes=yt(t.footerAttributes),t.headerAttributes=yt(t.headerAttributes),i._templates(),i._updateCols(),i.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(h).show(),w&&(i._appendCols(w.find("table:first")),w.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(h).show()),c=i.tbody.children(),u=0,o=c.length;u<o;u+=1)f=c.eq(u),f.is(".k-grouping-row,.k-detail-row")?(r=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+1)):(f.hasClass("k-grid-edit-row")&&(r=f.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)+1),wt(r.find(">form>table"),a(s),!1,0),f=r.find("tr:first")),f.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(h).show());if(l=n(">.k-grid-header table:first,>.k-grid-footer table:first",i.wrapper).add(i.table),t.width){for(e=0,p=i.thead.prev().find("col"),u=0,o=p.length;u<o;u+=1){if(y=p[u].style.width,y.indexOf("%")>-1){e=0;break}e+=parseInt(y,10)}e&&l.width(e)}else l.width("");i.trigger(fi,{column:t})}},_progress:function(n){var t=this,r=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;i.ui.progress(r,n)},refresh:function(t){var i=this,y,u,f="",e=i.dataSource.view(),o,s,c,l=i.current(),r=(i.dataSource.group()||[]).length,v=r+a(i.columns).length;if(!t||t.action!=="itemchange"||!i.editable){if(i.trigger("dataBinding"),l&&l.hasClass("k-state-focused")&&(c=i.items().index(l.parent())),i._destroyEditable(),i._progress(!1),i._data=[],i.columns.length||(i._autoColumns(i._firstDataItem(e[0],r)),v=r+i.columns.length),i._group=r>0||i._group,i._group&&(i._templates(),i._updateCols(),i._updateHeader(r),i._group=r>0),r>0)for(i.detailTemplate&&v++,u=0,y=e.length;u<y;u++)f+=i._groupRowHtml(e[u],v,0);else f+=i._rowsHtml(e);gi?i.tbody[0].innerHTML=f:(s=document.createElement("div"),s.innerHTML="<table><tbody>"+f+"</tbody></table>",o=s.firstChild.firstChild,i.table[0].replaceChild(o,i.tbody[0]),i.tbody=n(o)),i._footer(),i._setContentHeight(),c>=0&&i.current(i.items().eq(c).children().filter(h).first()),i.trigger(vi)}}});k.plugin(rr),k.plugin(li)}(jQuery),function(n,t){var i=window.kendo,u="change",b="dataBound",w="dataBinding",d=i.ui.Widget,f=i.keys,r=">*",h="requestStart",c="error",s="k-state-focused",l="k-focusable",a="k-state-selected",nt="k-edit-item",tt="string",v="edit",y="remove",p="save",o="click",e=n.proxy,k=i.ui.progress,g=i.data.DataSource,it=d.extend({init:function(t,r){var u=this;r=n.isArray(r)?{dataSource:r}:r,d.fn.init.call(u,t,r),r=u.options,u.wrapper=u.element,u._element(),u._dataSource(),u.template=i.template(r.template||""),u.altTemplate=i.template(r.altTemplate||r.template),u.editTemplate=i.template(r.editTemplate||""),u._navigatable(),u._selectable(),u._pageable(),u._crudHandlers(),u.options.autoBind&&u.dataSource.fetch(),i.notify(u)},events:[u,w,b,v,y,p],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},items:function(){return this.element.find(r)},setDataSource:function(n){this.options.dataSource=n,this._dataSource(),this.options.autoBind&&n.fetch()},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n.dataSource.unbind(u,n._refreshHandler).unbind(h,n._requestStartHandler).unbind(c,n._errorHandler):(n._refreshHandler=e(n.refresh,n),n._requestStartHandler=e(n._requestStart,n),n._errorHandler=e(n._error,n)),n.dataSource=g.create(n.options.dataSource).bind(u,n._refreshHandler).bind(h,n._requestStartHandler).bind(c,n._errorHandler)},_requestStart:function(){k(this.element,!0)},_error:function(){k(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview")},refresh:function(t){var u=this,f=u.dataSource.view(),e,h,s,c="",r,o,l=u.template,a=u.altTemplate;if(t&&t.action==="itemchange"){u.editable||(e=t.items[0],r=f.indexOf(e),r>=0&&(s=n(l(e)),u.items().eq(r).replaceWith(s),u.trigger("itemChange",{item:s,data:e})));return}for(u.trigger(w),u._destroyEditable(),r=0,o=f.length;r<o;r++)c+=r%2?a(f[r]):l(f[r]);for(u.element.html(c),h=u.items(),r=0,o=f.length;r<o;r++)h.eq(r).attr(i.attr("uid"),f[r].uid);u.trigger(b)},_pageable:function(){var i=this,t=i.options.pageable,r,u;n.isPlainObject(t)&&(u=t.pagerId,r=n.extend({},t,{dataSource:i.dataSource,pagerId:null}),n("#"+u).kendoPager(r))},_selectable:function(){var n=this,e,t,o=n.options.selectable,s=n.options.navigatable;o&&(e=typeof o===tt&&o.toLowerCase().indexOf("multiple")>-1,n.selectable=new i.ui.Selectable(n.element,{multiple:e,filter:r,change:function(){n.trigger(u)}}),s&&n.element.keydown(function(i){i.keyCode===f.SPACEBAR&&(t=n.current(),i.preventDefault(),e?i.ctrlKey?t.hasClass(a)&&(t.removeClass(a),t=null):n.selectable.clear():n.selectable.clear(),n.selectable.value(t))}))},current:function(n){var r=this,i=r._current;return n!==t&&n.length&&(i&&i[0]===n[0]||(n.addClass(s),i&&i.removeClass(s),r._current=n)),r._current},_navigatable:function(){var t=this,o=t.options.navigatable,i=t.element,u=e(t.current,t),h=function(t){u(n(t.currentTarget)),n(t.target).is(":button,a,:input,a>.k-icon,textarea")||i.focus()};o&&(i.attr("tabIndex",Math.max(i.attr("tabIndex")||0,0)),i.bind({focus:function(){var n=t._current;n&&n.is(":visible")?n.addClass(s):u(i.find(r).first())},focusout:function(){t._current&&t._current.removeClass(s)},keydown:function(n){var u=n.keyCode,e=t.current();f.UP===u?t.current(e?e.prev():i.find(r).first()):f.DOWN===u?t.current(e?e.next():i.find(r).first()):f.PAGEUP==u?(t._current=null,t.dataSource.page(t.dataSource.page()-1)):f.PAGEDOWN==u&&(t._current=null,t.dataSource.page(t.dataSource.page()+1))}}),i.addClass(l).delegate("."+l+r,"mousedown",h))},clearSelection:function(){var n=this;n.selectable.clear(),n.trigger(u)},select:function(t){var r=this,i=r.selectable;if(t=n(t),t.length){i.options.multiple||(i.clear(),t=t.first()),i.value(t);return}return i.value()},_destroyEditable:function(){var n=this;n.editable&&(n.editable.destroy(),delete n.editable)},_modelFromElement:function(n){var t=n.attr(i.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(t){var r=this,u=r.editable,f,o,e=!0;return u&&(t&&(e=u.end()),e&&(f=r._modelFromElement(u.element),o=n(r.template(f)).attr(i.attr("uid"),f.uid),r._destroyEditable(),u.element.replaceWith(o))),e},edit:function(t){var r=this,u=r._modelFromElement(t),f=n(r.editTemplate(u)).addClass(nt);r.cancel(),f.attr(i.attr("uid"),u.uid),t.replaceWith(f),r.editable=f.kendoEditable({model:u,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),r.trigger(v,{model:u,item:f})},save:function(){var n=this,t=n.editable.element,i=n._modelFromElement(t);!n.trigger(p,{model:i,item:t})&&n._closeEditable(!0)&&n.dataSource.sync()},remove:function(n){var t=this,i=t.dataSource,r=t._modelFromElement(n);t.trigger(y,{model:r,item:n})||(n.hide(),i.remove(r),i.sync())},add:function(){var n=this,t=n.dataSource,i=t.indexOf((t.view()||[])[0]);i<0&&(i=0),n.cancel(),t.insert(i,{}),n.edit(n.element.children().first())},cancel:function(){var n=this,t=n.dataSource;n.editable&&(t.cancelChanges(n._modelFromElement(n.editable.element)),n._closeEditable(!1))},_crudHandlers:function(){var t=this;t.element.on(o,".k-edit-button",function(r){var u=n(this).closest("["+i.attr("uid")+"]");t.edit(u),r.preventDefault()});t.element.on(o,".k-delete-button",function(r){var u=n(this).closest("["+i.attr("uid")+"]");t.remove(u),r.preventDefault()});t.element.on(o,".k-update-button",function(n){t.save(),n.preventDefault()});t.element.on(o,".k-cancel-button",function(n){t.cancel(),n.preventDefault()})}});i.ui.plugin(it)}(jQuery),function(n,t){var i=window.kendo,y=i.Class,v=i.ui.Widget,s=i.support.mobileOS,h=n.extend,p=i.deepExtend,u=i.keys,k=y.extend({init:function(n){var t=this;t.options=n},getHtml:function(){var n=this.options;return i.template(n.template)({cssClass:n.cssClass,tooltip:n.title,initialValue:n.initialValue})}}),r={select:function(n){n.trigger("select",{})},editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header"><tbody><tr><td class="k-editor-toolbar-wrap"><ul class="k-editor-toolbar"></ul></td></tr><tr><td class="k-editable-area"></td></tr></tbody></table>',buttonTemplate:'<li class="k-editor-button"><a href="" class="k-tool-icon #= cssClass #" unselectable="on" title="#= tooltip #">#= tooltip #</a></li>',colorPickerTemplate:'<li class="k-editor-colorpicker"><div class="k-widget k-colorpicker k-header #= cssClass #"><span class="k-tool-icon"><span class="k-selected-color"></span></span><span class="k-icon k-i-arrow-s"></span></div></li>',comboBoxTemplate:'<li class="k-editor-combobox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',dropDownListTemplate:'<li class="k-editor-selectbox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',focusable:".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",wrapTextarea:function(t){var i=t.width(),u=t.height(),f=r.editorWrapperTemplate,e=n(f).insertBefore(t).width(i).height(u),o=e.find(".k-editable-area");return t.appendTo(o).addClass("k-content k-raw-content").hide(),t.closest(".k-editor")},renderTools:function(t,u){var c={},e,a,s,l=t._nativeTools,o,f,v=n(t.element).closest(".k-editor").find(".k-editor-toolbar");if(u)for(s=0;s<u.length;s++)(e=u[s],n.isPlainObject(e)?e.name&&t.tools[e.name]?(n.extend(t.tools[e.name].options,e),c[e.name]=t.tools[e.name],f=c[e.name].options):(f=h({cssClass:"k-i-custom",type:"button",tooltip:""},e),f.name&&(f.cssClass="k-"+(f.name=="custom"?"i-custom":f.name)),f.template||f.type=="button"&&(f.template=r.buttonTemplate)):t.tools[e]&&(c[e]=t.tools[e],f=c[e].options),f)&&(o=f.template,o&&(o.getHtml?o=o.getHtml():(n.isFunction(o)||(o=i.template(o)),o=o(f)),o.indexOf("<li")!==0&&(o="<li class='k-editor-template'>"+o+"</li>"),a=n(o).appendTo(v),f.type=="button"&&f.exec&&a.find(".k-tool-icon").click(n.proxy(f.exec,t.element[0]))));for(s=0;s<l.length;s++)c[l[s]]||(c[l[s]]=t.tools[l[s]]);t.options.tools=c},decorateStyleToolItems:function(t){var r=t.data.closest(".k-editor").find(".k-style").data("kendoSelectBox"),u;r&&(u=r.dataSource.view(),r.list.find(".k-item").each(function(r,f){var e=n(f),o=e.text(),s=i.ui.editor.Dom.inlineStyle(t.data.data("kendoEditor").document,"span",{className:u[r].value});e.html('<span unselectable="on" style="display:block;'+s+'">'+o+"</span>")}))},createContentElement:function(t,i){var u,e,f,o=t.closest(".k-rtl").length?"direction:rtl;":"";if(t.hide(),u=n("<iframe />",{src:'javascript:"<html></html>"',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(t)[0],e=u.contentWindow||u,i.length>0)n(u).one("load",t,r.decorateStyleToolItems);return f=e.document||u.contentDocument,f.designMode="On",f.open(),f.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;font-family:Verdana,Geneva,sans-serif;background:#fff;}html{font-size:100%}body{font-size:.75em;line-height:1.5;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+o+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}</style>"+n.map(i,function(n){return"<link rel='stylesheet' href='"+n+"'>"}).join("")+"</head><body></body></html>"),f.close(),e},initializeContentElement:function(t){var i=!0;t.window=r.createContentElement(n(t.textarea),t.options.stylesheets),t.document=t.window.contentDocument||t.window.document,t.body=t.document.body,n(t.document).bind({keydown:function(n){var r,e;if(n.keyCode===u.F10){setTimeout(function(){var n="tabIndex",i=t.wrapper,r=i.attr(n);i.attr(n,r||0).focus().find("li:has("+f+")").first().focus(),r||r===0||i.removeAttr(n)},100),n.preventDefault();return}if(r=t.keyboard.toolFromShortcut(t.options.tools,n),r)return n.preventDefault(),/undo|redo/.test(r)||t.keyboard.endTyping(!0),t.exec(r),!1;t.keyboard.isTypingKey(n)&&t.pendingFormats.hasPending()&&(i?i=!1:(e=t.getRange(),t.pendingFormats.apply(e),t.selectRange(e))),t.keyboard.clearTimeout(),t.keyboard.keydown(n)},keyup:function(r){var u;(n.inArray(r.keyCode,[8,9,33,34,35,36,37,38,39,40,40,45,46])>-1||r.keyCode==65&&r.ctrlKey&&!r.altKey&&!r.shiftKey)&&(t.pendingFormats.clear(),o(t)),t.keyboard.isTypingKey(r)?t.pendingFormats.hasPending()&&(u=t.getRange(),t.pendingFormats.apply(u),t.selectRange(u)):i=!0,t.keyboard.keyup(r)},mousedown:function(i){t.pendingFormats.clear();var r=n(i.target);!n.browser.gecko&&i.which==2&&r.is("a[href]")&&window.open(r.attr("href"),"_new")},mouseup:function(){o(t)}}),n(t.window).bind("blur",function(){var n=t.textarea.value,i=t.encodedValue();t.update(),i!=n&&t.trigger("change")}),n(t.body).bind("cut paste",function(n){t.clipboard["on"+n.type](n)})},formatByName:function(t,i){for(var r=0;r<i.length;r++)if(n.inArray(t,i[r].tags)>=0)return i[r]},registerTool:function(n,t){var i=c.fn._tools;i[n]=t,i[n].options&&i[n].options.template&&(i[n].options.template.options.cssClass="k-"+n)},registerFormat:function(n,t){i.ui.Editor.fn.options.formats[n]=t}},o=r.select,f=r.focusable,g=r.wrapTextarea,b=r.renderTools,a=r.initializeContentElement,l={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found."},d=!s||s.ios&&s.flatVersion>=500||!s.ios&&typeof document.documentElement.contentEditable!="undefined",c=v.extend({init:function(t,r){function h(t){var i=n.grep(t.className.split(" "),function(n){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(n)});return i[0]?i[0].substring(i[0].lastIndexOf("-")+1):"custom"}function tt(n,t){if(!t.key)return n;var i=n+" (";return t.ctrl&&(i+="Ctrl + "),t.shift&&(i+="Shift + "),t.alt&&(i+="Alt + "),i+(t.key+")")}var e,s,k,o,c;if(d){e=this,o=i.ui.editor,v.fn.init.call(e,t,r),e.tools=p({},i.ui.Editor.fn._tools),e.options=p({},e.options,r),t=n(t),t.closest("form").bind("submit",function(){e.update()});for(c in e.tools)e.tools[c].name=c.toLowerCase();e.textarea=t.attr("autocomplete","off")[0],s=e.wrapper=g(t),b(e,e.options.tools),a(e),e.keyboard=new o.Keyboard([new o.TypingHandler(e),new o.SystemHandler(e)]),e.clipboard=new o.Clipboard(this),e.pendingFormats=new o.PendingFormats(this),e.undoRedoStack=new o.UndoRedoStack,k=r&&r.value?r.value:t.val().replace(/[\r\n\v\f\t ]+/ig," "),e.value(k);var nt=".k-editor-toolbar > li > *, .k-editor-toolbar > li select",y=".k-editor-button .k-tool-icon",w=y+":not(.k-state-disabled)",it=y+".k-state-disabled";s.find(".k-combobox .k-input").keydown(function(t){var i=n(this).closest(".k-combobox").data("kendoComboBox"),r=t.keyCode;r==u.RIGHT||r==u.LEFT?i.close():r==u.DOWN&&(i.dropDown.isOpened()||(t.stopImmediatePropagation(),i.open()))}),s.delegate(w,"mouseenter",function(){n(this).addClass("k-state-hover")}).delegate(w,"mouseleave",function(){n(this).removeClass("k-state-hover")}).delegate(y,"mousedown",!1).delegate(f,"keydown",function(t){var r=n(this).closest("li"),o="li:has("+f+")",i,s=t.keyCode;if(s==u.RIGHT)i=r.nextAll(o).first().find(f);else if(s==u.LEFT)i=r.prevAll(o).last().find(f);else if(s==u.ESC)i=e;else if(s==u.TAB&&!(t.ctrlKey||t.altKey))if(t.shiftKey)if(i=r.prevAll(o).last().find(f),i.length)t.preventDefault();else return;else t.preventDefault(),i=r.nextAll(o).first().find(f),i.length||(i=e);i&&i.focus()}).delegate(w,"click",function(n){n.preventDefault(),n.stopPropagation(),e.exec(h(this))}).delegate(it,"click",function(n){n.preventDefault()}).find(nt).each(function(){var t=h(this),i=e.options,r=i.tools[t],o=i.messages[t],f=n(this),u;r&&((t=="fontSize"||t=="fontName")&&(u=i.messages[t+"Inherit"]||l[t+"Inherit"],f.find("input").val(u).end().find("span.k-input").text(u).end()),r.initialize(f,{title:tt(o,r),editor:e}))}),e.bind("select",function(){var i=e.getRange(),t=o.RangeUtils.textNodes(i);t.length||(t=[i.startContainer]),s.find(nt).each(function(){var i=e.options.tools[h(this)];i&&i.update(n(this),t,e.pendingFormats)})}),n(document).bind("DOMNodeInserted",function(t){var i=e.wrapper;(n.contains(t.target,i[0])||i[0]==t.target)&&(e.textarea.value=e.value(),i.find("iframe").remove(),a(e))}).bind("mousedown",function(){try{e.keyboard.isTypingInProgress()&&e.keyboard.endTyping(!0),e.selectionRestorePoint||(e.selectionRestorePoint=new o.RestorePoint(e.getRange()))}catch(e){}}),i.notify(e)}},events:["select","change","execute","error","paste"],options:{name:"Editor",messages:l,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:["bold","italic","underline","strikethrough","fontName","fontSize","foreColor","backColor","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","indent","outdent","formatBlock","createLink","unlink","insertImage"]},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","insertHtml"],_tools:{undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},tools:{},value:function(r){var u=this.body,o=i.ui.editor.Dom,f,e;if(r===t)return i.ui.editor.Serializer.domToXhtml(u);this.pendingFormats.clear(),r=(r||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script $1>$2</telerik:script>").replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1"),n.browser.msie||(r=r.replace(/<p([^>]*)>(\s*)?<\/p>/ig,'<p $1><br _moz_dirty="" /></p>')),n.browser.msie&&parseInt(n.browser.version,10)<9?(r="<br/>"+r,f="originalsrc",e="originalhref",r=r.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,e+'="$1"'),r=r.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,f+'="$1"'),u.innerHTML=r,o.remove(u.firstChild),n(u).find("telerik\\:script,script,link,img,a").each(function(){var n=this;n[e]&&(n.setAttribute("href",n[e]),n.removeAttribute(e)),n[f]&&(n.setAttribute("src",n[f]),n.removeAttribute(f))})):(u.innerHTML=r,n.browser.msie&&o.normalize(u)),this.selectionRestorePoint=null,this.update()},focus:function(){this.window.focus()},update:function(n){this.textarea.value=n||this.options.encoded?this.encodedValue():this.value()},encodedValue:function(){return i.ui.editor.Dom.encode(this.value())},createRange:function(n){return i.ui.editor.RangeUtils.createRange(n||this.document)},getSelection:function(){return i.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(n){this.focus();var t=this.getSelection();t.removeAllRanges(),t.addRange(n)},getRange:function(){var t=this.getSelection(),n=t.rangeCount>0?t.getRangeAt(0):this.createRange(),i=this.document;return n.startContainer!=i||n.endContainer!=i||n.startOffset||n.endOffset||(n.setStart(this.body,0),n.collapse(!0)),n},selectedHtml:function(){return i.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(n){this.clipboard.paste(n)},exec:function(t,i){var r=this,e,l,s,f="",c,u;t=t.toLowerCase(),r.keyboard.isTypingInProgress()||(r.focus(),e=r.getRange(),l=r.document.body);for(s in r.options.tools)if(s.toLowerCase()==t){f=r.options.tools[s];break}if(f){if(e=r.getRange(),!/undo|redo/i.test(t)&&f.willDelayExecution(e)){c=n.extend({},f),n.extend(c.options,{params:i}),r.pendingFormats.toggle(c),o(r);return}if(u=f.command?f.command(h({range:e},i)):null,r.trigger("execute",{name:t,command:u}),/undo|redo/i.test(t))r.undoRedoStack[t]();else if(u&&(u.managesUndoRedo||r.undoRedoStack.push(u),u.editor=r,u.exec(),u.async)){u.change=n.proxy(function(){o(r)},r);return}o(r)}}}),e,w;i.ui.plugin(c),e=y.extend({init:function(n){this.options=n},initialize:function(n,t){n.attr({unselectable:"on",title:t.title})},command:function(n){return new this.options.command(n)},update:function(){},willDelayExecution:function(){return!1}}),e.exec=function(n,t,i){n.exec(t,{value:i})},w=e.extend({init:function(n){e.fn.init.call(this,n)},command:function(n){var t=this;return new i.ui.editor.FormatCommand(h(n,{formatter:t.options.formatter}))},update:function(n,t,i){var u=i.isPending(this.name),r=this.options.finder.isFormatted(t),f=u?!r:r;n.toggleClass("k-state-active",f)}}),h(i.ui,{editor:{ToolTemplate:k,EditorUtils:r,Tool:e,FormatTool:w}})}(jQuery),function(n){function i(n){for(var i={},t=0,r=n.length;t<r;t++)i[n[t]]=!0;return i}var g=window.kendo,v=n.map,a=n.extend,r="style",l="float",c="cssFloat",y="styleFloat",s="class",h="k-marker",o=i("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),u="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul".split(","),ft=i(u),f="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var".split(","),it=i(f),tt=i("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),e=function(n){n.nodeType==1&&n.normalize()};n.browser.msie&&parseInt(n.browser.version,10)>=8&&(e=function(n){if(n.nodeType==1&&n.firstChild)for(var r=n.firstChild,i=r;;){if(i=i.nextSibling,!i)break;i.nodeType==3&&r.nodeType==3&&(i.nodeValue=r.nodeValue+i.nodeValue,t.remove(r)),r=i}});var nt=/^\s+$/,ut=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,d=/&/g,p=/</g,k=/>/g,b=/\u00a0/g,w=/\ufeff/g,rt="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),t={findNodeIndex:function(n){for(var t=0;;){if(n=n.previousSibling,!n)break;t++}return t},isDataNode:function(n){return n&&n.nodeValue!==null&&n.data!==null},isAncestorOf:function(i,r){try{return!t.isDataNode(i)&&(n.contains(i,t.isDataNode(r)?r.parentNode:r)||r.parentNode==i)}catch(u){return!1}},isAncestorOrSelf:function(n,i){return t.isAncestorOf(n,i)||n==i},findClosestAncestor:function(n,i){if(t.isAncestorOf(n,i))while(i&&i.parentNode!=n)i=i.parentNode;return i},getNodeLength:function(n){return t.isDataNode(n)?n.length:n.childNodes.length},splitDataNode:function(n,i){var r=n.cloneNode(!1);n.deleteData(i,n.length),r.deleteData(0,i),t.insertAfter(r,n)},attrEquals:function(i,r){var u,f;for(u in r)if(f=i[u],u==l&&(f=i[n.support.cssFloat?c:y]),typeof f=="object"){if(!t.attrEquals(f,r[u]))return!1}else if(f!=r[u])return!1;return!0},blockParentOrBody:function(n){return t.parentOfType(n,u)||n.ownerDocument.body},blockParents:function(i){for(var u=[],r,f=0,e=i.length;f<e;f++)r=t.parentOfType(i[f],t.blockElements),r&&n.inArray(r,u)<0&&u.push(r);return u},windowFromDocument:function(n){return n.defaultView||n.parentWindow},normalize:e,blockElements:u,inlineElements:f,empty:o,fillAttrs:tt,toHex:function(n){var t=ut.exec(n);return t?"#"+v(t.slice(1),function(n){return n=parseInt(n,10).toString(16),n.length>1?n:"0"+n}).join(""):n},encode:function(n){return n.replace(d,"&amp;").replace(p,"&lt;").replace(k,"&gt;").replace(b,"&nbsp;")},name:function(n){return n.nodeName.toLowerCase()},significantChildNodes:function(i){return n.grep(i.childNodes,function(n){return n.nodeType!=3||!t.isWhitespace(n)})},lastTextNode:function(n){var r=null,i;if(n.nodeType==3)return n;for(i=n.lastChild;i;i=i.previousSibling)if(r=t.lastTextNode(i),r)return r;return r},is:function(n,i){return t.name(n)==i},isMarker:function(n){return n.className==h},isWhitespace:function(n){return nt.test(n.nodeValue)},isBlock:function(n){return ft[t.name(n)]},isEmpty:function(n){return o[t.name(n)]},isInline:function(n){return it[t.name(n)]},scrollTo:function(i){i.ownerDocument.body.scrollTop=n(t.isDataNode(i)?i.parentNode:i).offset().top},insertAt:function(n,t,i){n.insertBefore(t,n.childNodes[i]||null)},insertBefore:function(n,t){return t.parentNode?t.parentNode.insertBefore(n,t):t},insertAfter:function(n,t){return t.parentNode.insertBefore(n,t.nextSibling)},remove:function(n){n.parentNode.removeChild(n)},trim:function(n){for(var i,r=n.childNodes.length-1;r>=0;r--)i=n.childNodes[r],t.isDataNode(i)?(i.nodeValue.replace(w,"").length||t.remove(i),t.isWhitespace(i)&&t.insertBefore(i,n)):i.className!=h&&(t.trim(i),i.childNodes.length||t.isEmpty(i)||t.remove(i));return n},parentOfType:function(n,i){do n=n.parentNode;while(n&&!t.ofType(n,i));return n},ofType:function(i,r){return n.inArray(t.name(i),r)>=0},changeTag:function(n,i){for(var u=t.create(n.ownerDocument,i),c=n.attributes,f,o,e,h=0,l=c.length;h<l;h++)e=c[h],e.specified&&(f=e.nodeName,o=e.nodeValue,f==s?u.className=o:f==r?u.style.cssText=n.style.cssText:u.setAttribute(f,o));while(n.firstChild)u.appendChild(n.firstChild);return t.insertBefore(u,n),t.remove(n),u},wrap:function(n,i){return t.insertBefore(i,n),i.appendChild(n),i},unwrap:function(n){for(var t=n.parentNode;n.firstChild;)t.insertBefore(n.firstChild,n);t.removeChild(n)},create:function(n,i,r){return t.attr(n.createElement(i),r)},attr:function(n,i){return i=a({},i),i&&r in i&&(t.style(n,i.style),delete i.style),a(n,i)},style:function(t,i){n(t).css(i||{})},unstyle:function(t,i){for(var u in i)u==l&&(u=n.support.cssFloat?c:y),t.style[u]="";t.style.cssText===""&&t.removeAttribute(r)},inlineStyle:function(i,r,u){var f=n(t.create(i,r,u)),e;return i.body.appendChild(f[0]),e=v(rt,function(t){return n.browser.msie&&t=="line-height"&&f.css(t)=="1px"?"line-height:1.5":t+":"+f.css(t)}).join(";"),f.remove(),e},removeClass:function(t,i){for(var r=" "+t.className+" ",f=i.split(" "),u=0,e=f.length;u<e;u++)r=r.replace(" "+f[u]+" "," ");r=n.trim(r),r.length?t.className=r:t.removeAttribute(s)},commonAncestor:function(){var t=arguments.length,r=[],e=Infinity,o=null,n,u,i,s,f;if(!t)return null;if(t==1)return arguments[0];for(n=0;n<t;n++){for(u=[],i=arguments[n];i;)u.push(i),i=i.parentNode;r.push(u.reverse()),e=Math.min(e,u.length)}if(t==1)return r[0][0];for(n=0;n<e;n++){for(s=r[0][n],f=1;f<t;f++)if(s!=r[f][n])return o;o=s}return o}};g.ui.editor.Dom=t}(jQuery),function(n,t){var u=window.kendo,r=u.ui.editor,i=r.Dom,f=n.extend,e="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),o=/"/g,s=/<br[^>]*>/i,h=/<p><\/p>/i,c={domToXhtml:function(r){function f(r){var a=[],d=r.attributes,e,s,v,b=n.trim,h,f,k,p,y,g,w;if(i.is(r,"img")){var nt=r.style.width,tt=r.style.height,it=n(r);nt&&(it.attr("width",parseInt(nt,10)),i.unstyle(r,{width:t})),tt&&(it.attr("height",parseInt(tt,10)),i.unstyle(r,{height:t}))}for(s=0,v=d.length;s<v;s++)e=d[s],h=e.nodeName,(e.specified||h=="value"&&!r.value||h=="type"&&e.nodeValue=="text")&&h.indexOf("_moz")<0&&h!="complete"&&h!="altHtml"&&a.push(e);if(a.length)for(a.sort(function(n,t){return n.nodeName>t.nodeName?1:n.nodeName<t.nodeName?-1:0}),s=0,v=a.length;s<v;s++){if(e=a[s],f=e.nodeName,k=e.nodeValue,u.push(" "),u.push(f),u.push('="'),f=="style"){for(p=b(k||r.style.cssText).split(";"),y=0,g=p.length;y<g;y++)if(w=p[y],w.length){var rt=w.split(":"),c=b(rt[0].toLowerCase()),l=b(rt[1]);if(c=="font-size-adjust"||c=="font-stretch")continue;c.indexOf("color")>=0&&(l=i.toHex(l)),c.indexOf("font")>=0&&(l=l.replace(o,"'")),u.push(c),u.push(":"),u.push(l),u.push(";")}}else f=="src"||f=="href"?u.push(r.getAttribute(f,2)):u.push(i.fillAttrs[f]?f:k);u.push('"')}}function c(n,t){for(var i=n.firstChild;i;i=i.nextSibling)l(i,t)}function l(t,r){var h=t.nodeType,e,l,v,o,s;if(h==1){if(e=i.name(t),!e||t.attributes._moz_dirty&&i.is(t,"br"))return;if(l=a[e],l){l.start(t),c(t),l.end(t);return}u.push("<"),u.push(e),f(t),i.empty[e]?u.push(" />"):(u.push(">"),c(t,r||i.is(t,"pre")),u.push("</"),u.push(e),u.push(">"))}else h==3?(o=t.nodeValue,!r&&n.support.leadingWhitespace&&(v=t.parentNode,s=t.previousSibling,s||(s=(i.isInline(v)?v:t).previousSibling),(!s||s.innerHTML===""||i.isBlock(s))&&(o=o.replace(/^[\r\n\v\f\t ]+/,"")),o=o.replace(/ +/," ")),u.push(i.encode(o))):h==4?(u.push("<![CDATA["),u.push(t.data),u.push("]\]>")):h==8&&(t.data.indexOf("[CDATA[")<0?(u.push("<!--"),u.push(t.data),u.push("-->")):(u.push("<!"),u.push(t.data),u.push(">")))}var u=[],a={"telerik:script":{start:function(n){u.push("<script"),f(n),u.push(">")},end:function(){u.push("<\/script>")}},b:{start:function(){u.push("<strong>")},end:function(){u.push("</strong>")}},i:{start:function(){u.push("<em>")},end:function(){u.push("</em>")}},u:{start:function(){u.push('<span style="text-decoration:underline;">')},end:function(){u.push("</span>")}},iframe:{start:function(n){u.push("<iframe"),f(n),u.push(">")},end:function(){u.push("</iframe>")}},font:{start:function(n){u.push('<span style="');var t=n.getAttribute("color"),r=e[n.getAttribute("size")],f=n.getAttribute("face");t&&(u.push("color:"),u.push(i.toHex(t)),u.push(";")),f&&(u.push("font-face:"),u.push(f),u.push(";")),r&&(u.push("font-size:"),u.push(r),u.push(";")),u.push('">')},end:function(){u.push("</span>")}}};return(c(r),u=u.join(""),u.replace(s,"").replace(h,"")==="")?"":u}};f(r,{Serializer:c})}(jQuery),function(n){function rt(n,i,u,f){var e,h,o,s;if(n==i)return f-u;for(e=i;e&&e.parentNode!=n;)e=e.parentNode;if(e)return r(e)-u;for(e=n;e&&e.parentNode!=i;)e=e.parentNode;if(e)return f-r(e)-1;for(h=t.commonAncestor(n,i),o=n;o&&o.parentNode!=h;)o=o.parentNode;for(o||(o=h),s=i;s&&s.parentNode!=h;)s=s.parentNode;return(s||(s=h),o==s)?0:r(s)-r(o)}function y(n,t){function i(n){try{return rt(n.startContainer,n.endContainer,n.startOffset,n.endOffset)<0}catch(t){return!0}}i(n)&&(t?(n.commonAncestorContainer=n.endContainer=n.startContainer,n.endOffset=n.startOffset):(n.commonAncestorContainer=n.startContainer=n.endContainer,n.startOffset=n.endOffset),n.collapsed=!0)}function g(n){n.collapsed=n.startContainer==n.endContainer&&n.startOffset==n.endOffset;for(var i=n.startContainer;i&&i!=n.endContainer&&!t.isAncestorOf(i,n.endContainer);)i=i.parentNode;n.commonAncestorContainer=i}function b(n,r,u){var f=r[u?"startContainer":"endContainer"],s=r[u?"startOffset":"endOffset"],h=0,c=i(f)?f:f.childNodes[s]||null,l=i(f)?f.parentNode:f,o,e;(f.nodeType==3||f.nodeType==4)&&(h=s),o=l.insertBefore(t.create(r.ownerDocument,"a"),c),e=r.ownerDocument.body.createTextRange(),e.moveToElementText(o),t.remove(o),e[u?"moveStart":"moveEnd"]("character",h),e.collapse(!1),n.setEndPoint(u?"StartToStart":"EndToStart",e)}function w(n,r,u){var e=t.create(r.ownerDocument,"a"),o=n.duplicate(),s,f;o.collapse(u),s=o.parentElement();do s.insertBefore(e,e.previousSibling),o.moveToElementText(e);while(o.compareEndPoints(u?"StartToStart":"StartToEnd",n)>0&&e.previousSibling);if(o.setEndPoint(u?"EndToStart":"EndToEnd",n),f=e.nextSibling,!f){f=e.previousSibling,f&&i(f)?(r.setEnd(f,f.nodeValue.length),t.remove(e)):(r.selectNodeContents(s),t.remove(e),r.endOffset-=1);return}t.remove(e),i(f)?r[u?"setStart":"setEnd"](f,o.text.length):r[u?"setStartBefore":"setEndBefore"](f)}var p=window.kendo,e=p.Class,nt=n.extend,v=p.ui.editor,t=v.Dom,r=t.findNodeIndex,i=t.isDataNode,l=t.findClosestAncestor,a=t.getNodeLength,o=t.normalize,h={selectionFromWindow:function(t){return n.browser.msie&&n.browser.version<9?new k(t.document):t.getSelection()},selectionFromRange:function(n){var t=u.documentFromRange(n);return h.selectionFromDocument(t)},selectionFromDocument:function(n){return h.selectionFromWindow(t.windowFromDocument(n))}},s=e.extend({init:function(t){n.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(n,t){this.startContainer=n,this.startOffset=t,g(this),y(this,!0)},setEnd:function(n,t){this.endContainer=n,this.endOffset=t,g(this),y(this,!1)},setStartBefore:function(n){this.setStart(n.parentNode,r(n))},setStartAfter:function(n){this.setStart(n.parentNode,r(n)+1)},setEndBefore:function(n){this.setEnd(n.parentNode,r(n))},setEndAfter:function(n){this.setEnd(n.parentNode,r(n)+1)},selectNode:function(n){this.setStartBefore(n),this.setEndAfter(n)},selectNodeContents:function(n){this.setStart(n,0),this.setEnd(n,n[n.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(n){var t=this;n?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var n=this,t=n.cloneRange();n.startContainer!=n.commonAncestorContainer&&n.setStartAfter(l(n.commonAncestorContainer,n.startContainer)),n.collapse(!0),function i(n){while(n.next())n.hasPartialSubtree()?i(n.getSubtreeIterator()):n.remove()}(new f(t))},cloneContents:function(){var n=u.documentFromRange(this);return function t(i){for(var r,u=n.createDocumentFragment();r=i.next();)r=r.cloneNode(!i.hasPartialSubtree()),i.hasPartialSubtree()&&r.appendChild(t(i.getSubtreeIterator())),u.appendChild(r);return u}(new f(this))},extractContents:function(){var n=this,i=n.cloneRange(),t;return n.startContainer!=n.commonAncestorContainer&&n.setStartAfter(l(n.commonAncestorContainer,n.startContainer)),n.collapse(!0),t=u.documentFromRange(n),function r(i){for(var u,f=t.createDocumentFragment();u=i.next();)i.hasPartialSubtree()?(u=u.cloneNode(!1),u.appendChild(r(i.getSubtreeIterator()))):i.remove(n.originalRange),f.appendChild(u);return f}(new f(i))},insertNode:function(n){var r=this;i(r.startContainer)?(r.startOffset!=r.startContainer.nodeValue.length&&t.splitDataNode(r.startContainer,r.startOffset),t.insertAfter(n,r.startContainer)):t.insertAt(r.startContainer,n,r.startOffset),r.setStart(r.startContainer,r.startOffset)},cloneRange:function(){return n.extend(new s(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var n=this.startContainer.nodeName,t=this.endContainer.nodeName;return[n=="#text"?this.startContainer.nodeValue:n,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}}),f=e.extend({init:function(t){if(n.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var r=t.commonAncestorContainer;this._next=t.startContainer==r&&!i(t.startContainer)?t.startContainer.childNodes[t.startOffset]:l(r,t.startContainer),this._end=t.endContainer==r&&!i(t.endContainer)?t.endContainer.childNodes[t.endOffset]:l(r,t.endContainer).nextSibling}},hasNext:function(){return!!this._next},next:function(){var n=this,t=n._current=n._next;return n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,i(n._current)&&(n.range.endContainer==n._current&&(t=t.cloneNode(!0),t.deleteData(n.range.endOffset,t.length-n.range.endOffset)),n.range.startContainer==n._current&&(t=t.cloneNode(!0),t.deleteData(0,n.range.startOffset))),t},traverse:function(n){function r(){return t._current=t._next,t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null,t._current}for(var t=this,i;i=r();)t.hasPartialSubtree()?t.getSubtreeIterator().traverse(n):n(i);return i},remove:function(n){var u=this,s=u.range.startContainer==u._current,h=u.range.endContainer==u._current,e,c,o,f,l;i(u._current)&&(s||h)?(e=s?u.range.startOffset:0,c=h?u.range.endOffset:u._current.length,o=c-e,n&&(s||h)&&(u._current==n.startContainer&&e<=n.startOffset&&(n.startOffset-=o),u._current==n.endContainer&&c<=n.endOffset&&(n.endOffset-=o)),u._current.deleteData(e,o)):(f=u._current.parentNode,n&&(u.range.startContainer==f||u.range.endContainer==f)&&(l=r(u._current),f==n.startContainer&&l<=n.startOffset&&(n.startOffset-=1),f==n.endContainer&&l<n.endOffset&&(n.endOffset-=1)),t.remove(u._current))},hasPartialSubtree:function(){return!i(this._current)&&(t.isAncestorOrSelf(this._current,this.range.startContainer)||t.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var n=this,i=n.range.cloneRange();return i.selectNodeContents(n._current),t.isAncestorOrSelf(n._current,n.range.startContainer)&&i.setStart(n.range.startContainer,n.range.startOffset),t.isAncestorOrSelf(n._current,n.range.endContainer)&&i.setEnd(n.range.endContainer,n.range.endOffset),new f(i)}}),k=e.extend({init:function(n){this.ownerDocument=n,this.rangeCount=1},addRange:function(n){var t=this.ownerDocument.body.createTextRange();b(t,n,!1),b(t,n,!0),t.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var f,n=new s(this.ownerDocument),c=this.ownerDocument.selection,l,o,h;try{if(f=c.createRange(),l=f.item?f.item(0):f.parentElement(),l.ownerDocument!=this.ownerDocument)return n}catch(v){return n}if(c.type=="Control")n.selectNode(f.item(0));else{w(f,n,!0),w(f,n,!1),n.startContainer.nodeType==9&&n.setStart(n.endContainer,n.startOffset),n.endContainer.nodeType==9&&n.setEnd(n.startContainer,n.endOffset),f.compareEndPoints("StartToEnd",f)===0&&n.collapse(!1);var t=n.startContainer,u=n.endContainer,e=this.ownerDocument.body;if(!n.collapsed&&n.startOffset===0&&n.endOffset==a(n.endContainer)&&!(t==u&&i(t)&&t.parentNode==e)){for(o=!1,h=!1;r(t)===0&&t==t.parentNode.firstChild&&t!=e;)t=t.parentNode,o=!0;while(r(u)==a(u.parentNode)-1&&u==u.parentNode.lastChild&&u!=e)u=u.parentNode,h=!0;t==e&&u==e&&o&&h&&(n.setStart(t,0),n.setEnd(u,a(e)))}}return n}}),d=e.extend({init:function(n){this.enumerate=function(){function i(n){if(t.is(n,"img")||n.nodeType==3&&!t.isWhitespace(n))r.push(n);else for(n=n.firstChild;n;)i(n),n=n.nextSibling}var r=[];return new f(n).traverse(i),r}}}),tt=e.extend({init:function(n){var t=this;t.range=n,t.rootNode=u.documentFromRange(n),t.body=t.rootNode.body,t.html=t.body.innerHTML,t.startContainer=t.nodeToPath(n.startContainer),t.endContainer=t.nodeToPath(n.endContainer),t.startOffset=t.offset(n.startContainer,n.startOffset),t.endOffset=t.offset(n.endContainer,n.endOffset)},index:function(n){for(var i=0,r=n.nodeType,t;n=n.previousSibling;)t=n.nodeType,(t!=3||r!=t)&&i++,r=t;return i},offset:function(n,t){if(n.nodeType==3)while((n=n.previousSibling)&&n.nodeType==3)t+=n.nodeValue.length;return t},nodeToPath:function(n){for(var t=[];n!=this.rootNode;)t.push(this.index(n)),n=n.parentNode;return t},toRangePoint:function(n,t,i,r){for(var u=this.rootNode,e=i.length,f=r;e--;)u=u.childNodes[i[e]];while(u.nodeType==3&&u.nodeValue.length<f)f-=u.nodeValue.length,u=u.nextSibling;n[t?"setStart":"setEnd"](u,f)},toRange:function(){var n=this,t=n.range.cloneRange();return n.toRangePoint(t,!0,n.startContainer,n.startOffset),n.toRangePoint(t,!1,n.endContainer,n.endOffset),t}}),it=e.extend({init:function(){this.caret=null},addCaret:function(n){var i=this;return i.caret=t.create(u.documentFromRange(n),"span",{className:"k-marker"}),n.insertNode(i.caret),n.selectNode(i.caret),i.caret},removeCaret:function(u){var c=this,f=c.caret.previousSibling,l=0,e,a,s,h;f&&(l=i(f)?f.nodeValue.length:r(f)),e=c.caret.parentNode,a=f?r(f):0,t.remove(c.caret),o(e),s=e.childNodes[a],i(s)?u.setStart(s,l):s?(h=t.lastTextNode(s),h?u.setStart(h,h.nodeValue.length):u[f?"setStartAfter":"setStartBefore"](s)):(n.browser.msie||e.innerHTML||(e.innerHTML='<br _moz_dirty="" />'),u.selectNodeContents(e)),u.collapse(!0)},add:function(n,i){var r=this,f;return i&&n.collapsed&&(r.addCaret(n),n=u.expand(n)),f=n.cloneRange(),f.collapse(!1),r.end=t.create(u.documentFromRange(n),"span",{className:"k-marker"}),f.insertNode(r.end),f=n.cloneRange(),f.collapse(!0),r.start=r.end.cloneNode(!0),f.insertNode(r.start),n.setStartBefore(r.start),n.setEndAfter(r.end),o(n.commonAncestorContainer),n},remove:function(n){var e=this,u=e.start,f=e.end,p,y,g,c,v,l,a,h,s;for(o(n.commonAncestorContainer);!u.nextSibling&&u.parentNode;)u=u.parentNode;while(!f.previousSibling&&f.parentNode)f=f.parentNode;if(p=u.previousSibling&&u.previousSibling.nodeType==3&&u.nextSibling&&u.nextSibling.nodeType==3,y=f.previousSibling&&f.previousSibling.nodeType==3&&f.nextSibling&&f.nextSibling.nodeType==3,g=p&&y,u=u.nextSibling,f=f.previousSibling,c=!1,v=!1,u==e.end&&(v=!!e.start.previousSibling,u=f=e.start.previousSibling||e.end.nextSibling,c=!0),t.remove(e.start),t.remove(e.end),!u||!f){n.selectNodeContents(n.commonAncestorContainer),n.collapse(!0);return}if(l=c?i(u)?u.nodeValue.length:u.childNodes.length:0,a=i(f)?f.nodeValue.length:f.childNodes.length,u.nodeType==3)while(u.previousSibling&&u.previousSibling.nodeType==3)u=u.previousSibling,l+=u.nodeValue.length;if(f.nodeType==3)while(f.previousSibling&&f.previousSibling.nodeType==3)f=f.previousSibling,a+=f.nodeValue.length;var w=r(u),b=u.parentNode,k=r(f),d=f.parentNode;for(h=u;h.previousSibling;h=h.previousSibling)h.nodeType==3&&h.previousSibling.nodeType==3&&w--;for(s=f;s.previousSibling;s=s.previousSibling)s.nodeType==3&&s.previousSibling.nodeType==3&&k--;o(b),u.nodeType==3&&(u=b.childNodes[w]),o(d),f.nodeType==3&&(f=d.childNodes[k]),c?(u.nodeType==3?n.setStart(u,l):n[v?"setStartAfter":"setStartBefore"](u),n.collapse(!0)):(u.nodeType==3?n.setStart(u,l):n.setStartBefore(u),f.nodeType==3?n.setEnd(f,a):n.setEndAfter(f)),e.caret&&e.removeCaret(n)}}),c=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,u={nodes:function(n){var i=u.textNodes(n);return i.length||(n.selectNodeContents(n.commonAncestorContainer),i=u.textNodes(n),i.length||(i=t.significantChildNodes(n.commonAncestorContainer))),i},textNodes:function(n){return new d(n).enumerate()},documentFromRange:function(n){var t=n.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(t){return n.browser.msie&&n.browser.version<9?new s(t):t.createRange()},selectRange:function(n){var t=u.image(n),i;t&&(n.setStartAfter(t),n.setEndAfter(t)),i=h.selectionFromRange(n),i.removeAllRanges(),i.addRange(n)},split:function(n,i,r){function u(u){var e=n.cloneRange(),f;e.collapse(u),e[u?"setStartBefore":"setEndAfter"](i),f=e.extractContents(),r&&(f=t.trim(f)),t[u?"insertBefore":"insertAfter"](f,i)}u(!0),u(!1)},getMarkers:function(n){var t=[];return new f(n).traverse(function(n){n.className=="k-marker"&&t.push(n)}),t},image:function(n){var i=[];return new f(n).traverse(function(n){t.is(n,"img")&&i.push(n)}),i.length==1?i[0]:void 0},expand:function(n){var t=n.cloneRange(),o=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1],s=t.endContainer.childNodes[t.endOffset],f,e,r,u;return!i(o)||!i(s)?t:(f=o.nodeValue,e=s.nodeValue,!f||!e)?t:(r=f.split("").reverse().join("").search(c),u=e.search(c),!r||!u)?t:(u=u==-1?e.length:u,r=r==-1?0:f.length-r,t.setStart(o,r),t.setEnd(s,u),t)},isExpandable:function(n){var i=n.startContainer,f=u.documentFromRange(n),r,t;if(i==f||i==f.body||(r=n.cloneRange(),t=i.nodeValue,!t))return!1;var e=t.substring(0,r.startOffset),o=t.substring(r.startOffset),s=0,h=0;return e&&(s=e.split("").reverse().join("").search(c)),o&&(h=o.search(c)),s&&h}};nt(v,{SelectionUtils:h,W3CRange:s,RangeIterator:f,W3CSelection:k,RangeEnumerator:d,RestorePoint:tt,Marker:it,RangeUtils:u})}(jQuery),function(n){var y=window.kendo,u=y.Class,r=y.ui.editor,p=r.EditorUtils,b=p.registerTool,t=r.Dom,v=r.RangeUtils,f=v.selectRange,a=r.Tool,w=r.ToolTemplate,i=r.RestorePoint,c=r.Marker,it=n.extend,o=u.extend({init:function(n){var t=this;t.options=n,t.restorePoint=new i(n.range),t.marker=new c,t.formatter=n.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(n){return this.marker.add(this.getRange(),n)},releaseRange:function(n){this.marker.remove(n),f(n)},undo:function(){var n=this.restorePoint;n.body.innerHTML=n.html,f(n.toRange())},redo:function(){this.exec()},exec:function(){var n=this,t=n.lockRange(!0);n.formatter.editor=n.editor,n.formatter.toggle(t),n.releaseRange(t)}}),e=u.extend({init:function(n,t){this.body=n.body,this.startRestorePoint=n,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,f(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,f(this.startRestorePoint.toRange())}}),h=o.extend({init:function(n){o.fn.init.call(this,n),this.managesUndoRedo=!0},exec:function(){var n=this.editor,t=n.getRange(),r=new i(t);n.clipboard.paste(this.options.value||""),n.undoRedoStack.push(new e(r,new i(n.getRange()))),n.focus()}}),s=a.extend({initialize:function(n,t){var i=t.editor;new r.SelectBox(n,{dataSource:i.options.insertHtml||[],dataTextField:"text",dataValueField:"value",change:function(){a.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:!1})},command:function(n){return new h(n)},update:function(n){var t=n.data("kendoSelectBox")||n.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),k=u.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(n){var t=this;t.stack=t.stack.slice(0,t.currentCommandIndex+1),t.currentCommandIndex=t.stack.push(n)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),d=u.extend({init:function(n){this.editor=n},keydown:function(n){var t=this,r=t.editor,u=r.keyboard,o=u.isTypingKey(n),f;return o&&!u.isTypingInProgress()?(f=r.getRange(),t.startRestorePoint=new i(f),u.startTyping(function(){r.selectionRestorePoint=t.endRestorePoint=new i(r.getRange()),r.undoRedoStack.push(new e(t.startRestorePoint,t.endRestorePoint))}),!0):!1},keyup:function(){var n=this.editor.keyboard;return n.isTypingInProgress()?(n.endTyping(),!0):!1}}),g=u.extend({init:function(n){this.editor=n,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var n=this;n.endRestorePoint=new i(n.editor.getRange()),n.editor.undoRedoStack.push(new e(n.startRestorePoint,n.endRestorePoint)),n.startRestorePoint=n.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(n){var t=this,u=t.editor,r=u.keyboard;return r.isModifierKey(n)?(r.isTypingInProgress()&&r.endTyping(!0),t.startRestorePoint=new i(u.getRange()),!0):r.isSystem(n)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(n){var t=this;return t.systemCommandIsInProgress&&t.changed()?(t.systemCommandIsInProgress=!1,t.createUndoCommand(n),!0):!1}}),nt=u.extend({init:function(n){this.handlers=n,this.typingInProgress=!1},isCharacter:function(n){return n>=48&&n<=90||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222},toolFromShortcut:function(t,i){var f=String.fromCharCode(i.keyCode),u,r;for(u in t)if(r=n.extend({ctrl:!1,alt:!1,shift:!1},t[u].options),(r.key==f||r.key==i.keyCode)&&r.ctrl==i.ctrlKey&&r.alt==i.altKey&&r.shift==i.shiftKey)return u},isTypingKey:function(n){var t=n.keyCode;return this.isCharacter(t)&&!n.ctrlKey&&!n.altKey||t==32||t==13||t==8||t==46&&!n.shiftKey&&!n.ctrlKey&&!n.altKey},isModifierKey:function(n){var t=n.keyCode;return t==17&&!n.shiftKey&&!n.altKey||t==16&&!n.ctrlKey&&!n.altKey||t==18&&!n.ctrlKey&&!n.shiftKey},isSystem:function(n){return n.keyCode==46&&n.ctrlKey&&!n.altKey&&!n.shiftKey},startTyping:function(n){this.onEndTyping=n,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(t){var i=this;i.clearTimeout(),t?i.stopTyping():i.timeout=window.setTimeout(n.proxy(i.stopTyping,i),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(n,t){for(var r=this.handlers,i=0;i<r.length;i++)if(r[i][t](n))break},keydown:function(n){this.notify(n,"keydown")},keyup:function(n){this.notify(n,"keyup")}}),tt=u.extend({init:function(n){this.editor=n,this.cleaners=[new l]},htmlToFragment:function(n){var f=this.editor,r=f.document,i=t.create(r,"div"),u=r.createDocumentFragment();for(i.innerHTML=n;i.firstChild;)u.appendChild(i.firstChild);return u},isBlock:function(n){return/<(div|p|ul|ol|table|h[1-6])/i.test(n)},oncut:function(){var n=this.editor,t=new i(n.getRange());setTimeout(function(){n.undoRedoStack.push(new e(t,new i(n.getRange())))})},onpaste:function(u){var o=this.editor,a=o.getRange(),v="﻿",y=new i(a),s=t.create(o.document,"div",{className:"k-paste-container",innerHTML:v}),h,c,l;o.body.appendChild(s),o.body.createTextRange?(u.preventDefault(),h=o.createRange(),h.selectNodeContents(s),o.selectRange(h),c=o.body.createTextRange(),c.moveToElementText(s),n(o.body).unbind("paste"),c.execCommand("Paste"),n(o.body).bind("paste",n.proxy(arguments.callee,this))):(l=o.createRange(),l.selectNodeContents(s),f(l)),setTimeout(function(){var n,u={html:""};f(a),t.remove(s),s.lastChild&&t.is(s.lastChild,"br")&&t.remove(s.lastChild),n=s.innerHTML,n!=v&&(u.html=n),o.trigger("paste",u),o.clipboard.paste(u.html,!0),o.undoRedoStack.push(new e(y,new i(o.getRange()))),r.EditorUtils.select(o)})},splittableParent:function(n,i){var r,u;if(n)return t.parentOfType(i,["p","ul","ol"])||i.parentNode;if(r=i.parentNode,u=i.ownerDocument.body,t.isInline(r))while(r.parentNode!=u&&!t.isBlock(r.parentNode))r=r.parentNode;return r},paste:function(n,i){for(var l=this.editor,h,r,o,a,u=0,y=this.cleaners.length;u<y;u++)this.cleaners[u].applicable(n)&&(n=this.cleaners[u].clean(n));i&&(n=n.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3"),n=n.replace(/<(a|span)[^>]*><\/\1>/ig,"")),n=n.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),h=this.isBlock(n),r=l.getRange(),r.deleteContents(),r.startContainer==l.document&&r.selectNodeContents(l.body);var p=new c,e=p.addCaret(r),s=this.splittableParent(h,e),w=!1;if(!/body|td/.test(t.name(s))&&(h||t.isInline(s))&&(r.selectNode(e),v.split(r,s,!0),w=!0),o=this.htmlToFragment(n),o.firstChild&&o.firstChild.className==="k-paste-container"){for(a=[],u=0,y=o.childNodes.length;u<y;u++)a.push(o.childNodes[u].innerHTML);o=this.htmlToFragment(a.join("<br />"))}if(r.insertNode(o),s=this.splittableParent(h,e),w){while(e.parentNode!=s)t.unwrap(e.parentNode);t.unwrap(e.parentNode)}t.normalize(r.commonAncestorContainer),e.style.display="inline",t.scrollTo(e),p.removeCaret(r),f(r)}}),l=u.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/style=(["|'])\s*\1/g,""]},applicable:function(n){return/class="?Mso|style="[^"]*mso-/i.test(n)},listType:function(n){return/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(n)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(n)?"ol":void 0},lists:function(i){for(var o=t.create(document,"div",{innerHTML:i}),y=n(t.blockElements.join(","),o),l=-1,p,f={ul:{},ol:{}},s=o,r,e,h,u,c,a,v=0;v<y.length;v++){if(r=y[v],i=r.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),e=this.listType(i),!e||t.name(r)!="p"){r.innerHTML?(f={ul:{},ol:{}},s=o,l=-1):t.remove(r);continue}if(h=parseFloat(r.style.marginLeft||0),u=f[e][h],(h>l||!u)&&(u=t.create(document,e),s==o?t.insertBefore(u,r):s.appendChild(u),f[e][h]=u),p!=e)for(c in f)for(a in f[c])n.contains(u,f[c][a])&&delete f[c][a];t.remove(r.firstChild),s=t.create(document,"li",{innerHTML:r.innerHTML}),u.appendChild(s),t.remove(r),l=h,p=e}return o.innerHTML},stripEmptyAnchors:function(n){return n.replace(/<a([^>]*)>\s*<\/a>/ig,function(n,t){return!t||t.indexOf("href")<0?"":n})},clean:function(n){for(var i=this,r=i.replacements,t=0,u=r.length;t<u;t+=2)n=n.replace(r[t],r[t+1]);return n=i.stripEmptyAnchors(n),n=i.lists(n),n.replace(/\s+class="?[^"\s>]*"?/ig,"")}});it(r,{Command:o,GenericCommand:e,InsertHtmlCommand:h,InsertHtmlTool:s,UndoRedoStack:k,TypingHandler:d,SystemHandler:g,Keyboard:nt,Clipboard:tt,MSWordFormatCleaner:l}),b("insertHtml",new s({template:new w({template:p.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(jQuery),function(n){function d(n){return n.collapsed&&!p.isExpandable(n)}var w=window.kendo,tt=w.Class,t=w.ui.editor,s=w.ui.Editor.fn.options.formats,r=t.EditorUtils,e=t.Tool,u=t.ToolTemplate,nt=t.FormatTool,i=t.Dom,p=t.RangeUtils,h=n.extend,f=t.EditorUtils.registerTool,c=t.EditorUtils.registerFormat,b="k-marker",l=tt.extend({init:function(n){this.format=n},numberOfSiblings:function(n){for(var r=0,u=0,f=0,i=n.parentNode,t=i.firstChild;t;t=t.nextSibling)t!=n&&(t.className==b?f++:t.nodeType==3?r++:u++);return f>1&&i.firstChild.className==b&&i.lastChild.className==b?0:u+r},findSuitable:function(n,t){return!t&&this.numberOfSiblings(n)>0?null:i.parentOfType(n,this.format[0].tags)},findFormat:function(n){for(var u=this.format,o=i.attrEquals,t,f,e,r=0,s=u.length;r<s;r++){if(t=n,f=u[r].tags,e=u[r].attr,t&&i.ofType(t,f)&&o(t,e))return t;while(t)if(t=i.parentOfType(t,f),t&&o(t,e))return t}return null},isFormatted:function(n){for(var t=0,i=n.length;t<i;t++)if(this.findFormat(n[t]))return!0;return!1}}),y=tt.extend({init:function(n,t){var i=this;i.finder=new l(n),i.attributes=h({},n[0].attr,t),i.tag=n[0].tags[0]},wrap:function(n){return i.wrap(n,i.create(n.ownerDocument,this.tag,this.attributes))},activate:function(n,t){var i=this;i.finder.isFormatted(t)?(i.split(n),i.remove(t)):i.apply(t)},toggle:function(n){var t=p.textNodes(n);t.length>0&&this.activate(n,t)},apply:function(n){for(var r=this,e=[],u,t,f=0,o=n.length;f<o;f++)u=n[f],t=r.finder.findSuitable(u),t?i.attr(t,r.attributes):t=r.wrap(u),e.push(t);r.consolidate(e)},remove:function(n){for(var r=this,t,u=0,f=n.length;u<f;u++)t=r.finder.findFormat(n[u]),t&&(r.attributes&&r.attributes.style?(i.unstyle(t,r.attributes.style),t.style.cssText||i.unwrap(t)):i.unwrap(t))},split:function(n){var r=p.textNodes(n),u=r.length,t,i;if(u>0)for(t=0;t<u;t++)i=this.finder.findFormat(r[t]),i&&p.split(n,i,!0)},consolidate:function(n){for(var t,r;n.length>1;)if(t=n.pop(),r=n[n.length-1],t.previousSibling&&t.previousSibling.className==b&&r.appendChild(t.previousSibling),t.tagName==r.tagName&&t.previousSibling==r&&t.style.cssText==r.style.cssText){while(t.firstChild)r.appendChild(t.firstChild);i.remove(t)}}}),v=l.extend({init:function(n,t){var i=this;i.format=n,i.greedyProperty=t,l.fn.init.call(i,n)},getInlineCssValue:function(t){var e=t.attributes,o=n.trim,r,v,u,y,p,s,h,f,w,c,l,a;if(e){for(r=0,v=e.length;r<v;r++)if(u=e[r],y=u.nodeName,p=u.nodeValue,u.specified&&y=="style")for(s=o(p||t.style.cssText).split(";"),f=0,w=s.length;f<w;f++)if(h=s[f],h.length){if(c=h.split(":"),l=o(c[0].toLowerCase()),a=o(c[1]),l!=this.greedyProperty)continue;return l.indexOf("color")>=0?i.toHex(a):a}return}},getFormatInner:function(t){for(var e=n(i.isDataNode(t)?t.parentNode:t),u=e.parents().andSelf(),f,r=0,o=u.length;r<o;r++)if(f=this.greedyProperty=="className"?u[r].className:this.getInlineCssValue(u[r]),f)return f;return"inherit"},getFormat:function(n){for(var i=this.getFormatInner(n[0]),t=1,r=n.length;t<r;t++)if(i!=this.getFormatInner(n[t]))return"";return i},isFormatted:function(n){return this.getFormat(n)!==""}}),a=y.extend({init:function(n,t,i){var r=this;y.fn.init.call(r,n,t),r.greedyProperty=i,r.values=t,r.finder=new v(n,i)},activate:function(n,t){var i=this,r,u=i.greedyProperty,f="apply";i.split(n),u&&(r=u.replace(/-([a-z])/,function(n,t){return t.toUpperCase()}),i.values.style[r]=="inherit"&&(f="remove")),i[f](t)}}),o=nt.extend({init:function(n){nt.fn.init.call(this,h(n,{finder:new l(n.format),formatter:function(){return new y(n.format)}})),this.willDelayExecution=d}}),g=e.extend({init:function(t){var i=this;e.fn.init.call(i,t),i.type=n.browser.msie||w.support.touch?"kendoDropDownList":"kendoComboBox",i.format=[{tags:["span"]}],i.finder=new v(i.format,t.cssAttr)},command:function(n){var i=this.options,u=this.format,r={};return new t.FormatCommand(h(n,{formatter:function(){return r[i.domAttr]=n.value,new a(u,{style:r},i.cssAttr)}}))},willDelayExecution:d,update:function(n,t,i){var r=this,f=n.data(r.type),u=i.getPending(r.name),e=u&&u.params?u.params.value:r.finder.getFormat(t);f.close(),f.value(e)},initialize:function(n,t){var r=t.editor,i=this.options,u=i.name,f,o=[];i.defaultValue&&(o=[{text:r.options.messages[i.defaultValue[0].text],value:i.defaultValue[0].value}]),f=o.concat(i.items?i.items:r.options[u]),n[this.type]({dataTextField:"text",dataValueField:"value",dataSource:f,change:function(){e.exec(r,u,this.value())},highlightFirst:!1}),n.closest(".k-widget").removeClass("k-"+u).find("*").andSelf().attr("unselectable","on"),n.data(this.type).value("inherit")}}),k=e.extend({init:function(n){e.fn.init.call(this,n),this.options=n,this.format=[{tags:["span"]}]},update:function(n){n.data("kendoColorPicker").close()},command:function(n){var i=this.options,u=this.format,r={};return new t.FormatCommand(h(n,{formatter:function(){return r[i.domAttr]=n.value,new a(u,{style:r},i.cssAttr)}}))},willDelayExecution:d,initialize:function(n,i){var r=i.editor,u=this.name;new t.ColorPicker(n,{value:"#000000",change:function(n){e.exec(r,u,n.value)}})}}),it=e.extend({init:function(n){var t=this;e.fn.init.call(t,n),t.format=[{tags:["span"]}],t.finder=new v(t.format,"className")},command:function(n){var i=this.format;return new t.FormatCommand(h(n,{formatter:function(){return new a(i,{className:n.value})}}))},update:function(n,t){var i=n.data("kendoSelectBox");i.close(),i.value(this.finder.getFormat(t))},initialize:function(n,i){var r=i.editor;new t.SelectBox(n,{dataTextField:"text",dataValueField:"value",dataSource:r.options.style,title:r.options.messages.style,change:function(){e.exec(r,"style",this.value())},highlightFirst:!1}),n.closest(".k-widget").removeClass("k-"+this.name).find("*").andSelf().attr("unselectable","on")}});h(t,{InlineFormatFinder:l,InlineFormatter:y,GreedyInlineFormatFinder:v,GreedyInlineFormatter:a,InlineFormatTool:o,FontTool:g,ColorTool:k,StyleTool:it}),f("style",new t.StyleTool({template:new u({template:r.dropDownListTemplate,title:"Styles"})})),c("bold",[{tags:["strong"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),f("bold",new o({key:"B",ctrl:!0,format:s.bold,template:new u({template:r.buttonTemplate,title:"Bold"})})),c("italic",[{tags:["em"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),f("italic",new o({key:"I",ctrl:!0,format:s.italic,template:new u({template:r.buttonTemplate,title:"Italic"})})),c("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}}]),f("underline",new o({key:"U",ctrl:!0,format:s.underline,template:new u({template:r.buttonTemplate,title:"Underline"})})),c("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),f("strikethrough",new o({format:s.strikethrough,template:new u({template:r.buttonTemplate,title:"Strikethrough"})})),c("superscript",[{tags:["sup"]}]),f("superscript",new o({format:s.superscript,template:new u({template:r.buttonTemplate,title:"Superscript"})})),c("subscript",[{tags:["sub"]}]),f("subscript",new o({format:s.subscript,template:new u({template:r.buttonTemplate,title:"Subscript"})})),f("foreColor",new k({cssAttr:"color",domAttr:"color",name:"foreColor",template:new u({template:r.colorPickerTemplate,title:"Color"})})),f("backColor",new k({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new u({template:r.colorPickerTemplate,title:"Background Color"})})),f("fontName",new g({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new u({template:r.comboBoxTemplate,title:"Font Name"})})),f("fontSize",new g({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new u({template:r.comboBoxTemplate,title:"Font Size"})}))}(jQuery),function(n){var y=window.kendo,v=y.Class,h=n.extend,i=y.ui.editor,c=y.ui.Editor.fn.options.formats,t=i.Dom,k=i.Command,a=i.Tool,e=i.ToolTemplate,b=i.FormatTool,r=i.EditorUtils,u=r.registerTool,s=r.registerFormat,l=i.RangeUtils,f=v.extend({init:function(n){this.format=n},contains:function(n,i){for(var r,u=0,f=i.length;u<f;u++)if(r=i[u],!r||!t.isAncestorOrSelf(n,r))return!1;return!0},findSuitable:function(i){for(var o=this.format,u=[],f,r=0,e=i.length;r<e;r++){if(f=t.ofType(i[r],o[0].tags)?i[r]:t.parentOfType(i[r],o[0].tags),!f)return[];n.inArray(f,u)<0&&u.push(f)}for(r=0,e=u.length;r<e;r++)if(this.contains(u[r],u))return[u[r]];return u},findFormat:function(n){for(var u=this.format,i,f,e,r=0,o=u.length;r<o;r++)for(i=n,f=u[r].tags,e=u[r].attr;i;){if(t.ofType(i,f)&&t.attrEquals(i,e))return i;i=i.parentNode}return null},getFormat:function(n){var e=this,u=function(n){return e.findFormat(t.isDataNode(n)?n.parentNode:n)},r=u(n[0]),i,f;if(!r)return"";for(i=1,f=n.length;i<f;i++)if(r!=u(n[i]))return"";return r.nodeName.toLowerCase()},isFormatted:function(n){for(var t=0,i=n.length;t<i;t++)if(!this.findFormat(n[t]))return!1;return!0}}),p=v.extend({init:function(n,t){this.format=n,this.values=t,this.finder=new f(n)},wrap:function(n,i,r){var f=r.length==1?t.blockParentOrBody(r[0]):t.commonAncestor.apply(null,r);t.isInline(f)&&(f=t.blockParentOrBody(f));for(var o=t.significantChildNodes(f),h=t.findNodeIndex(o[0]),u=t.create(f.ownerDocument,n,i),e,s=0;s<o.length;s++){if(e=o[s],t.isBlock(e)){t.attr(e,i),u.childNodes.length&&(t.insertBefore(u,e),u=u.cloneNode(!1)),h=t.findNodeIndex(e)+1;continue}u.appendChild(e)}u.firstChild&&t.insertAt(f,u,h)},apply:function(n){var i=this,u=t.is(n[0],"img")?[n[0]]:i.finder.findSuitable(n),e=u.length?r.formatByName(t.name(u[0]),i.format):i.format[0],c=e.tags[0],o=h({},e.attr,i.values),f,s;if(u.length)for(f=0,s=u.length;f<s;f++)t.attr(u[f],o);else i.wrap(c,o,n)},remove:function(n){for(var i,u,f=0,e=n.length;f<e;f++)i=this.finder.findFormat(n[f]),i&&(t.ofType(i,["p","img","li"])?(u=r.formatByName(t.name(i),this.format),u.attr.style&&t.unstyle(i,u.attr.style),u.attr.className&&t.removeClass(i,u.attr.className)):t.unwrap(i))},toggle:function(n){var t=this,i=l.nodes(n);t.finder.isFormatted(i)?t.remove(i):t.apply(i)}}),d=v.extend({init:function(n,t){var i=this;i.format=n,i.values=t,i.finder=new f(n)},apply:function(n){var e=this.format,u=t.blockParents(n),o=e[0].tags[0],r,s,h,c,f;if(u.length)for(r=0,s=u.length;r<s;r++)t.is(u[r],"li")?(h=u[r].parentNode,c=new i.ListFormatter(h.nodeName.toLowerCase(),o),f=this.editor.createRange(),f.selectNode(u[r]),c.toggle(f)):t.changeTag(u[r],o);else new p(e,this.values).apply(n)},toggle:function(n){var i=l.textNodes(n);i.length||(n.selectNodeContents(n.commonAncestorContainer),i=l.textNodes(n),i.length||(i=t.significantChildNodes(n.commonAncestorContainer))),this.apply(i)}}),w=k.extend({init:function(n){n.formatter=n.formatter(),k.fn.init.call(this,n)}}),o=b.extend({init:function(n){b.fn.init.call(this,h(n,{finder:new f(n.format),formatter:function(){return new p(n.format)}}))}}),g=a.extend({init:function(n){a.fn.init.call(this,n),this.finder=new f([{tags:t.blockElements}])},command:function(n){return new w(h(n,{formatter:function(){return new d([{tags:[n.value]}],{})}}))},update:function(n,t){var i;i=n.is("select")?n.data("kendoSelectBox"):n.find("select").data("kendoSelectBox"),i.close(),i.value(this.finder.getFormat(t))},initialize:function(n,t){var r=t.editor,u="formatBlock";new i.SelectBox(n,{dataTextField:"text",dataValueField:"value",dataSource:this.options.items?this.options.items:r.options.formatBlock,title:r.options.messages.formatBlock,change:function(){a.exec(r,u,this.value())},highlightFirst:!1}),n.closest(".k-widget").removeClass("k-"+u).find("*").andSelf().attr("unselectable","on")}});h(i,{BlockFormatFinder:f,BlockFormatter:p,GreedyBlockFormatter:d,FormatCommand:w,BlockFormatTool:o,FormatBlockTool:g}),u("formatBlock",new g({template:new e({template:r.dropDownListTemplate})})),s("justifyLeft",[{tags:t.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left"}}}]),u("justifyLeft",new o({format:c.justifyLeft,template:new e({template:r.buttonTemplate,title:"Justify Left"})})),s("justifyCenter",[{tags:t.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),u("justifyCenter",new o({format:c.justifyCenter,template:new e({template:r.buttonTemplate,title:"Justify Center"})})),s("justifyRight",[{tags:t.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right"}}}]),u("justifyRight",new o({format:c.justifyRight,template:new e({template:r.buttonTemplate,title:"Justify Right"})})),s("justifyFull",[{tags:t.blockElements,attr:{style:{textAlign:"justify"}}}]),u("justifyFull",new o({format:c.justifyFull,template:new e({template:r.buttonTemplate,title:"Justify Full"})}))}(jQuery),function(n){var c=window.kendo,l=n.extend,r=c.ui.editor,t=r.Dom,u=r.Command,e=r.Tool,a=r.BlockFormatter,f=t.normalize,i=r.RangeUtils,o=r.EditorUtils.registerTool,s=u.extend({init:function(n){this.options=n,u.fn.init.call(this,n)},exec:function(){function nt(n){if(n.firstChild&&t.is(n.firstChild,"br")&&t.remove(n.firstChild),t.isDataNode(n)&&!n.nodeValue&&(n=n.parentNode),n&&!t.is(n,"img")){while(n.firstChild&&n.firstChild.nodeType==1)n=n.firstChild;n.innerHTML||(n.innerHTML=p)}}var r=this.getRange(),b=i.documentFromRange(r),l,h,u,w,p=n.browser.msie?"":'<br _moz_dirty="" />',s,e,o,c,v,k="p,h1,h2,h3,h4,h5,h6".split(","),d=t.parentOfType(r.startContainer,k),g=t.parentOfType(r.endContainer,k),tt=d&&!g||!d&&g,y;r.deleteContents(),e=t.create(b,"a"),r.insertNode(e),e.parentNode||(w=r.commonAncestorContainer,w.innerHTML="",w.appendChild(e)),f(e.parentNode),o=t.parentOfType(e,["li"]),c=t.parentOfType(e,"h1,h2,h3,h4,h5,h6".split(",")),o?(v=r.cloneRange(),v.selectNode(o),i.textNodes(v).length||(s=t.create(b,"p"),o.nextSibling&&i.split(v,o.parentNode),t.insertAfter(s,o.parentNode),t.remove(o.parentNode.childNodes.length==1?o.parentNode:o),s.innerHTML=p,u=s)):c&&!e.nextSibling&&(s=t.create(b,"p"),t.insertAfter(s,c),s.innerHTML=p,t.remove(e),u=s),u||(o||c||new a([{tags:["p"]}]).apply([e]),r.selectNode(e),l=t.parentOfType(e,[o?"li":c?t.name(c):"p"]),i.split(r,l,tt),h=l.previousSibling,t.is(h,"li")&&h.firstChild&&!t.is(h.firstChild,"br")&&(h=h.firstChild),u=l.nextSibling,t.is(u,"li")&&u.firstChild&&!t.is(u.firstChild,"br")&&(u=u.firstChild),t.remove(l),nt(h),nt(u),f(h)),f(u),t.is(u,"img")?r.setStartBefore(u):(r.selectNodeContents(u),y=i.textNodes(r)[0],y&&r.selectNodeContents(y)),r.collapse(!0),t.scrollTo(u),i.selectRange(r)}}),h=u.extend({init:function(n){this.options=n,u.fn.init.call(this,n)},exec:function(){var u=this.getRange(),r,e;u.deleteContents(),r=t.create(i.documentFromRange(u),"br"),u.insertNode(r),f(r.parentNode),n.browser.msie||r.nextSibling&&!t.isWhitespace(r.nextSibling)||(e=r.cloneNode(!0),e.setAttribute("_moz_dirty",""),t.insertAfter(e,r)),u.setStartAfter(r),u.collapse(!0),i.selectRange(u)}});l(r,{ParagraphCommand:s,NewLineCommand:h}),o("insertLineBreak",new e({key:13,shift:!0,command:h})),o("insertParagraph",new e({key:13,command:s}))}(jQuery),function(n){var y=window.kendo,b=y.Class,o=n.extend,i=y.ui.editor,t=i.Dom,f=i.RangeUtils,s=i.EditorUtils,w=i.Command,c=i.ToolTemplate,l=i.FormatTool,a=i.BlockFormatFinder,u=f.textNodes,v=i.EditorUtils.registerTool,r=a.extend({init:function(n){this.tag=n;var t=this.tags=[n=="ul"?"ol":"ul",n];a.fn.init.call(this,[{tags:t}])},isFormatted:function(n){for(var r=[],u,i=0;i<n.length;i++)(u=this.findFormat(n[i]))&&t.name(u)==this.tag&&r.push(u);if(r.length<1||r.length!=n.length)return!1;for(i=0;i<r.length;i++){if(r[i].parentNode!=u.parentNode)break;if(r[i]!=u)return!1}return!0},findSuitable:function(n){var i=t.parentOfType(n[0],this.tags);return i&&t.name(i)==this.tag?i:null}}),p=b.extend({init:function(n,t){var i=this;i.finder=new r(n),i.tag=n,i.unwrapTag=t},wrap:function(n,i){for(var u=t.create(n.ownerDocument,"li"),r,f=0;f<i.length;f++){if(r=i[f],t.is(r,"li")){n.appendChild(r);continue}if(t.is(r,"ul")||t.is(r,"ol")){while(r.firstChild)n.appendChild(r.firstChild);continue}if(t.is(r,"td")){while(r.firstChild)u.appendChild(r.firstChild);n.appendChild(u),r.appendChild(n),n=n.cloneNode(!1),u=u.cloneNode(!1);continue}u.appendChild(r),t.isBlock(r)&&(n.appendChild(u),t.unwrap(r),u=u.cloneNode(!1))}u.firstChild&&n.appendChild(u)},containsAny:function(n,i){for(var r=0;r<i.length;r++)if(t.isAncestorOrSelf(n,i[r]))return!0;return!1},suitable:function(n,i){if(n.className=="k-marker"){var r=n.nextSibling;if(r&&t.isBlock(r)||(r=n.previousSibling,r&&t.isBlock(r)))return!1}return this.containsAny(n,i)||t.isInline(n)||n.nodeType==3},split:function(i){var r=u(i),h,c,e,l,o,s;if(r.length)for(h=t.parentOfType(r[0],["li"]),c=t.parentOfType(r[r.length-1],["li"]),i.setStartBefore(h),i.setEndAfter(c),e=0,l=r.length;e<l;e++)o=this.finder.findFormat(r[e]),o&&(s=n(o).parents("ul,ol"),s[0]?f.split(i,s.last()[0],!0):f.split(i,o,!0))},merge:function(n,i){for(var u=i.previousSibling,r;u&&(u.className=="k-marker"||u.nodeType==3&&t.isWhitespace(u));)u=u.previousSibling;if(u&&t.name(u)==n){while(i.firstChild)u.appendChild(i.firstChild);t.remove(i),i=u}for(r=i.nextSibling;r&&(r.className=="k-marker"||r.nodeType==3&&t.isWhitespace(r));)r=r.nextSibling;if(r&&t.name(r)==n){while(i.lastChild)r.insertBefore(i.lastChild,r.firstChild);t.remove(i)}},applyOnSection:function(i,u){function v(){o.push(this)}var c=this.tag,e,o,f,s,l,h,a;for(e=u.length==1?t.parentOfType(u[0],["ul","ol"]):t.commonAncestor.apply(null,u),e||(e=t.parentOfType(u[0],["td"])||u[0].ownerDocument.body),t.isInline(e)&&(e=t.blockParentOrBody(e)),o=[],f=this.finder.findSuitable(u),f||(f=new r(c=="ul"?"ol":"ul").findSuitable(u)),s=t.significantChildNodes(e),s.length||(s=u),/table|tbody/.test(t.name(e))&&(s=n.map(u,function(n){return t.parentOfType(n,["td"])})),l=0;l<s.length;l++)h=s[l],a=t.name(h),!this.suitable(h,u)||f&&t.isAncestorOrSelf(f,h)||(f&&(a=="ul"||a=="ol")?(n.each(h.childNodes,v),t.remove(h)):o.push(h));o.length!=s.length||e==u[0].ownerDocument.body||/table|tbody|tr|td/.test(t.name(e))||(o=[e]),f||(f=t.create(e.ownerDocument,c),t.insertBefore(f,o[0])),this.wrap(f,o),t.is(f,c)||t.changeTag(f,c),this.merge(c,f)},apply:function(n){var i=0,u=[],r,f,e;do e=t.parentOfType(n[i],["td","body"]),r&&e==r?f.push(n[i]):(r&&u.push({section:r,nodes:f}),f=[n[i]],r=e),i++;while(i<n.length);for(u.push({section:r,nodes:f}),i=0;i<u.length;i++)this.applyOnSection(u[i].section,u[i].nodes)},unwrap:function(i){for(var u=i.ownerDocument.createDocumentFragment(),s=this.unwrapTag,e,r,o,f=i.firstChild;f;f=f.nextSibling){for(r=t.create(i.ownerDocument,s||"p");f.firstChild;)o=f.firstChild,t.isBlock(o)?(r.firstChild&&(u.appendChild(r),r=t.create(i.ownerDocument,s||"p")),u.appendChild(o)):r.appendChild(o);r.firstChild&&u.appendChild(r)}e=n(i).parents("ul,ol"),e[0]?(t.insertAfter(u,e.last()[0]),e.last().remove()):t.insertAfter(u,i),t.remove(i)},remove:function(n){for(var t,i=0,r=n.length;i<r;i++)t=this.finder.findFormat(n[i]),t&&this.unwrap(t)},toggle:function(n){var i=this,t=u(n),f=n.commonAncestorContainer,r;t.length||(n.selectNodeContents(f),t=u(n),t.length||(r=f.ownerDocument.createTextNode(""),n.startContainer.appendChild(r),t=[r],n.selectNode(r.parentNode))),i.finder.isFormatted(t)?(i.split(n),i.remove(t)):i.apply(t)}}),h=w.extend({init:function(n){n.formatter=new p(n.tag),w.fn.init.call(this,n)}}),e=l.extend({init:function(n){this.options=n,l.fn.init.call(this,o(n,{finder:new r(n.tag)}))},command:function(n){return new h(o(n,{tag:this.options.tag}))}});o(i,{ListFormatFinder:r,ListFormatter:p,ListCommand:h,ListTool:e}),v("insertUnorderedList",new e({tag:"ul",template:new c({template:s.buttonTemplate,title:"Remove Link"})})),v("insertOrderedList",new e({tag:"ol",template:new c({template:s.buttonTemplate,title:"Remove Link"})}))}(jQuery),function(n){var o=window.kendo,h=o.Class,d=n.extend,t=o.ui.editor,i=t.Dom,u=t.RangeUtils,s=t.EditorUtils,r=t.Command,e=t.Tool,l=t.ToolTemplate,a=t.InlineFormatter,k=t.InlineFormatFinder,f=u.textNodes,v=t.EditorUtils.registerTool,y=h.extend({findSuitable:function(n){return i.parentOfType(n,["a"])}}),p=h.extend({init:function(){this.finder=new y},apply:function(n,t){var s=f(n),r,h,e,o;t.innerHTML?(r=u.getMarkers(n),h=u.documentFromRange(n),n.deleteContents(),e=i.create(h,"a",t),n.insertNode(e),r.length>1&&(i.insertAfter(r[r.length-1],e),i.insertAfter(r[1],e),i[s.length>0?"insertBefore":"insertAfter"](r[0],e))):(o=new a([{tags:["a"]}],t),o.finder=this.finder,o.apply(s))}}),w=r.extend({init:function(n){n.formatter={toggle:function(n){new a([{tags:["a"]}]).remove(f(n))}},this.options=n,r.fn.init.call(this,n)}}),c=r.extend({init:function(n){var t=this;t.options=n,r.fn.init.call(t,n),t.attributes=null,t.async=!0,t.formatter=new p},exec:function(){function c(t){var i=n("#k-editor-link-url",e.element).val(),u,f,s;i&&i!="http://"&&(r.attributes={href:i},u=n("#k-editor-link-title",e.element).val(),u&&(r.attributes.title=u),f=n("#k-editor-link-text",e.element).val(),f!==l&&(r.attributes.innerHTML=f||i),s=n("#k-editor-link-target",e.element).is(":checked"),s&&(r.attributes.target="_blank"),r.formatter.apply(o,r.attributes)),h(t),r.change&&r.change()}function h(n){n.preventDefault(),e.destroy(),i.windowFromDocument(u.documentFromRange(o)).focus(),r.releaseRange(o)}var o=this.getRange(),v=o.collapsed;o=this.lockRange(!0);var t=f(o),l=null,r=this,s=t.length?r.formatter.finder.findSuitable(t[0]):null,a=t.length<=1||t.length==2&&v,y='<div class="k-editor-dialog"><ol><li class="k-form-text-row"><label for="k-editor-link-url">Web address</label><input type="text" class="k-input" id="k-editor-link-url"/></li>'+(a?'<li class="k-form-text-row"><label for="k-editor-link-text">Text</label><input type="text" class="k-input" id="k-editor-link-text"/></li>':"")+'<li class="k-form-text-row"><label for="k-editor-link-title">Tooltip</label><input type="text" class="k-input" id="k-editor-link-title"/></li><li class="k-form-checkbox-row"><input type="checkbox" id="k-editor-link-target"/><label for="k-editor-link-target">Open link in new window</label></li></ol><div class="k-button-wrapper"><button class="k-dialog-insert k-button">Insert</button>&nbsp;or&nbsp;<a href="#" class="k-dialog-close k-link">Close</a></div></div>',e=n(y).appendTo(document.body).kendoWindow(n.extend({},this.editor.options.dialogOptions,{title:"Insert link",close:h})).hide().find(".k-dialog-insert").click(c).end().find(".k-dialog-close").click(h).end().find(".k-form-text-row input").keydown(function(n){n.keyCode==13?c(n):n.keyCode==27&&h(n)}).end().find("#k-editor-link-url").val(s?s.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(t.length>0?t.length==1?t[0].nodeValue:t[0].nodeValue+t[1].nodeValue:"").end().find("#k-editor-link-title").val(s?s.title:"").end().find("#k-editor-link-target").attr("checked",s?s.target=="_blank":!1).end().show().data("kendoWindow").center();a&&t.length>0&&(l=n("#k-editor-link-text",e.element).val()),n("#k-editor-link-url",e.element).focus().select()},redo:function(){var n=this,t=n.lockRange(!0);n.formatter.apply(t,n.attributes),n.releaseRange(t)}}),b=e.extend({init:function(t){this.options=t,this.finder=new k([{tags:["a"]}]),e.fn.init.call(this,n.extend(t,{command:w}))},initialize:function(n){n.attr("unselectable","on").addClass("k-state-disabled")},update:function(n,t){n.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});d(o.ui.editor,{LinkFormatFinder:y,LinkFormatter:p,UnlinkCommand:w,LinkCommand:c,UnlinkTool:b}),v("createLink",new e({key:"K",ctrl:!0,command:c,template:new l({template:s.buttonTemplate,title:"Create Link"})})),v("unlink",new b({key:"K",ctrl:!0,shift:!0,template:new l({template:s.buttonTemplate,title:"Remove Link"})}))}(jQuery),function(n){var r=window.kendo,a=n.extend,t=r.ui.editor,e=t.EditorUtils,u=t.Dom,v=e.registerTool,y=t.ToolTemplate,i=t.RangeUtils,o=t.Command,s=r.keys,h="Insert Image",f="#k-editor-image-url",c="#k-editor-image-title",l=o.extend({init:function(n){var t=this;o.fn.init.call(t,n),t.async=!0,t.attributes={}},insertImage:function(n,t){var r=this.attributes;if(r.src&&r.src!="http://")if(n)u.attr(n,r);else return n=u.create(i.documentFromRange(t),"img",r),n.onload=n.onerror=function(){n.removeAttribute("complete"),n.removeAttribute("width"),n.removeAttribute("height")},t.deleteContents(),t.insertNode(n),t.setStartAfter(n),t.setEndAfter(n),i.selectRange(t),!0;return!1},redo:function(){var n=this,t=n.lockRange();n.insertImage(i.image(t),t)||n.releaseRange(t)},exec:function(){function v(i){t.attributes={src:n(f,e.element).val(),alt:n(c,e.element).val()},y=t.insertImage(r,l),o(i),t.change&&t.change()}function o(n){n.preventDefault(),e.destroy(),u.windowFromDocument(i.documentFromRange(l)).focus(),y||t.releaseRange(l)}function w(n){n.keyCode==s.ENTER?v(n):n.keyCode==s.ESC&&o(n)}var t=this,l=t.lockRange(),y=!1,r=i.image(l),p,e;p='<div class="k-editor-dialog"><ol><li class="k-form-text-row"><label for="k-editor-image-url">Web address</label><input type="text" class="k-input" id="k-editor-image-url"/></li><li class="k-form-text-row"><label for="k-editor-image-title">Tooltip</label><input type="text" class="k-input" id="k-editor-image-title"/></li></ol><div class="k-button-wrapper"><button class="k-dialog-insert k-button">Insert</button>&nbsp;or&nbsp;<a href="#" class="k-dialog-close k-link">Close</a></div></div>',e=n(p).appendTo(document.body).kendoWindow(a({},t.editor.options.dialogOptions,{title:h,close:o,activate:function(){}})).hide().find(".k-dialog-insert").click(v).end().find(".k-dialog-close").click(o).end().find(".k-form-text-row input").keydown(w).end().find(f).val(r?r.getAttribute("src",2):"http://").end().find(c).val(r?r.alt:"").end().show().data("kendoWindow").center(),n(f,e.element).focus().select()}});r.ui.editor.ImageCommand=l,v("insertImage",new t.Tool({command:l,template:new y({template:e.buttonTemplate,title:h})}))}(jQuery),function(n,t){var i=window.kendo,a=i.ui.Widget,f=i.ui.DropDownList,v=i.ui.editor,h=v.Dom,e="change",u="k-state-selected",o="."+u,c=".k-selected-color",l="unselectable",s="background-color",r=i.keys,p=i.template('<div class="k-colorpicker-popup"><ul class="k-reset"># for(var i = 0; i < colors.length; i++) { #<li class="k-item #= colors[i] == value ? "k-state-selected" : "" #"><div style="background-color:\\##= colors[i] #"></div></li># } #</ul></div>'),y=a.extend({init:function(t,i){var r=this;a.fn.init.call(r,t,i),t=r.element,i=r.options,r._value=i.value,r.popup=n(p({colors:i.colors,value:i.value.substring(1)})).kendoPopup({anchor:t,toggleTarget:t.find(".k-icon")}).delegate(".k-item","click",function(t){r.select(n(t.currentTarget).find("div").css(s))}).find("*").attr(l,"on").end().data("kendoPopup"),t.attr("tabIndex",0).keydown(function(n){r.keydown(n)}).focus(function(){t.css("outline","1px dotted #000")}).blur(function(){t.css("outline","")}).delegate(".k-tool-icon","click",function(){r.select()}).find("*").attr(l,"on"),r._value&&t.find(c).css(s,r._value)},options:{name:"ColorPicker",colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7".split(","),value:null},events:[e],select:function(n){var t=this;n?(n=h.toHex(n),t.trigger(e,{value:n})||(t.value(n),t.close())):t.trigger(e,{value:t._value})},open:function(){this.popup.open()},close:function(){this.popup.close()},toggle:function(){this.popup.toggle()},keydown:function(n){var f=this,e=f.popup.element,l=f.popup.visible(),t,h,c,s=!1,i=n.keyCode;i==r.DOWN?(l?(t=e.find(o),h=t[0]?t.next():e.find("li:first"),h[0]&&(t.removeClass(u),h.addClass(u))):f.open(),s=!0):i==r.UP?(l&&(t=e.find(o),c=t.prev(),c[0]&&(t.removeClass(u),c.addClass(u))),s=!0):i==r.TAB||i==r.RIGHT||i==r.LEFT?f.close():i==r.ENTER&&(e.find(o).click(),s=!0),s&&n.preventDefault()},value:function(n){var i=this;if(n===t)return i._value;n=h.toHex(n),i._value=n,i.element.find(c).css(s,n)}}),w=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,n,t),i.value(i.options.title)},options:{name:"SelectBox"},value:function(n){var i=this,r=f.fn.value.call(i,n);if(n===t)return r;n!==f.fn.value.call(i)&&(i.text(i.options.title),i._current.removeClass("k-state-selected"),i.current(null),i._oldIndex=i.selectedIndex=-1)}});i.ui.editor.ColorPicker=y,i.ui.editor.SelectBox=w}(jQuery),function(n,t){function u(n,r){var u=i.name(n)!="td"?"marginLeft":"paddingLeft";if(r===t)return n.style[u]||0;r>0?n.style[u]=r+"px":(n.style[u]="",n.style.cssText||n.removeAttribute("style"))}var h=window.kendo,k=h.Class,w=n.extend,r=h.ui.editor,i=r.Dom,e=r.EditorUtils,c=e.registerTool,f=r.Command,o=r.Tool,a=r.ToolTemplate,v=r.RangeUtils,d=i.blockElements,y=r.BlockFormatFinder,g=r.BlockFormatter,s=k.extend({init:function(){this.finder=new y([{tags:i.blockElements}])},apply:function(t){var s=this.finder.findSuitable(t),e=[],o,v,r,a,h,l,f,y,c,p;if(s.length){for(o=0,v=s.length;o<v;o++)i.is(s[o],"li")?n(s[o]).index()?n.inArray(s[o].parentNode,e)<0&&e.push(s[o]):e.push(s[o].parentNode):e.push(s[o]);while(e.length)if(r=e.shift(),i.is(r,"li"))if(a=r.parentNode,h=n(r).prev("li"),l=h.find("ul,ol").last(),f=n(r).children("ul,ol")[0],f&&h[0])l[0]?(l.append(r),l.append(n(f).children()),i.remove(f)):(h.append(f),f.insertBefore(r,f.firstChild));else for(f=h.children("ul,ol")[0],f||(f=i.create(r.ownerDocument,i.name(a)),h.append(f));r&&r.parentNode==a;)f.appendChild(r),r=e.shift();else for(y=parseInt(u(r),10)+30,u(r,y),c=0;c<e.length;c++)n.contains(r,e[c])&&e.splice(c,1)}else p=new g([{tags:"p"}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){for(var s=this.finder.findSuitable(t),r,i,e,h,f,c,o=0,l=s.length;o<l;o++){if(f=n(s[o]),f.is("li"))if(i=f.parent(),e=i.parent(),e.is("li,ul,ol")&&!u(i[0])){if(r&&n.contains(r,e[0]))continue;h=f.nextAll("li"),h.length&&n(i[0].cloneNode(!1)).appendTo(f).append(h),e.is("li")?f.insertAfter(e):f.appendTo(e),i.children("li").length||i.remove();continue}else{if(r==i[0])continue;r=i[0]}else r=s[o];c=parseInt(u(r),10)-30,u(r,c)}}}),p=f.extend({init:function(n){n.formatter={toggle:function(n){(new s).apply(v.nodes(n))}},f.fn.init.call(this,n)}}),l=f.extend({init:function(n){n.formatter={toggle:function(n){(new s).remove(v.nodes(n))}},f.fn.init.call(this,n)}}),b=o.extend({init:function(n){o.fn.init.call(this,w(n,{command:l})),this.finder=new y([{tags:d}])},initialize:function(n){n.attr("unselectable","on").addClass("k-state-disabled")},update:function(t,r){for(var e=this.finder.findSuitable(r),o,s,f=0,h=e.length;f<h;f++)if(o=u(e[f]),o||(s=n(e[f]).parents("ul,ol").length,o=i.is(e[f],"li")&&(s>1||u(e[f].parentNode))||i.ofType(e[f],["ul","ol"])&&s>0),o){t.removeClass("k-state-disabled");return}t.addClass("k-state-disabled").removeClass("k-state-hover")}});w(r,{IndentFormatter:s,IndentCommand:p,OutdentCommand:l,OutdentTool:b}),c("indent",new o({command:p,template:new a({template:e.buttonTemplate,title:"Indent"})})),c("outdent",new b({template:new a({template:e.buttonTemplate,title:"Outdent"})}))}(jQuery),function(n){var r=window.kendo,u=n.extend,t=r.ui.editor,e=t.Dom,o=t.RangeUtils,s=t.EditorUtils,f=t.Command,h=t.Tool,c=t.ToolTemplate,i=f.extend({init:function(n){var t=this;t.options=n,f.fn.init.call(t,n),t.attributes=null,t.async=!0},exec:function(){function c(n){t.value(r.find(h).val()),f(n),s.change&&s.change()}function f(n){n.preventDefault(),r.data("kendoWindow").destroy(),e.windowFromDocument(o.documentFromRange(l)).focus()}var s=this,t=s.editor,l=t.getRange(),r=n(i.template).appendTo(document.body),a=i.indent(t.value()),h=".k-editor-textarea";r.kendoWindow(u({},t.options.dialogOptions,{title:"View HTML",close:f})).hide().find(h).val(a).end().find(".k-dialog-update").click(c).end().find(".k-dialog-close").click(f).end().show().data("kendoWindow").center(),r.find(h).focus()}});u(i,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>Update</button>&nbsp;or&nbsp;<a href='#' class='k-dialog-close k-link'>Close</a></div></div>",indent:function(n){return n.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}}),r.ui.editor.ViewHtmlCommand=i,t.EditorUtils.registerTool("viewHtml",new h({command:i,template:new c({template:s.buttonTemplate,title:"View HTML"})}))}(jQuery),function(n){var i=window.kendo,u=i.Class,r=n.extend,t=i.ui.editor,f=t.RangeUtils,e=t.Marker,o=u.extend({init:function(n){this.editor=n,this.formats=[]},apply:function(n){var t,l,i,u,s,h,o,c;if(this.hasPending()){if(t=new e,t.addCaret(n),l=n.startContainer.childNodes[n.startOffset],i=l.previousSibling,i.nodeValue||(i=i.previousSibling),n.setStart(i,i.nodeValue.length-1),t.add(n),!f.textNodes(n).length){t.remove(n),n.collapse(!0),this.editor.selectRange(n);return}for(u=t.end.previousSibling.previousSibling,h=this.formats,o=0;o<h.length;o++)s=h[o],c=s.command(r({range:n},s.options.params)),c.editor=this.editor,c.exec(),n.selectNode(u);t.remove(n),u.parentNode&&(n.setStart(u,1),n.collapse(!0)),this.clear(),this.editor.selectRange(n)}},hasPending:function(){return this.formats.length>0},isPending:function(n){return!!this.getPending(n)},getPending:function(n){for(var i=this.formats,t=0;t<i.length;t++)if(i[t].name==n)return i[t];return},toggle:function(n){for(var t=this.formats,i=0;i<t.length;i++)if(t[i].name==n.name){t[i].params&&t[i].params.value!=n.params.value?t[i].params.value=n.params.value:t.splice(i,1);return}t.push(n)},clear:function(){this.formats=[]}});r(t,{PendingFormats:o})}(jQuery),function(n,t){function g(n,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+n+'" title="'+t+'">'+t+"</span></span>"}function h(i,r){var u,o=r!==t,f,e;return document.selection?(n(i).is(":visible")&&i.focus(),u=document.selection.createRange(),o?(u.move("character",r),u.select()):(f=i.createTextRange(),e=f.duplicate(),f.moveToBookmark(u.getBookmark()),e.setEndPoint("EndToStart",f),r=e.text.length)):i.selectionStart!==t&&(o?(i.focus(),i.setSelectionRange(r,r)):r=i.selectionStart),r}var u=window.kendo,r=u.keys,d=u.ui,k=d.Widget,ot=u.parseFloat,et=u.support.placeholder,f=u.support.touch,ft=u.getCulture,c="change",l="disabled",rt="k-input",b="spin",nt="touchend",o=f?"touchstart":"mousedown",tt=f?"touchmove "+nt:"mouseup mouseleave",v="k-state-default",p="k-state-focused",ut="k-state-hover",y="mouseenter mouseleave",e=".",a="k-state-selected",w="k-state-disabled",st=f?"number":"text",i=null,s=n.proxy,it={190:".",188:","},ht=k.extend({init:function(n,r){var f=this,a=r&&r.step!==t,o,h,c,l,e;k.fn.init.call(f,n,r),r=f.options,n=f.element.addClass(rt).bind({keydown:s(f._keydown,f),paste:s(f._paste,f),blur:s(f._focusout,f)}),n.closest("form").bind("reset",function(){setTimeout(function(){f.value(n[0].value)})}),r.placeholder=r.placeholder||n.attr("placeholder"),f._wrapper(),f._arrows(),f._input(),f._text.focus(s(f._click,f)),o=f.min(n.attr("min")),h=f.max(n.attr("max")),c=f._parse(n.attr("step")),r.min===i&&o!==i&&(r.min=o),r.max===i&&h!==i&&(r.max=h),a||c===i||(r.step=c),e=r.format,e.slice(0,3)==="{0:"&&(r.format=e.slice(3,e.length-1)),l=r.value,f.value(l!==i?l:n.val()),f.enable(!n.is("[disabled]")),u.notify(f)},options:{name:"NumericTextBox",decimals:i,min:i,max:i,value:i,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[c,b],enable:function(n){var t=this,i=t._text.add(t.element),r=t._inputWrapper.unbind(y),u=t._upArrow.unbind(o),f=t._downArrow.unbind(o);t._toggleText(!0),n===!1?(r.removeClass(v).addClass(w),i.attr(l,l)):(r.addClass(v).removeClass(w).bind(y,t._toggleHover),i.removeAttr(l),u.bind(o,function(n){n.preventDefault(),t._spin(1),t._upArrow.addClass(a)}),f.bind(o,function(n){n.preventDefault(),t._spin(-1),t._downArrow.addClass(a)}))},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},step:function(n){return this._option("step",n)},value:function(n){var i=this,r;if(n===t)return i._value;(n=i._parse(n),r=i._adjust(n),n===r)&&(i._update(n),i._old=i._value)},_adjust:function(n){var f=this,u=f.options,t=u.min,r=u.max;return n===i?n:(t!==i&&n<t?n=t:r!==i&&n>r&&(n=r),n)},_arrows:function(){var i=this,t,r=i.options,e=r.spinners,o=i.element;t=o.siblings(".k-icon"),t[0]||(t=n(g("n",r.upArrowText)+g("s",r.downArrowText)).insertAfter(o),t.wrapAll('<span class="k-select"/>')),t.bind(tt,function(n){f&&u.eventTarget(n)==n.currentTarget&&n.type!==nt||clearTimeout(i._spinning),t.removeClass(a)}),e||(t.toggle(e),i._inputWrapper.addClass("k-expand-padding")),i._upArrow=t.eq(0),i._downArrow=t.eq(1)},_blur:function(){var n=this;n._toggleText(!0),n._change(n.element.val())},_click:function(n){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var r=n.target,c=h(r),u=r.value.substring(0,c),f=t._format(t.options.format),o=f[","],l=new RegExp("\\"+o,"g"),a=new RegExp("([\\d\\"+o+"]+)(\\"+f[e]+")?(\\d+)?"),s=a.exec(u),i=0;s&&(i=s[0].replace(l,"").length,u.indexOf("(")!=-1&&t._value<0&&i++),t._focusin(),h(t.element[0],i)})},_change:function(n){var t=this;t._update(n),n=t._value,t._old!=n&&(t._old=n,t.trigger(c),t.element.trigger(c))},_culture:function(n){return n||ft(this.options.culture)},_focusin:function(){var n=this;n._toggleText(!1),n.element.focus(),n._inputWrapper.addClass(p)},_focusout:function(){var n=this;clearTimeout(n._focusing),n._inputWrapper.removeClass(p),n._blur()},_format:function(n,t){var i=this._culture(t).numberFormat;return n=n.toLowerCase(),n.indexOf("c")>-1?i=i.currency:n.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var i=this,u="k-formatted-value",r=i.element.show()[0],f=i.wrapper,t;t=f.find(e+u),t[0]||(t=n("<input />").insertBefore(r).addClass(u)),r.type=st,t[0].type="text",t[0].style.cssText=r.style.cssText,t.attr("placeholder",i.options.placeholder),i._text=t.attr("readonly",!0).addClass(r.className)},_keydown:function(n){var t=this,i=n.keyCode;i==r.DOWN?t._step(-1):i==r.UP?t._step(1):i==r.ENTER&&t._change(t.element.val()),t._prevent(i)&&!n.ctrlKey&&n.preventDefault()},_paste:function(n){var t=this,r=n.target,u=r.value;setTimeout(function(){t._parse(r.value)===i&&t._update(u)})},_prevent:function(n){var s=this,c=s.element[0],t=c.value,l=s.options,v=l.min,y=s._format(l.format),u=y[e],f=l.decimals,a=h(c),o=!0,p;return f===i&&(f=y.decimals),n>16&&n<21||n>32&&n<37||n>47&&n<58||n>95&&n<106||n==r.INSERT||n==r.DELETE||n==r.LEFT||n==r.RIGHT||n==r.TAB||n==r.BACKSPACE||n==r.ENTER?o=!1:it[n]===u&&f>0&&t.indexOf(u)==-1?o=!1:(v===i||v<0)&&t.indexOf("-")==-1&&(n==189||n==109)&&a===0?o=!1:n==110&&f>0&&t.indexOf(u)==-1&&(p=t.substring(a),c.value=t.substring(0,a)+u+p),o},_option:function(n,i){var r=this,u=r.options;if(i===t)return u[n];(i=r._parse(i),i||n!=="step")&&(u[n]=r._parse(i))},_spin:function(n,t){var i=this;t=t||500,clearTimeout(i._spinning),i._spinning=setTimeout(function(){i._spin(n,50)},t),i._step(n)},_step:function(n){var t=this,i=t.element,r=t._parse(i.val())||0;document.activeElement!=i[0]&&t._focusin(),r+=t.options.step*n,t._update(t._adjust(r)),t.trigger(b)},_toggleHover:function(t){f||n(t.currentTarget).toggleClass(ut,t.type==="mouseenter")},_toggleText:function(n){var t=this;n=!!n,t._text.toggle(n),t.element.toggle(!n)},_parse:function(n,t){return ot(n,this._culture(t),this.options.format)},_update:function(n){var t=this,s=t.options,h=s.format,r=s.decimals,f=t._culture(),c=t._format(h,f),o;r===i&&(r=c.decimals),n=t._parse(n,f),o=n!==i,o&&(n=parseFloat(n.toFixed(r))),t._value=n=t._adjust(n),t._placeholder(u.toString(n,h,f)),t.element.val(o?n.toString().replace(e,c[e]):"")},_placeholder:function(n){this._text.val(n),et||n||this._text.val(this.options.placeholder)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=i.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=i[0].style.cssText,i[0].style.width="",r.wrapper=t.addClass("k-widget k-numerictextbox").show(),r._inputWrapper=n(t[0].firstChild)}});d.plugin(ht)}(jQuery),function(n,t){function ni(n,t){return n=n.split(" ")[!t+0]||n,n.replace("top","up").replace("bottom","down")}function wt(n,t){n=n.split(" ")[!t+0]||n;var i={origin:["bottom","left"],position:["top","left"]},u=/left|right/.test(n);return u?(i.origin=["top",n],i.position[1]=r.directions[n].reverse):(i.origin[0]=n,i.position[0]=r.directions[n].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function tt(t,i){try{return n.contains(t,i)}catch(r){return!1}}function vt(t){t=n(t),t.addClass("k-item").children(lt).addClass(ht),t.children("a").addClass(a).children(lt).addClass(ht),t.filter(":not([disabled])").addClass(ft),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass(w).removeAttr("disabled"),t.children("a").filter(":focus").parent().addClass("k-state-active"),t.children("."+a).length||t.contents().filter(function(){return!this.nodeName.match(bt)&&!(this.nodeType==3&&!n.trim(this.nodeValue))}).wrapAll("<span class='"+a+"'/>"),h(t),s(t)}function h(t){t=n(t),t.find(".k-icon").remove(),t.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=n(this),i=t.parent().parent();t.append("<span class='k-icon "+(i.hasClass(e+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function s(t){t=n(t),t.filter(".k-first:not(:first-child)").removeClass(st),t.filter(".k-last:not(:last-child)").removeClass(pt),t.filter(":first-child").addClass(st),t.filter(":last-child").addClass(pt)}var r=window.kendo,dt=r.ui,b=r.support.touch,i=n.extend,c=n.proxy,it=n.each,f=r.template,at=dt.Widget,bt=/^(ul|a|div)$/i,lt="img",ut="open",e="k-menu",a="k-link",pt="k-last",nt="close",ct=b?"touchend":"click",y="timer",st="k-first",ht="k-image",yt="select",l="zIndex",k="mouseenter",ot="mouseleave",p="kendoPopup",ft="k-state-default",w="k-state-disabled",rt=".k-group",v=":not(.k-list) > .k-item",kt=".k-item.k-state-disabled",d=".k-item:not(.k-state-disabled)",et=".k-item:not(.k-state-disabled) > .k-link",gt="div:not(.k-animation-container,.k-list-container)",u={content:f("<div class='k-content k-group'>#= content(item) #</div>"),group:f("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:f("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:f("<span class='#= arrowClass(item, group) #'></span>"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},g={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":" k-state-default",n.firstLevel&&r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},textClass:function(){return a},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},arrowClass:function(n,t){return"k-icon"+(t.horizontal?" k-i-arrow-s":" k-i-arrow-e")},text:function(n){return n.encoded===!1?n.text:r.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},groupAttributes:function(n){return n.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(n){return n.content?n.content:"&nbsp;"}},o=at.extend({init:function(t,i){var u=this;at.fn.init.call(u,t,i),t=u.wrapper=u.element,i=u.options,i.dataSource&&(u.element.empty(),u.append(i.dataSource,t)),u._updateClasses(),i.animation===!1&&(i.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}}),u.nextItemZIndex=100,t.delegate(kt,ct,!1).delegate(d,ct,c(u._click,u)),b?(i.openOnClick=!0,t.delegate(et,"touchstart touchend",u._toggleHover)):t.delegate(d,k,c(u._mouseenter,u)).delegate(d,ot,c(u._mouseleave,u)).delegate(et,k+" "+ot,u._toggleHover),i.openOnClick&&(u.clicked=!1,n(document).click(c(u._documentClick,u))),r.notify(u)},events:[ut,nt,yt],options:{name:"Menu",animation:{open:{duration:200,show:!0},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},append:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.length?i.find("> .k-group, .k-animation-container > .k-group"):null);return it(r.items,function(t){r.group.append(this);var i=r.contents[t];i&&n(this).append(i),h(this)}),h(i),s(r.group.find(".k-first, .k-last").add(r.items)),this},insertBefore:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.parent());return it(r.items,function(t){i.before(this);var u=r.contents[t];u&&n(this).append(u),h(this),s(this)}),s(i),this},insertAfter:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.parent());return it(r.items,function(t){i.after(this);var u=r.contents[t];u&&n(this).append(u),h(this),s(this)}),s(i),this},_insert:function(t,r,u){var a=this,f,c,l=[],s,h;return r&&r.length||(u=a.element),s=n.isPlainObject(t),h={firstLevel:u.hasClass(e),horizontal:u.hasClass(e+"-horizontal"),expanded:!0,length:u.children().length},r&&!u.length&&(u=n(o.renderGroup({group:h})).appendTo(r)),s||n.isArray(t)?(f=n.map(s?[t]:t,function(t,r){return typeof t=="string"?n(t):n(o.renderItem({group:h,item:i(t,{index:r})}))}),l=n.map(s?[t]:t,function(t,r){return t.content||t.contentUrl?n(o.renderContent({item:i(t,{index:r})})):!1})):(f=n(t),c=f.find("> ul").addClass("k-group"),f=f.filter("li"),f.add(c.find("> li")).each(function(){vt(this)})),{items:f,group:u,contents:l}},remove:function(n){var r;n=this.element.find(n);var u=this,t=n.parentsUntil(u.element,v),i=n.parent("ul");return n.remove(),i&&!i.children(v).length&&(r=i.parent(".k-animation-container"),r.length?r.remove():i.remove()),t.length&&(t=t.eq(0),h(t),s(t)),u},open:function(r){var u=this,f=u.options,s=f.orientation=="horizontal",o=f.direction;return r=u.element.find(r),/^(top|bottom|default)$/.test(o)&&(o=s?(o+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=n(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=n(this);clearTimeout(r.data(y)),r.data(y,setTimeout(function(){var h=r.find(".k-group:first:hidden"),n;if(h[0]&&u.trigger(ut,{item:r[0]})===!1){r.data(l,r.css(l)),r.css(l,u.nextItemZIndex++),n=h.data(p);var a=r.parent().hasClass(e),w=a&&s,c=wt(o,a),v=f.animation.open.effects,y=v!==t?v:"slideIn:"+ni(o,a);n?(n=h.data(p),n.options.origin=c.origin,n.options.position=c.position,n.options.animation.open.effects=y):n=h.kendoPopup({origin:c.origin,position:c.position,collision:f.popupCollision!==t?f.popupCollision:w?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:i(!0,{effects:y},f.animation.open),close:f.animation.close},close:function(n){var t=n.sender.wrapper.parent();u.trigger(nt,{item:t[0]})===!1?(t.css(l,t.data(l)),t.removeData(l)):n.preventDefault()}}).data(p),n.open()}},u.options.hoverDelay))}),u},close:function(t){var i=this;return t=i.element.find(t),t[0]||(t=i.element.find(">.k-item")),t.each(function(){var t=n(this);clearTimeout(t.data(y)),t.data(y,setTimeout(function(){var n=t.find(".k-group:first:visible"),i;n[0]&&(i=n.data(p),i.close())},i.options.hoverDelay))}),i},_toggleDisabled:function(t,i){t=this.element.find(t),t.each(function(){n(this).toggleClass(ft,i).toggleClass(w,!i)})},_toggleHover:function(t){var i=n(r.eventTarget(t)).closest(v);i.parents("li."+w).length||i.toggleClass("k-state-hover",t.type==k||t.type=="touchstart")},_updateClasses:function(){var n=this,t;n.element.addClass("k-widget k-reset k-header "+e).addClass(e+"-"+n.options.orientation),t=n.element.find("li > ul").addClass("k-group").end().find("> li,.k-group > li"),t.each(function(){vt(this)})},_mouseenter:function(t){var i=this,r=n(t.currentTarget),u=r.children(".k-animation-container").length||r.children(rt).length;t.delegateTarget==r.parents(".k-menu")[0]&&((!i.options.openOnClick||i.clicked)&&!tt(t.currentTarget,t.relatedTarget)&&u&&i.open(r),i.options.openOnClick&&i.clicked&&r.siblings().each(c(function(n,t){i.close(t)},i)))},_mouseleave:function(t){var r=this,i=n(t.currentTarget),u=i.children(".k-animation-container").length||i.children(rt).length;if(i.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){t.stopImmediatePropagation();return}r.options.openOnClick||tt(t.currentTarget,t.relatedTarget)||!u||r.close(i)},_click:function(t){var i=this,o,s=n(r.eventTarget(t)),h=s.closest("."+a),f=h.attr("href"),u=s.closest(v),l=!!f&&f.charAt(f.length-1)!="#";if(!u.children(gt)[0]){if(u.hasClass(w)){t.preventDefault();return}(b&&u.siblings().each(c(function(n,t){i.close(t)},i)),!t.handled&&i.trigger(yt,{item:u[0]})&&t.preventDefault(),t.handled=!0,!i.options.closeOnClick||f&&f.length>0||u.children(rt+",.k-animation-container").length||i.close(h.parentsUntil(i.element,v)),u.parent().hasClass(e)&&i.options.openOnClick||b)&&(l||t.preventDefault(),i.clicked=!0,o=u.children(".k-animation-container, .k-group").is(":visible")?nt:ut,i[o](u))}},_documentClick:function(n){var t=this;tt(t.element[0],n.target)||(t.clicked=!1)}});i(o,{renderItem:function(n){n=i({menu:{},group:{}},n);var r=u.empty,t=n.item;return u.item(i(n,{image:t.imageUrl?u.image:r,sprite:t.spriteCssClass?u.sprite:r,itemWrapper:u.itemWrapper,arrow:t.items||t.content?u.arrow:r,subGroup:o.renderGroup},g))},renderGroup:function(n){return u.group(i({renderItems:function(n){for(var u="",t=0,r=n.items,f=r?r.length:0,e=i({length:f},n.group);t<f;t++)u+=o.renderItem(i(n,{group:e,item:i({index:t},r[t])}));return u}},n,g))},renderContent:function(n){return u.content(i(n,g))}}),r.ui.plugin(o)}(jQuery),function(n,t){function l(t){return t=t!=null?t:"",t.type||n.type(t)||"string"}function y(t){t.find(":input:not(:button, ["+i.attr("role")+"=upload], ["+i.attr("skip")+"]), select").each(function(){var r=i.attr("bind"),t=this.getAttribute(r)||"",u=this.type==="checkbox"?"checked:":"value:",f=this.name;t.indexOf(u)===-1&&f&&(t+=(t.length?",":"")+u+f,n(this).attr(r,t))})}function r(n){var h=(n.model.fields||n.model)[n.field],c=l(h),a=h?h.validation:{},t,v=i.attr("type"),y=i.attr("bind"),r,e={name:n.field};for(t in a)r=a[t],o(t,f)>=0?e[v]=t:s(r)||(e[t]=u(r)?r.value||t:r),e[i.attr(t+"-msg")]=r.message;return o(c,f)>=0&&(e[v]=c),e[y]=(c==="boolean"?"checked:":"value:")+n.field,e}function v(n){var i,u,t,f,e,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],e=t.text||t.value||t,f=t.value==null?t.text||t:t.value,r[i]={text:e,value:f};return r}var i=window.kendo,c=i.ui,h=c.Widget,p=n.extend,s=n.isFunction,u=n.isPlainObject,o=n.inArray,e="change",f=["url","email","number","date","boolean"],a={number:function(t,u){var f=r(u);n('<input type="text"/>').attr(f).appendTo(t).kendoNumericTextBox({format:u.format}),n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,u){var f=r(u);f[i.attr("format")]=u.format,n('<input type="text"/>').attr(f).appendTo(t).kendoDatePicker({format:u.format}),n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,i){var u=r(i);n('<input type="text" class="k-input k-textbox"/>').attr(u).appendTo(t)},boolean:function(t,i){var u=r(i);n('<input type="checkbox" />').attr(u).appendTo(t)},values:function(t,u){var f=r(u);n("<select "+i.attr("text-field")+'="text"'+i.attr("value-field")+'="value"'+i.attr("source")+"='"+i.stringify(v(u.values))+"'"+i.attr("role")+'="dropdownlist"/>').attr(f).appendTo(t),n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},w=h.extend({init:function(t,i){var r=this;h.fn.init.call(r,t,i),r._validateProxy=n.proxy(r._validate,r),r.refresh()},events:[e],options:{name:"Editable",editors:a,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>${message}<div class="k-callout k-callout-n"></div></div>'},editor:function(n,t){var r=this,o=r.options.editors,f=u(n),s=f?n.field:n,c=r.options.model||{},a=f&&n.values,v=a?"values":l(t),h=f&&n.editor,i=h?n.editor:o[v],e=r.element.find("[data-container-for="+s+"]");i=i?i:o.string,h&&typeof n.editor=="string"&&(i=function(t){t.append(n.editor)}),e=e.length?e:r.element,i(e,p(!0,{},f?n:{field:s},{model:c}))},_validate:function(t){var r=this,o=typeof t.value=="boolean",u,s=r._validationEventInProgress,f={};f[t.field]=t.value,u=n(":input["+i.attr("bind")+'="'+(o?"checked:":"value:")+t.field+'"]',r.element);try{r._validationEventInProgress=!0,r.validatable.validateInput(u)&&(s||!r.trigger(e,{values:f}))||t.preventDefault()}finally{r._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){this.options.model.unbind("set",this._validateProxy),i.unbind(this.element),this.element.removeData("kendoValidator").removeData("kendoEditable")},refresh:function(){var r=this,e,v,f=r.options.fields||[],o=r.options.clearContainer?r.element.empty():r.element,p=r.options.model||{},w={},h;for(n.isArray(f)||(f=[f]),e=0,v=f.length;e<v;e++){var c=f[e],b=u(c),k=b?c.field:c,l=(p.fields||p)[k],a=l?l.validation||{}:{};for(h in a)s(a[h])&&(w[h]=a[h]);r.editor(c,l)}y(o),i.bind(o,r.options.model),r.options.model.bind("set",r._validateProxy),r.validatable=o.kendoValidator({validateOnBlur:!1,errorTemplate:r.options.errorTemplate||t,rules:w}).data("kendoValidator"),o.find(":input:visible:first").focus()}});c.plugin(w)}(jQuery),function(n){function e(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return e(n,i),n.filters?n.filters.length:n.field!=i}))}function h(n){var i,u,t,f,e,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],e=t.text||t.value||t,f=t.value==null?t.text||t:t.value,r[i]={text:e,value:f};return r}var t=window.kendo,o=t.ui,c="kendoNumericTextBox",l="kendoDatePicker",i=n.proxy,r="kendoPopup",u="Is equal to",f="Is not equal to",s=o.Widget,a='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div>',v='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values)#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" data-#=ns#type="#=type#"/>#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values)#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" data-#=ns#type="#=type#"/>#}##}#<button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div>',y=s.extend({init:function(u,f){var e=this,o="string",y,p,w;s.fn.init.call(e,u,f),w=f.operators||{},u=e.element,f=e.options,f.appendToElement?e.link=n():(y=u.addClass("k-filterable").find(".k-grid-filter"),y[0]||(y=u.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),e._clickHandler=i(e._click,e),y.click(e._clickHandler)),e.dataSource=f.dataSource.bind("change",i(e.refresh,e)),e.field=f.field||u.attr(t.attr("field")),e.model=e.dataSource.reader.model,e._parse=function(n){return n+""},e.model&&e.model.fields&&(p=e.model.fields[e.field],p&&(o=p.type||"string",e._parse=i(p.parse,p))),f.values&&(o="enums"),w=w[o]||f.operators[o],e.form=n('<form class="k-filter-menu"/>'),e.form.html(t.template(o==="boolean"?a:v)({field:e.field,ns:t.ns,messages:f.messages,extra:f.extra,operators:w,type:o,values:h(f.values)})),f.appendToElement?(u.append(e.form),e.popup=e.element.closest(".k-popup").data(r)):(e.popup=e.form[r]({anchor:y,open:i(e._open,e)}).data(r),e.link=y),e.form.bind({submit:i(e._submit,e),reset:i(e._reset,e)}).find("["+t.attr("type")+"=number]").removeClass("k-textbox")[c]().end().find("["+t.attr("type")+"=date]").removeClass("k-textbox")[l](),e.refresh()},refresh:function(){var n=this,i=n.dataSource.filter()||{filters:[],logic:"and"};n.filterModel=t.observable({logic:"and",filters:[{field:n.field,operator:"eq",value:""},{field:n.field,operator:"eq",value:""}]}),t.bind(n.form,n.filterModel),n._bind(i)?n.link.addClass("k-state-active"):n.link.removeClass("k-state-active")},destroy:function(){t.unbind(this.form),this.form.remove(),this.form.removeData(r),this.link.unbind("click",this._clickHandler),this.element.removeData("kendoFilterMenu")},_bind:function(n){for(var i=this,e=n.filters,r=!1,o=0,s=i.filterModel,u,t,f=0,h=e.length;f<h;f++)t=e[f],t.field==i.field?(s.set("logic",n.logic),u=s.filters[o],u.set("value",i._parse(t.value)),u.set("operator",t.operator),o++,r=!0):t.filters&&(r=r||i._bind(t));return r},_merge:function(t){var f=this,h=t.logic||"and",r=t.filters,o,i=f.dataSource.filter()||{filters:[],logic:"and"},u,s;for(e(i,f.field),r=n.grep(r,function(n){return n.value!==""}),u=0,s=r.length;u<s;u++)o=r[u],o.value=f._parse(o.value);return r.length&&(i.filters.length?(t.filters=r,i.logic!=="and"&&(i.filters=[{logic:i.logic,filters:i.filters}],i.logic="and"),r.length>1?i.filters.push(t):i.filters.push(r[0])):(i.filters=r,i.logic=h)),i},filter:function(n){n=this._merge(n),n.filters.length&&this.dataSource.filter(n)},clear:function(){var i=this,t=i.dataSource.filter()||{filters:[]};t.filters=n.grep(t.filters,function(t){return t.filters?(t.filters=n.grep(t.filters,function(n){return n.field!=i.field}),t.filters.length):t.field!=i.field}),t.filters.length||(t=null),i.dataSource.filter(t)},_submit:function(n){var t=this;n.preventDefault(),t.filter(t.filterModel.toJSON()),t.popup.close()},_reset:function(){this.clear(),this.popup.close()},_click:function(n){n.preventDefault(),n.stopPropagation(),this.popup.toggle()},_open:function(){var t;n(".k-filter-menu").not(this.form).each(function(){t=n(this).data(r),t&&t.close()})},options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:u,neq:f,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:u,neq:f,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:u,neq:f,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:u,neq:f}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});o.plugin(y)}(jQuery),function(n){function et(t,r){t=n(t).addClass("k-item"),t.children(bt).addClass(vt),t.children("a").addClass(i).children(bt).addClass(vt),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(y.substr(1)),t.find(">div").addClass(w).css({display:"none"}),t.each(function(){var t=n(this);t.children("."+i).length||t.contents().filter(function(){return!this.nodeName.match(gt)&&!(this.nodeType==3&&!n.trim(this.nodeValue))}).wrapAll("<span class='"+i+"'/>")}),r.find(" > li > ."+i).addClass("k-header")}function b(t){t=n(t),t.children(".k-link").children(".k-icon").remove(),t.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=n(this),i=t.parent();t.append("<span class='k-icon "+(i.hasClass(y.substr(1))?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function u(t){t=n(t),t.filter(".k-first:not(:first-child)").removeClass(at),t.filter(".k-last:not(:last-child)").removeClass(kt),t.filter(":first-child").addClass(at),t.filter(":last-child").addClass(kt)}function ft(n,t){n.find(tt).removeClass(rt.substr(1)),n.find(ti).removeClass(a.substr(1)),t.addClass(rt.substr(1)),t.parentsUntil(n,f).filter(":has(.k-header)").addClass(a.substr(1))}var l=window.kendo,ni=l.ui,t=n.extend,nt=n.each,e=l.template,st=ni.Widget,gt=/^(ul|a|div)$/i,bt="img",dt="href",kt="k-last",i="k-link",pt="error",yt="click",f=".k-item",vt="k-image",at="k-first",k="expand",lt="select",w="k-content",ct="activate",p="collapse",g="contentUrl",ht="mouseenter",ui="mouseleave",wt="contentLoad",y=".k-state-active",s="> .k-panel",v="> .k-content",rt=".k-state-selected",c=".k-state-disabled",a=".k-state-highlighted",ot=f+":not(.k-state-disabled) .k-link",ii=f+".k-state-disabled .k-link",tt="> li > .k-state-selected, .k-panel > li > .k-state-selected",ti="> .k-state-highlighted, .k-panel > .k-state-highlighted",it="k-state-default",o=":visible",ri=":empty",ut="single",r={content:e("<div class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:e("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:e("<#= tag(item) # class='#= textClass(item, group) #'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:e("<li class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } #</li>"),image:e("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:e("<span class='#= arrowClass(item) #'></span>"),sprite:e("<span class='k-sprite #= spriteCssClass #'></span>"),empty:e("")},d={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":t.expanded===!0?" k-state-active":" k-state-default",r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},textClass:function(n,t){var r=i;return t.firstLevel&&(r+=" k-header"),r},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},arrowClass:function(n){return"k-icon"+(n.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand")},text:function(n){return n.encoded===!1?n.text:l.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},groupAttributes:function(n){return n.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(n){return n.item.expanded!==!0?" style='display:none'":""},content:function(n){return n.content?n.content:n.contentUrl?"":"&nbsp;"},contentUrl:function(n){return n.contentUrl?l.attr("content-url")+'="'+n.contentUrl+'"':""}},h=st.extend({init:function(t,r){var u=this,f;st.fn.init.call(u,t,r),t=u.wrapper=u.element,r=u.options,r.dataSource&&(u.element.empty(),u.append(r.dataSource,t)),u._updateClasses(),r.animation===!1&&(r.animation={expand:{show:!0,effects:{}},collapse:{hide:!0,effects:{}}}),t.delegate(ot,yt,n.proxy(u._click,u)).delegate(ot,ht+" "+ui,u._toggleHover).delegate(ii,yt,!1),r.contentUrls&&t.find("> .k-item").each(function(t,u){n(u).find("."+i).data(g,r.contentUrls[t])}),f=t.find("li"+y+" > ."+w),f.length>0&&u.expand(f.parent(),!1),l.notify(u)},events:[k,p,lt,ct,pt,wt],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200,show:!0},collapse:{duration:200}},expandMode:"multiple"},expand:function(t,i){var r=this,u={};return i=i!==!1,t=this.element.find(t),t.each(function(f,e){e=n(e);var o=e.find(s).add(e.find(v));if(!e.hasClass(c)&&o.length>0){if(r.options.expandMode==ut&&r._collapseAllExpanded(e))return r;t.find(a).removeClass(a.substr(1)),e.addClass(a.substr(1)),i||(u=r.options.animation,r.options.animation={expand:{show:!0,effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(k,e)||r._toggleItem(e,!1,null),i||(r.options.animation=u)}}),r},collapse:function(t,i){var r=this,u={};return i=i!==!1,t=r.element.find(t),t.each(function(t,f){f=n(f);var e=f.find(s).add(f.find(v));!f.hasClass(c)&&e.is(o)&&(f.removeClass(a.substr(1)),i||(u=r.options.animation,r.options.animation={expand:{show:!0,effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(p,f)||r._toggleItem(f,!0,null),i||(r.options.animation=u))}),r},_toggleDisabled:function(n,t){n=this.element.find(n),n.toggleClass(it,t).toggleClass(c.substr(1),!t)},select:function(t){var r=this;return(t=r.element.find(t),arguments.length===0)?r.element.find(tt).parent():(t.each(function(t,u){u=n(u);var f=u.children("."+i);if(u.is(c))return r;ft(r.element,f)}),r)},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},append:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.length?i.find(s):null);return nt(r.items,function(t){r.group.append(this);var i=r.contents[t];i&&n(this).append(i),u(this)}),b(i),u(r.group.find(".k-first, .k-last")),r.group.height("auto"),this},insertBefore:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.parent());return nt(r.items,function(t){i.before(this);var f=r.contents[t];f&&n(this).append(f),u(this)}),u(i),r.group.height("auto"),this},insertAfter:function(t,i){i=this.element.find(i);var r=this._insert(t,i,i.parent());return nt(r.items,function(t){i.after(this);var f=r.contents[t];f&&n(this).append(f),u(this)}),u(i),r.group.height("auto"),this},remove:function(n){n=this.element.find(n);var r=this,t=n.parentsUntil(r.element,f),i=n.parent("ul");return n.remove(),!i||i.hasClass("k-panelbar")||i.children(f).length||i.remove(),t.length&&(t=t.eq(0),b(t),u(t)),r},reload:function(t){var i=this;t=i.element.find(t),t.each(function(){var t=n(this);i._ajaxRequest(t,t.children("."+w),!t.is(o))})},_insert:function(i,r,u){var s=this,f,c=[],e,o;return r&&r.length||(u=s.element),e=n.isPlainObject(i),o={firstLevel:u.hasClass("k-panelbar"),expanded:u.parent().hasClass("k-state-active"),length:u.children().length},r&&!u.length&&(u=n(h.renderGroup({group:o})).appendTo(r)),e||n.isArray(i)?(f=n.map(e?[i]:i,function(i,r){return typeof i=="string"?n(i):n(h.renderItem({group:o,item:t(i,{index:r})}))}),c=n.map(e?[i]:i,function(i,r){return i.content||i.contentUrl?n(h.renderContent({item:t(i,{index:r})})):!1})):(f=n(i),et(f,s.element)),{items:f,group:u,contents:c}},_toggleHover:function(t){var i=n(t.currentTarget);i.parents("li"+c).length||i.toggleClass("k-state-hover",t.type==ht)},_updateClasses:function(){var t=this,r,i;t.element.addClass("k-widget k-reset k-header k-panelbar"),r=t.element.find("li > ul").not(function(){return n(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").add(t.element),i=r.find("> li:not("+y+") > ul").css({display:"none"}).end().find("> li"),i.each(function(){et(this,t.element)}),b(i),u(i)},_click:function(t){var r=this,a=n(t.currentTarget),w=r.element,e,u,y;if(!a.parents("li"+c).length&&a.closest(".k-widget")[0]==w[0]){e=a.closest("."+i),u=e.closest(f),ft(w,e);var h=u.find(s).add(u.find(v)),l=e.attr(dt),b=e.data(g)||l&&(l.charAt(l.length-1)=="#"||l.indexOf("#"+r.element[0].id+"-")!=-1);if(!h.data("animating")){if(r._triggerEvent(lt,u)&&t.preventDefault(),b||h.length)t.preventDefault();else return;r.options.expandMode==ut&&r._collapseAllExpanded(u)||h.length&&(y=h.is(o),r._triggerEvent(y?p:k,u)||r._toggleItem(u,y,t))}}},_toggleItem:function(n,t,i){var u=this,f=n.find(s),r;f.length?(this._toggleGroup(f,t),i&&i.preventDefault()):(r=n.find("> ."+w),r.length&&(i&&i.preventDefault(),r.is(ri)?u._ajaxRequest(n,r,t):u._toggleGroup(r,t)))},_toggleGroup:function(n,i){var e=this,s=e.options.animation,r=s.expand,u=t({},s.collapse),h=u&&"effects"in u;n.is(o)==i&&(n.parent().toggleClass(it,i).toggleClass(y.substr(1),!i).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!i).toggleClass("k-panelbar-collapse",!i).toggleClass("k-i-arrow-s",i).toggleClass("k-panelbar-expand",i),r=i?t(h?u:t({reverse:!0},r),{show:!1,hide:!0}):t({complete:function(n){e._triggerEvent(ct,n.closest(f))}},r),n.kendoStop(!0,!0).kendoAnimate(r))},_collapseAllExpanded:function(t){var e=this,h,r=!1,u;if(t.find("> ."+i).hasClass("k-header"))return u=t.find(s).add(t.find(v)),u.is(o)&&(r=!0),u.is(o)||u.length===0||(h=n(e.element).children(),h.find(s).add(h.find(v)).filter(function(){return n(this).is(o)}).each(function(t,i){i=n(i),r=e._triggerEvent(p,i.closest(f)),r||e._toggleGroup(i,!0)})),r},_ajaxRequest:function(t,r,u){var f=this,e=t.find(".k-panelbar-collapse, .k-panelbar-expand"),o=t.find("."+i),s=setTimeout(function(){e.addClass("k-loading")},100);n.ajax({type:"GET",cache:!1,url:o.data(g)||o.attr(dt),dataType:"html",data:{},error:function(n,t){e.removeClass("k-loading"),f.trigger(pt,{xhr:n,status:t})&&this.complete()},complete:function(){clearTimeout(s),e.removeClass("k-loading")},success:function(n){r.html(n),f._toggleGroup(r,u),f.trigger(wt,{item:t[0],contentElement:r[0]})}})},_triggerEvent:function(n,t){var i=this;return i.trigger(n,{item:t[0]})}});t(h,{renderItem:function(n){n=t({panelBar:{},group:{}},n);var u=r.empty,i=n.item;return r.item(t(n,{image:i.imageUrl?r.image:u,sprite:i.spriteCssClass?r.sprite:u,itemWrapper:r.itemWrapper,arrow:i.items||i.content||i.contentUrl?r.arrow:u,subGroup:h.renderGroup},d))},renderGroup:function(n){return r.group(t({renderItems:function(n){for(var u="",i=0,r=n.items,f=r?r.length:0,e=t({length:f},n.group);i<f;i++)u+=h.renderItem(t(n,{group:e,item:t({index:i},r[i])}));return u}},n,d))},renderContent:function(n){return r.content(t(n,d))}}),l.ui.plugin(h)}(jQuery),function(n,t){function g(t){t.children(ht).addClass(it),t.children("a").addClass(f).children(ht).addClass(it),t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(s),t.filter("li[disabled]").addClass(y).removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(i+" "+o),t.each(function(){var t=n(this);t.children("."+f).length||t.contents().filter(function(){return!this.nodeName.match(bt)&&!(this.nodeType==3&&!ot(this.nodeValue))}).wrapAll("<a class='"+f+"'/>")})}function a(n){var t=n.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(rt),t.filter(".k-last:not(:last-child)").removeClass(et),t.filter(":first-child").addClass(rt),t.filter(":last-child").addClass(et)}var r=window.kendo,wt=r.ui,nt=n.map,w=n.each,ot=n.trim,u=n.extend,h=r.template,p=wt.Widget,bt=/^(a|div)$/i,ht="img",st="href",f="k-link",et="k-last",ft="click",at=":empty",it="k-image",rt="k-first",b="select",ct="activate",k="k-content",c="contentUrl",d="mouseenter",lt="mouseleave",tt="contentLoad",vt=".k-tabstrip-items > .k-item:not(.k-state-disabled)",yt=".k-tabstrip-items > .k-item:not(.k-state-disabled):not(.k-state-active)",pt=".k-tabstrip-items > .k-state-disabled .k-link",y="k-state-disabled",s="k-state-default",i="k-state-active",v="k-state-hover",o="k-tab-on-top",e={content:h("<div class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),itemWrapper:h("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},ut={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":" k-state-default",r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},text:function(n){return n.encoded===!1?n.text:r.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},contentAttributes:function(n){return n.active!==!0?" style='display:none'":""},content:function(n){return n.content?n.content:n.contentUrl?"":"&nbsp;"},contentUrl:function(n){return n.contentUrl?r.attr("content-url")+'="'+n.contentUrl+'"':""}},l=p.extend({init:function(t,u){var e=this,o,s;e._animations(u),p.fn.init.call(e,t,u),e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element,u=e.options,e.wrapper.delegate(vt,ft,n.proxy(e._click,e)).delegate(yt,d+" "+lt,e._toggleHover).delegate(pt,ft,!1),e._updateClasses(),e._dataSource(),u.dataSource&&e.dataSource.fetch(),e.options.contentUrls&&e.wrapper.find(".k-tabstrip-items > .k-item").each(function(t,i){n(i).find(">."+f).data(c,e.options.contentUrls[t])}),o=e.wrapper.find("li."+i),s=n(e.contentElement(o.parent().children().index(o))),s.length>0&&s[0].childNodes.length===0&&e.activateTab(o.eq(0)),r.notify(e)},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler):t._refreshHandler=n.proxy(t.refresh,t),t.dataSource=r.data.DataSource.create(t.options.dataSource).bind("change",t._refreshHandler)},setDataSource:function(n){this.options.dataSource=n,this._dataSource(),n.fetch()},_animations:function(n){n&&"animation"in n&&!n.animation&&(n.animation={open:{effects:{},show:!0},close:{effects:{}}})},refresh:function(n){var i=this,u=i.options,c=r.getter(u.dataTextField),l=r.getter(u.dataContentField),a=r.getter(u.dataContentUrlField),v=r.getter(u.dataImageUrlField),y=r.getter(u.dataUrlField),p=r.getter(u.dataSpriteCssClass),t,o=[],e,s,f=i.dataSource.view(),h;for(n=n||{},s=n.action,s&&(f=n.items),t=0,h=f.length;t<h;t++)e={text:c(f[t])},u.dataContentField&&(e.content=l(f[t])),u.dataContentUrlField&&(e.contentUrl=a(f[t])),u.dataUrlField&&(e.url=y(f[t])),u.dataImageUrlField&&(e.imageUrl=v(f[t])),u.dataSpriteCssClass&&(e.spriteCssClass=p(f[t])),o[t]=e;if(n.action=="add")n.index<i.tabGroup.children().length?i.insertBefore(o,i.tabGroup.children().eq(n.index)):i.append(o);else if(n.action=="remove")for(t=0;t<f.length;t++)i.remove(n.index);else n.action=="itemchange"?(t=i.dataSource.view().indexOf(f[0]),n.field===u.dataTextField&&i.tabGroup.children().eq(t).find(".k-link").text(f[0].get(n.field))):(i.trigger("dataBinding"),i.append(o),i.trigger("dataBound"))},value:function(i){var r=this;if(i!==t)i!=r.value()&&r.tabGroup.children().each(function(){n.trim(n(this).text())==i&&r.select(this)});else return r.select().text()},items:function(){return this.tabGroup[0].children},setOptions:function(n){var t=this.options.animation;this._animations(n),n.animation=u(!0,t,n.animation),p.fn.setOptions.call(this,n)},events:[b,ct,"error",tt,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200,show:!0},close:{duration:200}},collapsible:!1},select:function(t){var r=this;return arguments.length===0?r.wrapper.find("li."+i):(isNaN(t)||(t=r.tabGroup.children().get(t)),t=r.element.find(t),n(t).each(function(t,u){u=n(u),u.hasClass(i)||r.trigger(b,{item:u[0],contentElement:r.contentElement(u.index())})||r.activateTab(u)}),r)},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},reload:function(t){t=this.tabGroup.find(t);var i=this;return t.each(function(){var t=n(this),r=t.find("."+f).data(c);r&&i.ajaxRequest(t,n(i.contentElement(t.index())),null,r)}),i},append:function(n){var t=this,i=t._create(n);return w(i.tabs,function(n){t.tabGroup.append(this),t.wrapper.append(i.contents[n])}),a(t.tabGroup),t._updateContentElements(),t},insertBefore:function(t,i){var r=this,u=r._create(t),f=n(r.contentElement(i.index()));return w(u.tabs,function(n){i.before(this),f.before(u.contents[n])}),a(r.tabGroup),r._updateContentElements(),r},insertAfter:function(t,i){var r=this,u=r._create(t),f=n(r.contentElement(i.index()));return w(u.tabs,function(n){i.after(this),f.after(u.contents[n])}),a(r.tabGroup),r._updateContentElements(),r},remove:function(t){var i=this,r=typeof t,u;return r==="string"?t=i.tabGroup.find(t):r==="number"&&(t=i.tabGroup.children().eq(t)),u=n(i.contentElement(t.index())),u.remove(),t.remove(),i._updateContentElements(),i},_create:function(t){var f=n.isPlainObject(t),e=this,i,r;return f||n.isArray(t)?(t=n.isArray(t)?t:[t],i=nt(t,function(t,i){return n(l.renderItem({group:e.tabGroup,item:u(t,{index:i})}))}),r=nt(t,function(t,i){if(t.content||t.contentUrl)return n(l.renderContent({item:u(t,{index:i})}))})):(i=n(t),r=n("<div class='"+k+"'/>"),g(i)),{tabs:i,contents:r}},_toggleDisabled:function(t,i){t=this.tabGroup.find(t),t.each(function(){n(this).toggleClass(s,i).toggleClass(y,!i)})},_updateClasses:function(){var r=this,u,f,e;r.wrapper.addClass("k-widget k-header k-tabstrip"),r.tabGroup=r.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),r.tabGroup[0]||(r.tabGroup=n("<ul class='k-tabstrip-items k-reset'/>").appendTo(r.wrapper)),u=r.tabGroup.find("li").addClass("k-item"),u.length&&(f=u.filter("."+i).index(),e=f>=0?f:t,r.tabGroup.contents().filter(function(){return this.nodeType==3&&!ot(this.nodeValue)}).remove()),u.eq(f).addClass(o),r.contentElements=r.wrapper.children("div"),r.contentElements.addClass(k).eq(e).addClass(i).css({display:"block"}),u.length&&(g(u),a(r.tabGroup),r._updateContentElements())},_updateContentElements:function(){var t=this,i=t.options.contentUrls||[],u=t.element.attr("id"),f=t.wrapper.children("div");t.tabGroup.find(".k-item").each(function(r){var e=f.eq(r),o=u+"-"+(r+1);!e.length&&i[r]?n("<div id='"+o+"' class='"+k+"'/>").appendTo(t.wrapper):e.attr("id",o)}),t.contentElements=t.contentAnimators=t.wrapper.children("div"),r.support.touch&&r.mobile.ui.Scroller&&(r.touchScroller(t.contentElements),t.contentElements=t.contentElements.children(".km-scroll-container"))},_toggleHover:function(t){n(t.currentTarget).toggleClass(v,t.type==d)},_click:function(t){var r=this,u=n(t.currentTarget),o=u.find("."+f),e=o.attr(st),s=r.options.collapsible,l=n(r.contentElement(u.index())),h;if(u.closest(".k-widget")[0]==r.wrapper[0]){if(u.is("."+y+(s?"":",."+i))){t.preventDefault();return}if(!r.tabGroup.children("[data-animating], [data-in-request]").length)if(r.trigger(b,{item:u[0],contentElement:l[0]}))t.preventDefault();else{if(h=o.data(c)||e&&(e.charAt(e.length-1)=="#"||e.indexOf("#"+r.element[0].id+"-")!=-1),!e||h)t.preventDefault();else return;if(s&&u.is("."+i)){r.deactivateTab(u),t.preventDefault();return}r.activateTab(u)&&t.preventDefault()}}},deactivateTab:function(n){var e=this,o=e.options.animation,f=o.open,t=u({},o.close),h=t&&"effects"in t;n=e.tabGroup.find(n),t=u(h?t:u({reverse:!0},f),{show:!1,hide:!0}),r.size(f.effects)?(n.kendoAddClass(s,{duration:f.duration}),n.kendoRemoveClass(i,{duration:f.duration})):(n.addClass(s),n.removeClass(i)),e.contentAnimators.filter("."+i).kendoStop(!0,!0).kendoAnimate(t).removeClass(i)},activateTab:function(t){var w,p,l;t=this.tabGroup.find(t);var e=this,b=e.options.animation,a=b.open,h=u({},b.close),nt=h&&"effects"in h,k=t.parent().children(),y=k.filter("."+i),tt=k.index(t);if(h=u(nt?h:u({reverse:!0},a),{show:!1,hide:!0}),r.size(a.effects)?(y.kendoRemoveClass(i,{duration:h.duration}),t.kendoRemoveClass(v,{duration:h.duration})):(y.removeClass(i),t.removeClass(v)),w=e.contentAnimators,w.length===0)return y.removeClass(o),t.addClass(o).css("z-index"),t.addClass(i),e.trigger("change"),!1;if(p=w.filter("."+i),l=n(e.contentElement(tt)),l.length===0)return p.removeClass(i).kendoStop(!0,!0).kendoAnimate(h),!1;t.attr("data-animating",!0);var it=(t.children("."+f).data(c)||!1)&&l.is(at),d=function(){y.removeClass(o),t.addClass(o).css("z-index"),r.size(a.effects)?(y.kendoAddClass(s,{duration:a.duration}),t.kendoAddClass(i,{duration:a.duration})):(y.addClass(s),t.addClass(i)),l.closest(".k-content").addClass(i).kendoStop(!0,!0).kendoAnimate(u({init:function(){e.trigger(ct,{item:t[0],contentElement:l[0]})}},a,{complete:function(){t.removeAttr("data-animating")}}))},g=function(){it?e.ajaxRequest(t,l,function(){d(),e.trigger("change")}):(d(),e.trigger("change"))};return p.removeClass(i),p.length?p.kendoStop(!0,!0).kendoAnimate(u({complete:g},h)):g(),!0},contentElement:function(n){var i,r,t,u;if(!isNaN(+n))for(i=this.contentElements,r=new RegExp("-"+(n+1)+"$"),t=0,u=i.length;t<u;t++)if(r.test(i.closest(".k-content")[t].id))return i[t]},ajaxRequest:function(t,i,r,u){if(t=this.tabGroup.find(t),!t.find(".k-loading").length){var e=this,o=t.find("."+f),s=null,h=setTimeout(function(){s=n("<span class='k-icon k-loading'/>").prependTo(o)},100);t.attr("data-in-request",!0),n.ajax({type:"GET",cache:!1,url:u||o.data(c)||o.attr(st),dataType:"html",data:{},error:function(n,i){t.removeAttr("data-animating"),e.trigger("error",{xhr:n,status:i})&&this.complete()},complete:function(){t.removeAttr("data-in-request"),clearTimeout(h),s!==null&&s.remove()},success:function(n){i.html(n),r&&r.call(e,i),e.trigger(tt,{item:t[0],contentElement:i[0]})}})}}});u(l,{renderItem:function(n){n=u({tabStrip:{},group:{}},n);var t=e.empty,i=n.item;return e.item(u(n,{image:i.imageUrl?e.image:t,sprite:i.spriteCssClass?e.sprite:t,itemWrapper:e.itemWrapper},ut))},renderContent:function(n){return e.content(u(n,ut))}}),r.ui.plugin(l)}(jQuery),function(n,t){function pt(n,t,i){var u=n.getTimezoneOffset(),r;n.setTime(n.getTime()+t),i||(r=n.getTimezoneOffset()-u,n.setTime(n.getTime()+r*o))}function yt(){var n=new r,t=new r(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),i=new r(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-i.getTimezoneOffset())}function f(n){return n.getHours()*60*o+n.getMinutes()*o+n.getSeconds()*1e3+n.getMilliseconds()}function ct(n,t,i){var u=f(t),e=f(i),r;return!n||u==e?!0:(r=f(n),u>r&&(r+=h),e<u&&(e+=h),r>=u&&r<=e)}function ht(n){var t=n.parseFormats;n.format=vt(n.format||i.getCulture(n.culture).calendars.standard.patterns.t),t=nt(t)?t:[t],t.splice(0,0,n.format),n.parseFormats=t}function st(n){n.preventDefault()}var i=window.kendo,l=i.support.touch,e=i.keys,vt=i._extractFormat,k=i.ui,b=k.Widget,ot="open",et="close",p="change",y=l?"touchend":"click",rt="k-state-default",v="disabled",a="li",ft="<span/>",ut="k-state-focused",w="k-state-hover",lt="mouseenter mouseleave",g="mousedown",o=6e4,h=864e5,tt="k-state-selected",it="k-state-disabled",nt=n.isArray,d=n.extend,c=n.proxy,r=Date,u=new r,s,at;u=new r(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0),s=function(t){var r=this;r.options=t,r.ul=n('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:i.support.touch?"":"auto"}).delegate(a,y,c(r._click,r)).delegate(a,"mouseenter",function(){n(this).addClass(w)}).delegate(a,"mouseleave",function(){n(this).removeClass(w)}),r.list=n("<div class='k-list-container'/>").append(r.ul).mousedown(st),r._popup(),r.template=i.template('<li class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},s.prototype={current:function(i){var r=this;if(i!==t)r._current&&r._current.removeClass(tt),i&&(i=n(i),i.addClass(tt),r.scroll(i[0])),r._current=i;else return r._current},close:function(){this.popup.close()},open:function(){var n=this;n.ul[0].firstChild||n.bind(),n.popup.open(),n._current&&n.scroll(n._current[0])},dataBind:function(n){for(var r=this,t=r.options,s=t.format,h=i.toString,c=r.template,e=n.length,u=0,f,o="";u<e;u++)f=n[u],ct(f,t.min,t.max)&&(o+=c(h(f,s,t.culture)));r._html(o,e)},refresh:function(){var c=this,t=c.options,k=t.format,v=yt(),y=v<0,p=t.min,w=t.max,l=f(p),n=f(w),u=t.interval*o,d=i.toString,g=c.template,e=new r(p),a=0,s,b="";for(s=y?(h+v*o)/u:h/u,l!=n&&(l>n&&(n+=h),s=(n-l)/u+1);a<s;a++)a&&pt(e,u,y),n&&f(e)>n&&(e=new r(w)),b+=g(d(e,k,t.culture));c._html(b,s)},bind:function(){var n=this,t=n.options.dates;t&&t[0]?n.dataBind(t):n.refresh()},_html:function(n,t){var i=this;i.ul[0].innerHTML=n,i._height(t),i.current(null),i.select(i._value)},scroll:function(n){if(n){var t=this.ul[0],i=n.offsetTop,e=n.offsetHeight,r=t.scrollTop,u=t.clientHeight,f=i+e;t.scrollTop=r>i?i:f>r+u?f-u:r}},select:function(t){var r=this,f=r.options,u=r._current;t instanceof Date&&(t=i.toString(t,f.format,f.culture)),typeof t=="string"&&(u&&u.text()===t?t=u:(t=n.grep(r.ul[0].childNodes,function(n){return(n.textContent||n.innerText)==t}),t=t[0]?t:null)),r.current(t)},toggle:function(){var n=this;n.popup.visible()?n.close():n.open()},value:function(n){var t=this;t._value=n,t.ul[0].firstChild&&t.select(n)},_click:function(t){var i=this,r=n(t.currentTarget);t.isDefaultPrevented()||(i.select(r),i.options.change(r.text(),!0),i.close())},_height:function(n){if(n){var t=this,i=t.list,u=i.parent(".k-animation-container"),r=t.options.height;i.add(u).show().height(t.ul[0].scrollHeight>r?r:"auto").hide()}},_parse:function(n){var f=this,e=f.options,t=f._value||u;return n instanceof r?n:(n=i.parseDate(n,e.parseFormats,e.culture),n&&(n=new r(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())),n)},_popup:function(){var t=this,r=t.list,n=t.options,u=n.anchor,f;t.popup=new k.Popup(r,d(n.popup,{anchor:u,open:n.open,close:n.close,animation:n.animation})),f=u.outerWidth()-(r.outerWidth()-r.width()),r.css({fontFamily:u.css("font-family"),width:f}),i.touchScroller(t.popup.element)},move:function(n){var i=this,r=n.keyCode,f=i.ul[0],t=i._current,u=r===e.DOWN;if(r===e.UP||u){if(n.altKey){i.toggle(u);return}t=u?t?t[0].nextSibling:f.firstChild:t?t[0].previousSibling:f.lastChild,t&&i.select(t),i.options.change(i._current.text()),n.preventDefault()}else(r===e.ENTER||r===e.TAB||r===e.ESC)&&(n.preventDefault(),t&&i.options.change(t.text(),!0),i.close())}},s.getMilliseconds=f,i.TimeView=s,at=b.extend({init:function(n,t){var r=this;b.fn.init.call(r,n,t),n=r.element,t=r.options,ht(t),r._wrapper(),r.timeView=new s(d({},t,{anchor:r.wrapper,format:t.format,change:function(t,i){i?r._change(t):n.val(t)},open:function(n){r.trigger(ot)&&n.preventDefault()},close:function(n){r.trigger(et)&&n.preventDefault()}})),r._icon(),l||(n[0].type="text"),n.addClass("k-input").bind({keydown:c(r._keydown,r),focus:function(){r._inputWrapper.addClass(ut)},blur:c(r._blur,r)}).closest("form").bind("reset",function(){r.value(n[0].defaultValue)}),r.enable(!n.is("[disabled]")),r.value(t.value||n.val()),i.notify(r)},options:{name:"TimePicker",min:u,max:u,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[ot,et,p],setOptions:function(n){var t=this;b.fn.setOptions.call(t,n),ht(t.options),d(t.timeView.options,t.options),t.timeView.ul[0].innerHTML=""},dataBind:function(n){nt(n)&&this.timeView.dataBind(n)},enable:function(n){var t=this,i=t.element,u=t._arrow.unbind(y+" "+g),r=t._inputWrapper.unbind(lt);n===!1?(r.removeClass(rt).addClass(it),i.attr(v,v)):(r.removeClass(it).addClass(rt).bind(lt,t._toggleHover),i.removeAttr(v),u.bind(y,c(t._click,t)).bind(g,st))},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n)},_blur:function(){var n=this;n.close(),n._change(n.element.val()),n._inputWrapper.removeClass(ut)},_click:function(){var n=this,t=n.element;n.timeView.toggle(),l||t[0]===document.activeElement||t.focus()},_change:function(n){var t=this;n=t._update(n),+t._old!=+n&&(t._old=n,t.trigger(p),t.element.trigger(p))},_icon:function(){var r=this,i=r.element,t;t=i.next("span.k-select"),t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),r._arrow=t},_keydown:function(n){var t=this,r=n.keyCode,i=t.timeView;i.popup.visible()||n.altKey?i.move(n):r===e.ENTER&&t._change(t.element.val())},_option:function(n,i){var u=this,f=u.options;if(i===t)return f[n];(i=u.timeView._parse(i),i)&&(i=new r(i),f[n]=i,u.timeView.options[n]=i,u.timeView.bind())},_toggleHover:function(t){l||n(t.currentTarget).toggleClass(w,t.type==="mouseenter")},_update:function(n){var r=this,u=r.options,t=r.timeView._parse(n);return ct(t,u.min,u.max)||(t=null),r._value=t,r.element.val(t?i.toString(t,u.format,u.culture):n),r.timeView.value(t),t},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(ft).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(ft).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),r.wrapper=t.addClass("k-widget k-timepicker k-header"),r._inputWrapper=n(t[0].firstChild)}}),k.plugin(at)}(jQuery),function(n,t){function g(n){n.preventDefault()}function ct(n){var t=i.getCulture(n.culture).calendars.standard.patterns;n.format=ot(n.format||t.g),n.timeFormat=ot(n.timeFormat||t.t),i.DateView.normalize(n),n.parseFormats.splice(1,0,n.timeFormat)}var i=window.kendo,ht=i.TimeView,f=i.support.touch,ft=i.parseDate,ot=i._extractFormat,p=i.calendar,st=p.isInRange,lt=p.restrictValue,o=p.isEqualDatePart,s=ht.getMilliseconds,nt=i.ui,v=nt.Widget,a="open",l="close",y="change",vt=f?"touchend":"click",h="disabled",ut="k-state-default",rt="k-state-focused",at="k-state-hover",tt="k-state-disabled",w="mouseenter mouseleave",yt=f?"touchstart":"mousedown",d=vt+" "+yt,k="month",b="<span/>",r=Date,e=new r(1900,0,1),u=new r(2099,11,31),it={view:"date"},et={view:"time"},c=n.extend,pt=v.extend({init:function(t,r){var u=this;v.fn.init.call(u,t,r),t=u.element,r=u.options,ct(r),u._wrapper(),u._icons(),u._views(),f||(t[0].type="text"),t.addClass("k-input").bind({keydown:n.proxy(u._keydown,u),focus:function(){u._inputWrapper.addClass(rt)},blur:function(){u._inputWrapper.removeClass(rt),u._change(t.val()),u.close("date"),u.close("time")}}).closest("form").bind("reset",function(){u.value(t[0].defaultValue)}),u._midnight=s(r.min)+s(r.max)===0,u.enable(!t.is("[disabled]")),u.value(r.value||t.val()),i.notify(u)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new r(e),max:new r(u),interval:30,height:200,footer:"",start:k,depth:k,animation:{},month:{}},events:[a,l,y],setOptions:function(n){var t=this;v.fn.setOptions.call(t,n),ct(t.options),c(t.dateView.options,t.options),c(t.timeView.options,t.options),t.timeView.ul[0].innerHTML=""},enable:function(n){var t=this,u=t._dateIcon.unbind(d),e=t._timeIcon.unbind(d),r=t._inputWrapper.unbind(w),i=t.element;n===!1?(r.removeClass(ut).addClass(tt),i.attr(h,h)):(r.addClass(ut).removeClass(tt).bind(w,t._toggleHover),i.removeAttr(h),u.bind({click:function(){t.toggle("date"),f||i[0]===document.activeElement||i.focus()},mousedown:g}),e.bind({click:function(){t.toggle("time"),f||i[0]===document.activeElement||i.focus()},mousedown:g}))},close:function(n){n!=="time"&&(n="date"),this[n+"View"].close()},open:function(n){n!=="time"&&(n="date"),this[n+"View"].open()},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},toggle:function(n){var t="timeView";n!=="time"?n="date":t="dateView",this[n+"View"].toggle(),this[t].close()},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n)},_change:function(n){var t=this;n=t._update(n),+t._old!=+n&&(t._old=n,t.trigger(y),t.element.trigger(y))},_option:function(n,i){var f=this,h=f.options,l=f.timeView,c=l.options,a=f._value||f._old;if(i===t)return h[n];if(i=ft(i,h.parseFormats,h.culture),i){if(h[n]=new r(i),f.dateView[n](i),f._midnight=s(h.min)+s(h.max)===0,a&&o(i,a)){if(f._midnight&&n=="max"){c[n]=u,l.dataBind([u]);return}c[n]=i}else c.max=u,c.min=e;l.bind()}},_toggleHover:function(t){f||n(t.currentTarget).toggleClass(at,t.type==="mouseenter")},_update:function(n){var r=this,s=r.options,h=s.min,l=s.max,a=r.timeView,t=ft(n,s.parseFormats,s.culture),c,f,v,y;return+t==+r._value?t:(t!==null&&o(t,h)?t=lt(t,h,l):st(t,h,l)||(t=null),r._value=t,a.value(t),r.dateView.value(t),t&&(v=r._old,f=a.options,o(t,h)&&(f.min=h,f.max=u,c=!0),o(t,l)&&(r._midnight?(a.dataBind([u]),y=!0):(f.max=l,c||(f.min=e),c=!0)),y||(v||!c)&&(!v||o(v,t))||(c||(f.max=u,f.min=e),a.bind())),r.element.val(t?i.toString(t,s.format,s.culture):n),t)},_keydown:function(n){var t=this,r=t.dateView,u=t.timeView,f=r.popup.visible();n.altKey&&n.keyCode===i.keys.DOWN?t.toggle(f?"time":"date"):f?r.move(n):u.popup.visible()?u.move(n):n.keyCode===i.keys.ENTER&&t._change(t.element.val())},_views:function(){var n=this,t=n.options;n.dateView=new i.DateView(c({},t,{anchor:n.wrapper,change:function(){var i=this.value(),f=+i,e=+t.min,o=+t.max,u;(f===e||f===o)&&(u=new r(n._value),u.setFullYear(i.getFullYear()),u.setMonth(i.getMonth()),u.setDate(i.getDate()),st(u,e,o)&&(i=u)),n._change(i),n.close("date")},close:function(t){n.trigger(l,it)&&t.preventDefault()},open:function(t){n.trigger(a,it)&&t.preventDefault()}})),n.timeView=new ht({anchor:n.wrapper,animation:t.animation,dates:t.dates,format:t.timeFormat,culture:t.culture,height:t.height,interval:t.interval,min:new r(e),max:new r(u),parseFormats:t.parseFormats,value:t.value,change:function(u,f){u=n.timeView._parse(u),u<t.min?(u=new r(t.min),n.timeView.options.min=u):u>t.max&&(u=new r(t.max),n.timeView.options.max=u),f?(n._timeSelected=!0,n._change(u)):n.element.val(i.toString(u,t.format,t.culture))},close:function(t){n.trigger(l,et)&&t.preventDefault()},open:function(t){n.trigger(a,et)&&t.preventDefault()}})},_icons:function(){var i=this,r=i.element,t;t=r.next("span.k-select"),t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(r),t=t.children()),i._dateIcon=t.eq(0),i._timeIcon=t.eq(1)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-datetimepicker"),t[0]||(t=i.wrap(b).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(b).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),r.wrapper=t.addClass("k-widget k-datetimepicker k-header"),r._inputWrapper=n(t[0].firstChild)}});nt.plugin(pt)}(jQuery),function(n){function st(n){return function(t){var i=t.children(".k-animation-container");return i.length||(i=t),i.children(n)}}function ot(t){return n(t).closest("[data-role=treeview]").data("kendoTreeView")}function k(t){var i=t.children("div"),f=t.children("ul"),o=i.children(".k-icon"),e=i.children(".k-in"),r,u;if(!t.hasClass("k-treeview")&&(i.length||(i=n("<div />").prependTo(t)),!o.length&&f.length?o=n("<span class='k-icon' />").prependTo(i):f.length&&f.children().length||(o.remove(),f.remove()),!e.length))for(e=n("<span class='k-in' />").appendTo(i)[0],r=i[0].nextSibling,e=i.find(".k-in")[0];r&&r.nodeName.toLowerCase()!="ul";)u=r,r=r.nextSibling,u.nodeType==3&&(u.nodeValue=n.trim(u.nodeValue)),e.appendChild(u)}function r(n,t,i){var r=n.children("div"),u=n.children("ul");n.hasClass("k-treeview")||(i=e({expanded:u.css("display")!="none",index:n.index(),enabled:!r.children(".k-in").hasClass("k-state-disabled")},i),t=e({firstLevel:n.parent().parent().hasClass(l),length:n.parent().children().length},t),n.removeClass("k-first k-last").addClass(f.wrapperCssClass(t,i)),r.removeClass("k-top k-mid k-bot").addClass(f.cssClass(t,i)),r.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(f.textClass(i)),u.length&&(r.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(f.toggleButtonClass(i)),u.addClass("k-group")))}function p(n){var t=this;t.treeview=n,t._draggable=new g.Draggable(n.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(n){return d.dragClue({text:n.text()})},cursorOffset:{left:10,top:i.support.touch?-40/i.support.zoomLevel():10},dragstart:u(t.dragstart,t),dragcancel:u(t.dragcancel,t),drag:u(t.drag,t),dragend:u(t.dragend,t)})}var i=window.kendo,g=i.ui,et=i.data,e=n.extend,o=i.template,c=n.isArray,b=g.Widget,ct=et.HierarchicalDataSource,u=n.proxy,ft="change",tt="dragstart",ut="drag",rt="drop",it="dragend",ht="click",a="visibility",w="k-state-hover",l="k-treeview",y=":visible",t=".k-item",d,f,nt,s,h,v={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},lt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"};s=st(".k-group"),h=st(".k-group,.k-content"),d={dragClue:o("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status'></span>#= text #</div>"),group:o("<ul class='#= r.groupCssClass(group) #'#= r.groupAttributes(group) #>#= renderItems(data) #</ul>")},nt=b.extend({init:function(t,i){var r=this,e=".k-in:not(.k-state-selected,.k-state-disabled)",s="mouseenter",h,f=!1;c(i)&&(h=!0,i={dataSource:i}),i&&typeof i.loadOnDemand=="undefined"&&c(i.dataSource)&&(i.loadOnDemand=!1),b.prototype.init.call(r,t,i),t=r.element,i=r.options,f=t.is("ul")||t.hasClass(l),f&&(i.dataSource.list=t.is("ul")?t:t.children("ul")),r._animation(),r._accessors(),i.template&&typeof i.template=="string"?i.template=o(i.template):i.template||(i.template=r._textTemplate()),i.checkboxTemplate&&typeof i.checkboxTemplate=="string"&&(i.checkboxTemplate=o(i.checkboxTemplate)),r.templates={item:r._itemTemplate(),loading:r._loadingTemplate()},t.hasClass(l)?(r.wrapper=t,r.root=t.children("ul").eq(0)):(r._wrapper(),f&&(r.root=t,r._group(r.wrapper))),r._dataSource(f);r.wrapper.on(s,".k-in.k-state-selected",function(n){n.preventDefault()}).on(s,e,function(){n(this).addClass(w)}).on("mouseleave",e,function(){n(this).removeClass(w)}).on(ht,e,u(r._nodeClick,r)).on("dblclick","div:not(.k-state-disabled) .k-in",u(r._toggleButtonClick,r)).on(ht,".k-plus,.k-minus",u(r._toggleButtonClick,r));i.dragAndDrop&&(r.dragging=new p(r)),f?r._attachUids():i.autoBind&&(r._progress(!0),r.dataSource.read())},_attachUids:function(t,r){var u=this,f,e=i.attr("uid");t=t||u.root,r=r||u.dataSource,f=r.view(),t.children("li").each(function(t,i){i=n(i).attr(e,f[t].uid),u._attachUids(i.children("ul"),f[t].children)})},_animation:function(){var n=this.options;n.animation===!1&&(n.animation={expand:{show:!0,effects:{}},collapse:{hide:!0,effects:{}}})},_dataSource:function(n){function r(n){for(var t=0;t<n.length;t++)n[t].children.read(),r(n[t].children.view())}var t=this,f=t.options,i=f.dataSource;i=c(i)?{data:i}:i,t.dataSource&&t._refreshHandler?t.dataSource.unbind(ft,t._refreshHandler):t._refreshHandler=u(t.refresh,t),i.fields||(i.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),t.dataSource=ct.create(i),n&&(t.dataSource.read(),r(t.dataSource.view())),t.dataSource.bind(ft,t._refreshHandler)},events:[tt,ut,rt,it,"expand","collapse","select"],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200,show:!0},collapse:{duration:100}},dragAndDrop:!1,autoBind:!0,loadOnDemand:!0},_accessors:function(){var u=this,f=u.options,t,n,r,e=u.element;for(t in v)n=f[v[t]],r=e.attr(i.attr(t+"-field")),r&&(n=r),n||(n=t),c(n)||(n=[n]),f[v[t]]=n},_fieldFor:function(n){var i=this.options[v[n]],t=i.length;return t===0?"'"+n+"'":t==1?"'"+i[0]+"'":"['"+i.join("','")+"'][item.level() < "+t+" ? item.level() : "+(t-1)+"]"},_textTemplate:function(){var n=this,t=function(t){return"item["+n._fieldFor(t)+"]"},i="# var text = "+t("text")+"; ## if (typeof item.encoded != 'undefined' && item.encoded === false) {##= text ## } else { ##: text ## } #";return o(i)},_loadingTemplate:function(){return o("<div class='k-icon k-loading' /> Loading...")},_itemTemplate:function(){var t=this,n=function(n){return"item["+t._fieldFor(n)+"]"},r="<li class='#= r.wrapperCssClass(group, item) #' "+i.attr("uid")+"='#= item.uid #'><div class='#= r.cssClass(group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #'></span># } ## if (treeview.checkboxTemplate) { #<span class='k-checkbox'>#= treeview.checkboxTemplate(data) #</span># } ## var url = "+n("url")+"; ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag# class='#= r.textClass(item) #'#= textAttr #># var imageUrl = "+n("imageUrl")+"; ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## var spriteCssClass = "+n("spriteCssClass")+"; ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= treeview.template(data) #</#=tag#></div></li>";return o(r)},setOptions:function(n){var t=this;"dragAndDrop"in n&&n.dragAndDrop&&!t.options.dragAndDrop&&(t.dragging=new p(t)),b.fn.setOptions.call(t,n),t._animation()},_trigger:function(n,i){return this.trigger(n,{node:i.closest(t)[0]})},_toggleButtonClick:function(i){this.toggle(n(i.target).closest(t))},_nodeClick:function(i){var f=this,r=n(i.target),e=h(r.closest(t)),u=r.attr("href"),o;o=u?u=="#"||u.indexOf("#"+this.element.id+"-")>=0:e.length&&!e.children().length,o&&i.preventDefault(),r.hasClass(".k-state-selected")||f._trigger("select",r)||f.select(r)},_wrapper:function(){var i=this,n=i.element,t,r;n.is("div")?(t=n,r=t.children("ul").eq(0)):(t=n.wrap("<div />").parent(),r=n),i.wrapper=t.addClass("k-widget k-treeview k-reset"),i.root=r},_group:function(n){var i=this,r=n.hasClass(l),t={firstLevel:r,expanded:r||i._expanded(n)},u=n.children("ul");u.addClass(f.groupCssClass(t)).css("display",t.expanded?"":"none"),i._nodes(u,t)},_nodes:function(t,i){var u=this,f=t.children("li"),o;i=e({length:f.length},i),f.each(function(t,f){f=n(f),o={index:t,expanded:u._expanded(f)},k(f),r(f,i,o),u._group(f)})},_processNodes:function(i,r){var u=this;u.element.find(i).each(function(i,f){r.call(u,i,n(f).closest(t))})},dataItem:function(r){var f=n(r).closest(t).attr(i.attr("uid")),u=this.dataSource;return u&&u.getByUid(f)},_insertNode:function(t,i,u,f,e){for(var a=this,v=s(u),b=v.children().length+1,y,p={firstLevel:u.hasClass(l),expanded:!e,length:b},h,c,w="",d=function(n,t){n.appendTo(t)},o=0;o<t.length;o++)c=t[o],c.index=i+o,w+=a._renderItem({group:p,item:c});if(h=n(w),h.length){for(v.length||(v=n(a._renderGroup({group:p})).appendTo(u)),f(h,v),u.hasClass("k-item")&&(k(u),r(u)),r(h.prev()),r(h.next()),o=0;o<t.length;o++)c=t[o],y=c.children.data(),y.length&&a._insertNode(y,c.index,h.eq(o),d,!a._expanded(h.eq(o)));return h}},refresh:function(n){function h(n,i,r){var e=s(i),u=e.children();typeof f=="undefined"&&(f=u.length),t._insertNode(n,f,i,function(n,t){f==u.length?n.appendTo(t):n.insertBefore(u.eq(f))},r)}var t=this,i=t.wrapper,o=n.node,c=n.action,u=n.items,f=n.index,l=t.options.loadOnDemand,e;if(!n.field&&(o&&(i=t.findByUid(o.uid),t._progress(i,!1)),c=="add"?h(u,i):c=="remove"?t._remove(t.findByUid(u[0].uid),!1):o?(s(i).empty(),h(u,i,!0),t._expanded(i)&&(r(i,{},{expanded:!0}),s(i).css("display","block"))):t.root=t.wrapper.html(t._renderGroup({items:u,group:{firstLevel:!0,expanded:!0}})).children("ul"),!l))for(e=0;e<u.length;e++)u[e].load()},expand:function(n){this._processNodes(n,function(n,t){var i=h(t);i.length>0&&!i.is(y)&&this.toggle(t)})},collapse:function(n){this._processNodes(n,function(n,t){var i=h(t);i.length>0&&i.is(y)&&this.toggle(t)})},enable:function(n,t){t=arguments.length==2?!!t:!0,this._processNodes(n,function(n,i){var u=!h(i).is(y);t||(this.collapse(i),u=!0),r(i,{},{enabled:t,expanded:!u})})},select:function(i){var r=this.element;if(!arguments.length)return r.find(".k-state-selected").closest(t);i=n(i,r).closest(t),i.length&&(r.find(".k-in").removeClass("k-state-hover k-state-selected"),i.find(".k-in:first").addClass("k-state-selected"))},toggle:function(t){if(t=n(t),t.find(">div>.k-icon").is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){var f=this,i=h(t),u=!i.is(y),c=f.options,l=c.animation||{},o=l.expand,s=e({},l.collapse),v=s&&"effects"in s,a=f.dataItem(t);i.data("animating")||(u||(o=e(v?s:e({reverse:!0},o),{show:!1,hide:!0})),f._trigger(u?"expand":"collapse",t)||(f._expanded(t,u),i.children().length>0?(r(t,{},{expanded:u}),u||i.css("height",i.height()).css("height"),i.kendoStop(!0,!0).kendoAnimate(e(o,{complete:function(){u&&i.css("height","")}}))):a&&(c.loadOnDemand&&f._progress(t,!0),a.load())))}},_expanded:function(n,t){var u=i.attr("expanded"),r=this.dataItem(n);if(arguments.length==1)return n.attr(u)==="true"||r&&r.expanded;r&&r.set("expanded",t),t?n.attr(u,"true"):n.removeAttr(u)},_progress:function(n,t){var i=this.element;arguments.length==1?(t=n,t?i.html(this.templates.loading):i.empty()):n.find("> div > .k-icon").toggleClass("k-loading",t)},text:function(i){return n(i).closest(t).find(">div>.k-in").text()},_dataSourceMove:function(t,r,u,f){var l=this,y=ot(t),a,e,o,s,v=ot(u||r),h=v.dataSource;if(u&&(o=v.dataItem(u),o.loaded()||(o.load(),l._expanded(u,!0)),u!=l.root&&(h=o.children)),t instanceof n||lt(t))t=n(t),a=y.dataSource,e=a.getByUid(t.attr(i.attr("uid"))),e=a.remove(e),e=f(h,e);else if(c(t)||t instanceof et.ObservableArray)for(s=0;s<t.length;s++)e=f(h,t[s]);else e=f(h,t);return l.findByUid(e.uid)},insertAfter:function(n,t){var i=t.parent(),r;return i.parent().is("li")&&(r=i.parent()),this._dataSourceMove(n,i,r,function(n,i){return n.insert(t.index()+1,i)})},insertBefore:function(n,t){var i=t.parent(),r;return i.parent().is("li")&&(r=i.parent()),this._dataSourceMove(n,i,r,function(n,i){return n.insert(t.index(),i)})},append:function(n,t){var i=this,r=i.root;return t&&(r=s(t)),i._dataSourceMove(n,r,t,function(n,r){return t&&i._expanded(t,!0),n.add(r)})},_remove:function(t,i){var u,f,e;return t=n(t,this.element),u=t.parent().parent(),f=t.prev(),e=t.next(),t[i?"detach":"remove"](),u.hasClass("k-item")&&(k(u),r(u)),r(f),r(e),t},remove:function(n){var t=this.dataItem(n);t&&this.dataSource.remove(t)},detach:function(n){return this._remove(n,!0)},findByText:function(i){return n(this.element).find(".k-in").filter(function(t,r){return n(r).text()==i}).closest(t)},findByUid:function(n){return this.element.find(".k-item["+i.attr("uid")+"="+n+"]")},_renderItem:function(n){return n.group||(n.group={}),n.treeview=this.options,n.r=f,this.templates.item(n)},_renderGroup:function(n){var t=this;return n.renderItems=function(n){var u="",i=0,r=n.items,f=r?r.length:0,e=n.group;for(e.length=f;i<f;i++)n.group=e,n.item=r[i],n.item.index=i,u+=t._renderItem(n);return u},n.r=f,d.group(n)}}),p.prototype={_hintStatus:function(t){var i=this._draggable.hint.find(".k-drag-status")[0];if(t)i.className="k-icon k-drag-status "+t;else return n.trim(i.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(i){var r=this,u=r.treeview,f=r.sourceNode=i.currentTarget.closest(t);u.trigger(tt,{sourceNode:f[0]})&&i.preventDefault(),r.dropHint=n("<div class='k-drop-hint' />").css(a,"hidden").appendTo(u.element)},drag:function(r){var f=this,d=f.treeview,k=f.sourceNode,e=f.dropTarget=n(i.eventTarget(r)),u,o,v,h,y,c,p,s,b,l;e.closest(".k-treeview").length?n.contains(k[0],e[0])?u="k-denied":(u="k-insert-middle",f.dropHint.css(a,"visible"),o=e.closest(".k-top,.k-mid,.k-bot"),o.length>0?(h=o.outerHeight(),y=o.offset().top,c=e.closest(".k-in"),p=h/(c.length>0?4:2),s=r.pageY<y+p,b=y+h-p<r.pageY,l=c.length>0&&!s&&!b,c.toggleClass(w,l),f.dropHint.css(a,l?"hidden":"visible"),l?u="k-add":(v=o.position(),v.top+=s?0:h,f.dropHint.css(v)[s?"prependTo":"appendTo"](e.closest(t).children("div:first")),s&&o.hasClass("k-top")&&(u="k-insert-top"),b&&o.hasClass("k-bot")&&(u="k-insert-bottom"))):e[0]!=f.dropHint[0]&&(u="k-denied")):u="k-denied",d.trigger(ut,{sourceNode:k[0],dropTarget:e[0],pageY:r.pageY,pageX:r.pageX,statusClass:u.substring(2),setStatusClass:function(n){u=n}}),u.indexOf("k-insert")!==0&&f.dropHint.css(a,"hidden"),f._hintStatus(u)},dragcancel:function(){this.dropHint.remove()},dragend:function(n){var i=this,u=i.treeview,f="over",e=i.sourceNode,r,s=i.dropHint,o,h;if(s.css(a)=="visible"?(f=s.prevAll(".k-in").length>0?"after":"before",r=s.closest(t)):i.dropTarget&&(r=i.dropTarget.closest(t)),o=i._hintStatus()!="k-denied",h=u.trigger(rt,{sourceNode:e[0],destinationNode:r[0],valid:o,setValid:function(n){o=n},dropTarget:n.target,dropPosition:f}),s.remove(),!o||h){i._draggable.dropped=o;return}i._draggable.dropped=!0,f=="over"?(u.append(e,r),u.expand(r)):f=="before"?u.insertBefore(e,r):f=="after"&&u.insertAfter(e,r),u.trigger(it,{sourceNode:e[0],destinationNode:r[0],dropPosition:f})}},f={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return n.firstLevel&&r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},cssClass:function(n,t){var r="",i=t.index,u=n.length-1;return n.firstLevel&&i===0&&(r+="k-top "),r+(i===0&&i!=u?"k-top":i==u?"k-bot":"k-mid")},textClass:function(n){var t="k-in";return n.enabled===!1&&(t+=" k-state-disabled"),n.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(n){var t="k-icon";return t+=n.expanded!==!0?" k-plus":" k-minus",n.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(n){return n.expanded!==!0?" style='display:none'":""},groupCssClass:function(n){var t="k-group";return n.firstLevel&&(t+=" k-treeview-lines"),t}},g.plugin(nt)}(jQuery),function(n,t){function ri(n,t,i){var f=i?" k-slider-horizontal":" k-slider-vertical",r=n.style?n.style:t.attr("style"),e=t.attr("class")?" "+t.attr("class"):"",u="";return n.tickPlacement=="bottomRight"?u=" k-slider-bottomright":n.tickPlacement=="topLeft"&&(u=" k-slider-topleft"),r=r?" style='"+r+"'":"","<div class='k-widget k-slider"+f+e+"'"+r+"><div class='k-slider-wrap"+(n.showButtons?" k-slider-buttons":"")+u+"'></div></div>"}function pt(n,t,i){var r="";return r=t=="increase"?i?"k-i-arrow-e":"k-i-arrow-n":i?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+r+"' title='"+n[t+"ButtonTitle"]+"'>"+n[t+"ButtonTitle"]+"</span></a>"}function ti(n,t){for(var r="<ul class='k-reset k-slider-items'>",e=i.floor(f(t/n.smallStep))+1,u=0;u<e;u++)r+="<li class='k-tick'>&nbsp;</li>";return r+"</ul>"}function gt(n){var t=n.is("input")?1:2;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='Drag'>Drag</a>"+(t>1?"<a href='#' class='k-draghandle' title='Drag'>Drag</a>":"")+"</div>"}function p(n){return function(t){return t+n}}function yt(n){return function(){return n}}function lt(n){return(n+"").replace(".",r.cultures.current.numberFormat["."])}function f(n){n=parseFloat(n,10);var t=i.pow(10,ni||0);return i.round(n*t)/t}function e(n,i){var r=bt(n.getAttribute(i));return r===null&&(r=t),r}function ct(n){return typeof n!==ii}var r=window.kendo,vt=r.ui.Widget,kt=r.ui.Draggable,at=n.extend,a=r.format,bt=r.parseFloat,u=n.proxy,wt=n.isArray,i=Math,ht=r.support,ft=ht.touch,dt=ht.pointers,k="change",et="slide",ot=ft?"touchstart":"mousedown",w=ft?"touchstart":dt?"MSPointerDown":"mousedown",h=ft?"touchend":"mouseup",rt="moveSelection",c="keydown",nt="click",b="mouseover",o=".k-draghandle",d=".k-slider-track",l=".k-tick",y="k-state-selected",tt="k-state-default",ut="k-state-disabled",ni=3,v="disabled",ii="undefined",g=vt.extend({init:function(n,t){var u=this,e,f;vt.fn.init.call(u,n,t),t=u.options,u._distance=t.max-t.min,u._isHorizontal=t.orientation=="horizontal",u._position=u._isHorizontal?"left":"bottom",u._size=u._isHorizontal?"width":"height",u._outerSize=u._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",u._createHtml(),u.wrapper=u.element.closest(".k-slider"),u._trackDiv=u.wrapper.find(d),u._setTrackDivWidth(),u._maxSelection=u._trackDiv[u._size](),e=u._maxSelection/((t.max-t.min)/t.smallStep),f=u._calculateItemsWidth(i.floor(u._distance/t.smallStep)),t.tickPlacement!="none"&&e>=2&&(u._trackDiv.before(ti(t,u._distance)),u._setItemsWidth(f),u._setItemsTitle(),u._setItemsLargeTick()),u._calculateSteps(f),u[t.enabled?"enable":"disable"](),u._keyMap={37:p(-t.smallStep),40:p(-t.smallStep),39:p(+t.smallStep),38:p(+t.smallStep),35:yt(t.max),36:yt(t.min),33:p(+t.largeStep),34:p(-t.largeStep)},r.notify(u)},events:[k,et],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var n=this,t=parseFloat(n._trackDiv.css(n._position),10)*2;n._trackDiv[n._size](n.wrapper[n._size]()-2-t)},_setItemsWidth:function(t){for(var i=this,h=i.options,o=0,u=t.length-1,f=i.wrapper.find(l),e=0,c=f.length,s=0,r=0;r<c-2;r++)n(f[r+1])[i._size](t[r]);if(i._isHorizontal?(n(f[o]).addClass("k-first")[i._size](t[u-1]),n(f[u]).addClass("k-last")[i._size](t[u])):(n(f[u]).addClass("k-first")[i._size](t[u]),n(f[o]).addClass("k-last")[i._size](t[u-1])),i._distance%h.smallStep!=0&&!i._isHorizontal){for(r=0;r<t.length;r++)s+=t[r];e=i._maxSelection-s,e+=parseFloat(i._trackDiv.css(i._position),10)+2,i.wrapper.find(".k-slider-items").css("padding-top",e)}},_setItemsTitle:function(){for(var t=this,i=t.options,u=t.wrapper.find(l),e=i.min,o=u.length,r=t._isHorizontal?0:o-1,s=t._isHorizontal?o:-1,h=t._isHorizontal?1:-1;r-s!=0;r+=h)n(u[r]).attr("title",a(i.tooltip.format,f(e))),e+=i.smallStep},_setItemsLargeTick:function(){var u=this,e=u.options,t,r=u.wrapper.find(l),i={},o=f(e.largeStep/e.smallStep);if(1e3*e.largeStep%(1e3*e.smallStep)==0)if(u._isHorizontal)for(t=0;t<r.length;t=f(t+o))i=n(r[t]),i.addClass("k-tick-large").html("<span class='k-label'>"+i.attr("title")+"</span>");else for(t=r.length-1;t>=0;t=f(t-o))i=n(r[t]),i.addClass("k-tick-large").html("<span class='k-label'>"+i.attr("title")+"</span>"),t!==0&&t!==r.length-1&&i.css("line-height",i[u._size]()+"px")},_calculateItemsWidth:function(n){var t=this,f=t.options,e=parseFloat(t._trackDiv.css(t._size))+1,s=e/t._distance,o,r,u;for(t._distance/f.smallStep-i.floor(t._distance/f.smallStep)>0&&(e-=t._distance%f.smallStep*s),o=e/n,r=[],u=0;u<n-1;u++)r[u]=o;return r[n-1]=r[n]=o/2,t._roundWidths(r)},_roundWidths:function(n){for(var r=0,u=n.length,t=0;t<u;t++)r+=n[t]-i.floor(n[t]),n[t]=i.floor(n[t]);return r=i.round(r),this._addAdditionalSize(r,n)},_addAdditionalSize:function(n,t){if(n===0)return t;for(var u=parseFloat(t.length-1)/parseFloat(n==1?n:n-1),r=0;r<n;r++)t[parseInt(i.round(u*r),10)]+=1;return t},_calculateSteps:function(n){var t=this,u=t.options,s=u.min,e=0,r=i.ceil(t._distance/u.smallStep),f=1,o;if(r+=t._distance/u.smallStep%1==0?1:0,n.splice(0,0,n[r-2]*2),n.splice(r-1,1,n.pop()*2),t._pixelSteps=[e],t._values=[s],r!==0){while(f<r)e+=(n[f-1]+n[f])/2,t._pixelSteps[f]=e,t._values[f]=s+=u.smallStep,f++;o=t._distance%u.smallStep==0?r-1:r,t._pixelSteps[o]=t._maxSelection,t._values[o]=u.max}},_getValueFromPosition:function(n,t){var r=this,o=r.options,s=i.max(o.smallStep*(r._maxSelection/r._distance),0),e=0,h=s/2,u;if(e=r._isHorizontal?n-t.startPoint:t.startPoint-n,r._maxSelection-(parseInt(r._maxSelection%s,10)-3)/2<e)return o.max;for(u=0;u<r._pixelSteps.length;u++)if(i.abs(r._pixelSteps[u]-e)-1<=h)return f(r._values[u])},_getDragableArea:function(){var n=this,t=n._trackDiv.offset().left,i=n._trackDiv.offset().top;return{startPoint:n._isHorizontal?t:i+n._maxSelection,endPoint:n._isHorizontal?t+n._maxSelection:i}},_createHtml:function(){var i=this,n=i.element,t=i.options,r=n.find("input");r.length==2?(r.eq(0).val(t.selectionStart),r.eq(1).val(t.selectionEnd)):n.val(t.value),n.wrap(ri(t,n,i._isHorizontal)).hide(),t.showButtons&&n.before(pt(t,"increase",i._isHorizontal)).before(pt(t,"decrease",i._isHorizontal)),n.before(gt(n))}}),it=function(n){return{idx:0,x:n.pageX,y:n.pageY}},s,st;ht.pointers&&(it=function(n){return{idx:0,x:n.originalEvent.clientX,y:n.originalEvent.clientY}}),ht.touch&&(it=function(t,i){var r=t.changedTouches||t.originalEvent.changedTouches,u;return i?(u=null,n.each(r,function(n,t){i==t.identifier&&(u={idx:t.identifier,x:t.pageX,y:t.pageY})}),u):{idx:r[0].identifier,x:r[0].pageX,y:r[0].pageY}}),s=g.extend({init:function(i,r){var u=this,f;i.type="text",r=at({},{value:e(i,"value"),min:e(i,"min"),max:e(i,"max"),smallStep:e(i,"step")},r),i=n(i),r&&r.enabled===t&&(r.enabled=!i.is("[disabled]")),g.fn.init.call(u,i,r),r=u.options,ct(r.value)||(r.value=r.min,i.val(r.min)),f=u.wrapper.find(o),new s.Selection(f,u,r),u._drag=new s.Drag(f,"",u,r)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",tooltip:{format:"{0}"}},enable:function(t){var i=this,s=i.options,a,f,e;(i.disable(),t!==!1)&&(i.wrapper.removeClass(ut).addClass(tt),i.wrapper.find("input").removeAttr(v),a=function(t){var r=it(t),f=i._isHorizontal?r.x:r.y,e=i._getDragableArea(),u=n(t.target);if(u.hasClass("k-draghandle")){u.addClass(y);return}i._update(i._getValueFromPosition(f,e)),i._drag.dragstart(t)},i.wrapper.find(l+", "+d).bind(w,a).end().bind(w,function(){n(document.documentElement).one("selectstart",r.preventDefault)}),i.wrapper.find(o).bind(h,function(t){n(t.target).removeClass(y)}).bind(nt,function(n){n.preventDefault()}),f=u(function(n){i._setValueInRange(i._nextValueByIndex(i._valueIndex+n*1))},i),s.showButtons&&(e=u(function(n,t){(n.which===1||ft&&n.which===0)&&(f(t),this.timeout=setTimeout(u(function(){this.timer=setInterval(function(){f(t)},60)},this),200))},i),i.wrapper.find(".k-button").bind(h,u(function(){this._clearTimer()},i)).bind(b,function(t){n(t.currentTarget).addClass("k-state-hover")}).bind("mouseout",u(function(t){n(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()},i)).eq(0).bind(ot,u(function(n){e(n,1)},i)).click(!1).end().eq(1).bind(ot,u(function(n){e(n,-1)},i)).click(!1)),i.wrapper.find(o).bind(c,u(this._keydown,i)),s.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(tt).addClass(ut),n(t.element).attr(v,v),t.wrapper.find(".k-button").unbind(ot).bind(ot,r.preventDefault).unbind(h).bind(h,r.preventDefault).unbind("mouseleave").bind("mouseleave",r.preventDefault).unbind(b).bind(b,r.preventDefault),t.wrapper.find(l+", "+d).unbind(w),t.wrapper.find(o).unbind(h).unbind(c).unbind(nt).bind(c,!1),t.options.enabled=!1},_update:function(n){var t=this,i=t.value()!=n;t.value(n),i&&t.trigger(k,{value:t.options.value})},value:function(n){var i=this,t=i.options;if(n=f(n),isNaN(n))return t.value;n>=t.min&&n<=t.max&&t.value!=n&&(i.element.attr("value",lt(n)),t.value=n,i._refresh())},_refresh:function(){this.trigger(rt,{value:this.options.value})},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(n){var t=this;n.keyCode in t._keyMap&&(t._setValueInRange(t._keyMap[n.keyCode](t.options.value)),n.preventDefault())},_setValueInRange:function(n){var t=this,r=t.options;if(n=f(n),isNaN(n)){t._update(r.min);return}n=i.max(i.min(n,r.max),r.min),t._update(n)},_nextValueByIndex:function(n){var t=this._values.length;return this._values[i.max(0,i.min(n,t-1))]}}),s.Selection=function(n,t,r){function u(u){var o=u-r.min,s=t._valueIndex=i.ceil(f(o/r.smallStep)),e=parseInt(t._pixelSteps[s],10),h=t._trackDiv.find(".k-slider-selection"),c=parseInt(n[t._outerSize]()/2,10);h[t._size](e),n.css(t._position,e-c)}u(r.value),t.bind([k,et,rt],function(n){u(parseFloat(n.value,10))})},s.Drag=function(n,t,i,r){var f=this;f.owner=i,f.options=r,f.dragHandle=n,f.dragHandleSize=n[i._outerSize](),f.type=t,f.draggable=new kt(n,{threshold:0,dragstart:u(f._dragstart,f),drag:u(f.drag,f),dragend:u(f.dragend,f),dragcancel:u(f.dragcancel,f)}),n.click(!1)},s.Drag.prototype={dragstart:function(n){this.draggable.drag._start(n)},_dragstart:function(t){var u=this,f=u.owner,e=u.options,o=e.tooltip,s="",h,c,l;if(!e.enabled){t.preventDefault();return}f.element.unbind(b),u.dragHandle.addClass(y),u.dragableArea=f._getDragableArea(),u.step=i.max(e.smallStep*(f._maxSelection/f._distance),0),u.type?(u.selectionStart=e.selectionStart,u.selectionEnd=e.selectionEnd,f._setZIndex(u.type)):u.oldVal=u.val=e.value,o.enabled&&(o.template&&(h=u.tooltipTemplate=r.template(o.template)),u.tooltipDiv=n("<div class='k-widget k-tooltip'><!-- --></div>").appendTo(document.body),u.type?u.tooltipTemplate?s=h({selectionStart:u.selectionStart,selectionEnd:u.selectionEnd}):(c=a(o.format,u.selectionStart),l=a(o.format,u.selectionEnd),s=c+" - "+l):(u.tooltipInnerDiv="<div class='k-callout k-callout-"+(f._isHorizontal?"s":"e")+"'><!-- --></div>",s=(u.tooltipTemplate?h({value:u.val}):a(o.format,u.val))+u.tooltipInnerDiv),u.tooltipDiv.html(s),u.moveTooltip())},drag:function(n){var t=this,e=t.owner,y=t.options,o=n.x.location,s=n.y.location,h=t.dragableArea.startPoint,i=t.dragableArea.endPoint,r=y.tooltip,u="",c=t.tooltipTemplate,f,l,v;n.preventDefault(),t.val=e._isHorizontal?t.constrainValue(o,h,i,o>=i):t.constrainValue(s,i,h,s<=i),t.oldVal!=t.val&&(t.oldVal=t.val,t.type?(t.type=="firstHandle"?t.selectionStart=t.val<t.selectionEnd?t.val:t.selectionEnd=t.val:t.val>t.selectionStart?t.selectionEnd=t.val:t.selectionStart=t.selectionEnd=t.val,f={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}):f={value:t.val},e.trigger(et,f),r.enabled&&(t.type?t.tooltipTemplate?u=c({selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}):(l=a(r.format,t.selectionStart),v=a(r.format,t.selectionEnd),u=l+" - "+v):u=(t.tooltipTemplate?c({value:t.val}):a(r.format,t.val))+t.tooltipInnerDiv,t.tooltipDiv.html(u),t.moveTooltip()))},dragcancel:function(){return this.owner._refresh(),this._end()},dragend:function(){var n=this,t=n.owner;return n.type?t._update(n.selectionStart,n.selectionEnd):t._update(n.val),n._end()},_end:function(){var n=this,t=n.owner;return t.options.tooltip.enabled&&t.options.enabled&&n.tooltipDiv.remove(),n.dragHandle.removeClass(y),t.element.bind(b),!1},moveTooltip:function(){var n=this,r=n.owner,t=0,i=0,s=n.dragHandle.offset(),h=4,c=n.tooltipDiv.find(".k-callout"),e,u,f;n.type?(e=r.wrapper.find(o),u=e.eq(0).offset(),f=e.eq(1).offset(),r._isHorizontal?(t=f.top,i=u.left+(f.left-u.left)/2):(t=u.top+(f.top-u.top)/2,i=f.left)):(t=s.top,i=s.left),r._isHorizontal?(i-=parseInt((n.tooltipDiv.outerWidth()-n.dragHandle[r._outerSize]())/2,10),t-=n.tooltipDiv.outerHeight()+c.height()+h):(t-=parseInt((n.tooltipDiv.outerHeight()-n.dragHandle[r._outerSize]())/2,10),i-=n.tooltipDiv.outerWidth()+c.width()+h),n.tooltipDiv.css({top:t,left:i})},constrainValue:function(n,t,i,r){var u=this;return t<n&&n<i?u.owner._getValueFromPosition(n,u.dragableArea):r?u.options.max:u.options.min}},r.ui.plugin(s),st=g.extend({init:function(i,r){var u=this,f=n(i).find("input"),h=f.eq(0)[0],c=f.eq(1)[0],l;h.type="text",c.type="text",r=at({},{selectionStart:e(h,"value"),min:e(h,"min"),max:e(h,"max"),smallStep:e(h,"step")},{selectionEnd:e(c,"value"),min:e(c,"min"),max:e(c,"max"),smallStep:e(c,"step")},r),r&&r.enabled===t&&(r.enabled=!f.is("[disabled]")),g.fn.init.call(u,i,r),r=u.options,ct(r.selectionStart)||(r.selectionStart=r.min,f.eq(0).val(r.min)),ct(r.selectionEnd)||(r.selectionEnd=r.max,f.eq(1).val(r.max)),l=u.wrapper.find(o),new st.Selection(l,u,r),u._firstHandleDrag=new s.Drag(l.eq(0),"firstHandle",u,r),u._lastHandleDrag=new s.Drag(l.eq(1),"lastHandle",u,r)},options:{name:"RangeSlider",tooltip:{format:"{0}"}},enable:function(t){var i=this,f=i.options,e;(i.disable(),t!==!1)&&(i.wrapper.removeClass(ut).addClass(tt),i.wrapper.find("input").removeAttr(v),e=function(t){var u=it(t),o=i._isHorizontal?u.x:u.y,s=i._getDragableArea(),r=i._getValueFromPosition(o,s),e=n(t.target);if(e.hasClass("k-draghandle")){e.addClass(y);return}r<f.selectionStart?(i._setValueInRange(r,f.selectionEnd),i._firstHandleDrag.dragstart(t)):r>i.selectionEnd?(i._setValueInRange(f.selectionStart,r),i._lastHandleDrag.dragstart(t)):r-f.selectionStart<=f.selectionEnd-r?(i._setValueInRange(r,f.selectionEnd),i._firstHandleDrag.dragstart(t)):(i._setValueInRange(f.selectionStart,r),i._lastHandleDrag.dragstart(t))},i.wrapper.find(l+", "+d).bind(w,e).end().bind(w,function(){n(document.documentElement).one("selectstart",r.preventDefault)}),i.wrapper.find(o).bind(h,function(t){n(t.target).removeClass(y)}).bind(nt,function(n){n.preventDefault()}),i.wrapper.find(o).eq(0).bind(c,u(function(n){this._keydown(n,"firstHandle")},i)).end().eq(1).bind(c,u(function(n){this._keydown(n,"lastHandle")},i)),i.options.enabled=!0)},disable:function(){var n=this;n.wrapper.removeClass(tt).addClass(ut),n.wrapper.find("input").attr(v,v),n.wrapper.find(l+", "+d).unbind(w),n.wrapper.find(o).unbind(h).unbind(c).unbind(nt).bind(c,r.preventDefault),n.options.enabled=!1},_keydown:function(n,t){var u=this,i=u.options.selectionStart,r=u.options.selectionEnd;n.keyCode in u._keyMap&&(t=="firstHandle"?(i=u._keyMap[n.keyCode](i),i>r&&(r=i)):(r=u._keyMap[n.keyCode](r),i>r&&(i=r)),u._setValueInRange(i,r),n.preventDefault())},_update:function(n,t){var i=this,r=i.value(),u=r[0]!=n||r[1]!=t;i.value([n,t]),u&&i.trigger(k,{values:[n,t],value:[n,t]})},value:function(n){return n&&n.length?this._value(n[0],n[1]):this._value()},_value:function(n,t){var r=this,i=r.options,u=i.selectionStart,e=i.selectionEnd;if(isNaN(n)&&isNaN(t))return[u,e];n=f(n),t=f(t),n>=i.min&&n<=i.max&&t>=i.min&&t<=i.max&&n<=t&&(u!=n||e!=t)&&(r.element.find("input").eq(0).attr("value",lt(n)).end().eq(1).attr("value",lt(t)),i.selectionStart=n,i.selectionEnd=t,r._refresh())},values:function(n,t){return wt(n)?this._value(n[0],n[1]):this._value(n,t)},_refresh:function(){var t=this,n=t.options;t.trigger(rt,{values:[n.selectionStart,n.selectionEnd],value:[n.selectionStart,n.selectionEnd]}),n.selectionStart==n.max&&n.selectionEnd==n.max&&t._setZIndex("firstHandle")},_setValueInRange:function(n,t){var r=this.options;n=i.max(i.min(n,r.max),r.min),t=i.max(i.min(t,r.max),r.min),n==r.max&&t==r.max&&this._setZIndex("firstHandle"),this._update(i.min(n,t),i.max(n,t))},_setZIndex:function(t){this.wrapper.find(o).each(function(i){n(this).css("z-index",t=="firstHandle"?1-i:i)})}}),st.Selection=function(n,t,r){function u(u){u=u||[];var c=u[0]-r.min,l=u[1]-r.min,a=i.ceil(f(c/r.smallStep)),v=i.ceil(f(l/r.smallStep)),o=t._pixelSteps[a],s=t._pixelSteps[v],h=parseInt(n.eq(0)[t._outerSize]()/2,10);n.eq(0).css(t._position,o-h).end().eq(1).css(t._position,s-h),e(o,s)}function e(n,r){var u=0,f=0,e=t._trackDiv.find(".k-slider-selection");u=i.abs(n-r),f=n<r?n:r,e[t._size](u),e.css(t._position,f-1)}u(t.value()),t.bind([k,et,rt],function(n){u(n.values)})},r.ui.plugin(st)}(jQuery),function(n,t){function a(n){return ft.test(n)}function p(n){return et.test(n)}function f(n){return!a(n)&&!p(n)}function l(t,u){return function(f,e){var o=n(f).data(i),s;if(arguments.length==1)return o[t];o[t]=e,u&&(s=this.element.data("kendoSplitter"),s.trigger(r))}}function nt(n){var t=this,i=n.orientation;t.owner=n,t._element=n.element,t.orientation=i,st(t,i===o?ut:it),t._resizable=new c.ui.Resizable(n.element,{orientation:i,handle:n.element.children(".k-splitbar-draggable-"+i),hint:u(t._createHint,t),start:u(t._start,t),max:u(t._max,t),min:u(t._min,t),invalidClass:"k-restricted-size-"+i,resizeend:u(t._stop,t)})}var c=window.kendo,d=c.ui,st=n.extend,u=n.proxy,rt=d.Widget,et=/^\d+(\.\d+)?px$/i,ft=/^\d+(\.\d+)?%$/i,h="expand",s="collapse",tt="contentLoad",r="resize",g="layoutChange",o="horizontal",k="vertical",b="mouseenter",w="click",i="pane",y="mouseleave",v="k-"+i,e="."+v,ot=rt.extend({init:function(t,i){var f=this,e=function(){f.trigger(r)};rt.fn.init.call(f,t,i),f.wrapper=f.element,f.orientation=f.options.orientation.toLowerCase()!=k?o:k,f.bind(r,u(f._resize,f)),f._initPanes(),f._attachEvents(),n(window).resize(e),f.resizing=new nt(f),f.element.triggerHandler("init.kendoSplitter")},events:[h,s,tt,r,g],_attachEvents:function(){var t=this,o=t.options.orientation,i=".k-splitbar-draggable-"+o,e=".k-splitbar .k-icon:not(.k-resize-handle)",f=function(){t.trigger(r)};t.element.delegate(i,b,function(){n(this).addClass("k-splitbar-"+t.orientation+"-hover")}).delegate(i,y,function(){n(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).delegate(i,"mousedown",function(){t._contentFrames(this).after("<div class='k-overlay' />")}).delegate(i,"mouseup",function(){t._contentFrames(this).next(".k-overlay").remove()}).delegate(e,b,function(){n(this).addClass("k-state-hover")}).delegate(e,y,function(){n(this).removeClass("k-state-hover")}).delegate(".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",w,t._arrowClick(s)).delegate(".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",w,t._arrowClick(h)).delegate(".k-splitbar","dblclick",u(t._dbclick,t)).parent().closest(".k-splitter").each(function(){var t=n(this),i=t.data("kendoSplitter");if(i)i.bind(r,f);else t.one("init.kendoSplitter",function(){n(this).data("kendoSplitter").bind(r,f),f()})})},options:{name:"Splitter",orientation:o},_initPanes:function(){var t=this,u=t.options.panes||[];t.element.addClass("k-widget").addClass("k-splitter").children().addClass(v).each(function(r,f){var e=u&&u[r];f=n(f),f.data(i,e?e:{}).toggleClass("k-scrollable",e?e.scrollable!==!1:!0),t.ajaxRequest(f)}).end(),t.trigger(r)},ajaxRequest:function(t,r,u){t=n(t);var f=this,e=t.data(i);r=r||e.contentUrl,r&&(t.append("<span class='k-icon k-loading k-pane-loading' />"),c.isLocalUrl(r)?n.ajax({url:r,data:u||{},type:"GET",dataType:"html",success:function(n){t.html(n),f.trigger(tt,{pane:t[0]})}}):t.removeClass("k-scrollable").html("<iframe src='"+r+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(n,t){this.trigger(n,{pane:t[0]})||this[n](t[0])},_dbclick:function(t){var u=this,i=n(t.target),r;i.closest(".k-splitter")[0]==u.element[0]&&(r=i.children(".k-icon:not(.k-resize-handle)"),r.length===1)&&(r.is(".k-collapse-prev")?u._triggerAction(s,i.prev()):r.is(".k-collapse-next")?u._triggerAction(s,i.next()):r.is(".k-expand-prev")?u._triggerAction(h,i.prev()):r.is(".k-expand-next")&&u._triggerAction(h,i.next()))},_arrowClick:function(t){var i=this;return function(r){var u=n(r.target),f;u.closest(".k-splitter")[0]==i.element[0]&&(f=u.is(".k-"+t+"-prev")?u.parent().prev():u.parent().next(),i._triggerAction(t,f))}},_updateSplitBar:function(n,t,i){var r=function(n,t){return t?"<div class='k-icon "+n+"' />":""},e=this.orientation,o=t.resizable!==!1&&i.resizable!==!1,s=t.collapsible,u=t.collapsed,h=i.collapsible,f=i.collapsed;n.addClass("k-splitbar k-state-default k-splitbar-"+e).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,o&&!u&&!f).toggleClass("k-splitbar-static-"+e,!o&&!s&&!h).html(r("k-collapse-prev",s&&!u&&!f)+r("k-expand-prev",s&&u&&!f)+r("k-resize-handle",o)+r("k-collapse-next",h&&!f&&!u)+r("k-expand-next",h&&f&&!u))},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var r=n(this),f=r.prev(e).data(i),u=r.next(e).data(i);u&&t._updateSplitBar(r,f,u)})},_contentFrames:function(t){return n(t).siblings(e).find("> .k-content-frame")},_resize:function(){var s=this,r=s.element,c=r.children(":not(.k-splitbar)"),h=s.orientation==o,w=r.children(".k-splitbar"),v=w.length,e=h?"width":"height",u=r[e](),t,y,p;v===0?(v=c.length-1,c.slice(0,v).after("<div class='k-splitbar' />"),s._updateSplitBars(),w=r.children(".k-splitbar")):s._updateSplitBars(),w.each(function(){u-=this[h?"offsetWidth":"offsetHeight"]});var b=0,it=0,l=n();c.css({position:"absolute",top:0})[e](function(){var r=n(this).data(i)||{},t;if(r.collapsed)t=0,n(this).css("overflow","hidden");else{if(f(r.size)){l=l.add(this);return}t=parseInt(r.size,10),a(r.size)&&(t=Math.floor(t*u/100))}return it++,b+=t,t}),u-=b,t=l.length,y=Math.floor(u/t),l.slice(0,t-1).css(e,y).end().eq(t-1).css(e,u-(t-1)*y);var k=0,d=h?"height":"width",tt=h?"left":"top",nt=h?"offsetWidth":"offsetHeight";t===0&&(p=c.filter(function(){return!(n(this).data(i)||{}).collapsed}).last(),p[e](u+p[0][nt])),r.children().css(d,r[d]()).each(function(n,t){t.style[tt]=Math.floor(k)+"px",k+=t[nt]}),s.trigger(g)},toggle:function(u,f){var e;u=n(u),e=u.data(i),arguments.length==1&&(f=e.collapsed===t?!1:e.collapsed),e.collapsed=!f,e.collapsed?u.css("overflow","hidden"):u.css("overflow",""),this.trigger(r)},collapse:function(n){this.toggle(n,!1)},expand:function(n){this.toggle(n,!0)},size:l("size",!0),min:l("min"),max:l("max")}),it,ut;d.plugin(ot),it={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},ut={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},nt.prototype={_createHint:function(t){var i=this;return n("<div class='k-ghost-splitbar k-ghost-splitbar-"+i.orientation+" k-state-default' />").css(i.alternateSizingProperty,t[i.alternateSizingProperty]())},_start:function(t){var r=this,s=n(t.currentTarget),h=s.prev(),u=s.next(),c=h.data(i),l=u.data(i),f=parseInt(h[0].style[r.positioningProperty],10),e=parseInt(u[0].style[r.positioningProperty],10)+u[0][r.sizingDomProperty]-s[0][r.sizingDomProperty],a=r._element.css(r.sizingProperty),o=function(n){var t=parseInt(n,10);return(p(n)?t:a*t/100)||0},v=o(c.min),y=o(c.max)||e-f,w=o(l.min),b=o(l.max)||e-f;r.previousPane=h,r.nextPane=u,r._maxPosition=Math.min(e-w,f+y),r._minPosition=Math.max(f+v,e-b)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var u=this,o=n(t.currentTarget),a=u.owner;if(a._contentFrames(o).next(".k-overlay").remove(),t.keyCode!==c.keys.ESC){var v=t.position,y=o.prev(),s=o.next(),h=y.data(i),p=s.data(i),w=v-parseInt(y[0].style[u.positioningProperty],10),b=parseInt(s[0].style[u.positioningProperty],10)+s[0][u.sizingDomProperty]-v-o[0][u.sizingDomProperty],l=u._element.children(e).filter(function(){return f(n(this).data(i).size)}).length;(!f(h.size)||l>1)&&(f(h.size)&&l--,h.size=w+"px"),(!f(p.size)||l>1)&&(p.size=b+"px"),a.trigger(r)}return!1}}}(jQuery),function(n,t){function ut(t){return n.map(u(t),function(n){return n.name}).join(", ")}function u(n){var t=n[0];return t.files?p(t.files):[{name:st(t.value),extension:tt(t.value),size:null}]}function p(t){return n.map(t,function(n){return ht(n)})}function ht(n){var t=n.name||n.fileName;return{name:t,extension:tt(t),size:n.size||n.fileSize,rawFile:n}}function tt(n){var t=n.match(ot);return t?t[0]:""}function st(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n}function nt(t,i,r){if(i._supportsRemove()){var u=t.data("fileNames"),f=n.map(u,function(n){return n.name});i._submitRemove(f,r,function(n,r,f){i._removeFileEntry(t),i.trigger(s,{operation:"remove",files:u,response:n,XMLHttpRequest:f})},function(n){var t=i.trigger(e,{operation:"remove",files:u,XMLHttpRequest:n});d("Server response: "+n.responseText)})}}function g(t,i,r){var u=!1,f="";try{f=n.parseJSON(t),u=!0}catch(e){r()}u&&i(f)}function k(n){n.stopPropagation(),n.preventDefault()}function b(n,t,i){var r,u;n.bind("dragenter",function(){t(),u=new Date,r||(r=setInterval(function(){var n=new Date-u;n>100&&(i(),clearInterval(r),r=null)},100))}).bind("dragover",function(){u=new Date})}function et(n){return n.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function i(t){return n(t.target).closest(".k-file")}function v(){var i={},r=n("meta[name=csrf-token]").attr("content"),u=n("meta[name=csrf-param]").attr("content");return n("input[name^='__RequestVerificationToken']").each(function(){i[this.name]=this.value}),u!==t&&r!==t&&(i[u]=r),i}var y=window.kendo,l=y.ui.Widget,d=y.logToConsole,ot=/\.([^\.]+)$/,c="select",h="upload",s="success",e="error",it="complete",f="cancel",rt="progress",r="remove",o=l.extend({init:function(i,r){var u=this,f;l.fn.init.call(u,i,r),u.name=i.name,u.multiple=u.options.multiple,u.localization=u.options.localization,f=u.element,u.wrapper=f.closest(".k-upload"),u.wrapper.length==0&&(u.wrapper=u._wrapInput(f)),u._activeInput(f),u.toggle(u.options.enabled),f.closest("form").bind({submit:n.proxy(u._onParentFormSubmit,u),reset:n.proxy(u._onParentFormReset,u)}),u.options.async.saveUrl!=t?(u._module=u._supportsFormData()?new w(u):new a(u),u._async=!0):u._module=new ft(u),u._supportsDrop()&&u._setupDropZone(),u.wrapper.delegate(".k-upload-action","click",n.proxy(u._onFileAction,u)).delegate(".k-upload-selected","click",n.proxy(u._onUploadSelected,u)).delegate(".k-file","t:progress",n.proxy(u._onFileProgress,u)).delegate(".k-file","t:upload-success",n.proxy(u._onUploadSuccess,u)).delegate(".k-file","t:upload-error",n.proxy(u._onUploadError,u))},events:[c,h,s,e,it,f,rt,r],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(n){var t=this,i=t.element;l.fn.setOptions.call(t,n),t.multiple=t.options.multiple,i.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(n){n=typeof n=="undefined"?!0:n,this.toggle(n)},disable:function(){this.toggle(!1)},toggle:function(n){n=typeof n=="undefined"?n:!n,this.wrapper.toggleClass("k-state-disabled",n)},_addInput:function(t){var i=this;t.insertAfter(i.element).data("kendoUpload",i),n(i.element).hide().removeAttr("id"),i._activeInput(t)},_activeInput:function(t){var i=this,r=i.wrapper;i.element=t,t.attr("multiple",i._supportsMultiple()?i.multiple:!1).attr("autocomplete","off").click(function(n){r.hasClass("k-state-disabled")&&n.preventDefault()}).change(n.proxy(i._onInputChange,i))},_onInputChange:function(t){var r=this,i=n(t.target),f=r.trigger(c,{files:u(i)});f?(r._addInput(i.clone().val("")),i.remove()):i.trigger("t:select")},_onDrop:function(t){var f=t.originalEvent.dataTransfer,r=this,i=f.files,u;k(t),i.length>0&&(u=r.trigger(c,{files:p(i)}),u||n(".k-dropzone",r.wrapper).trigger("t:select",[i]))},_enqueueFile:function(t,i){var r=this,e,f,u=n(".k-upload-files",r.wrapper);return u.length==0&&(u=n("<ul class='k-upload-files k-reset'></ul>").appendTo(r.wrapper),r.options.showFileList||u.hide()),e=n(".k-file",u),f=n("<li class='k-file'><span class='k-filename' title='"+t+"'>"+t+"</span></li>").appendTo(u).data(i),r._async&&f.prepend("<span class='k-icon'></span>"),r.multiple||e.trigger("t:remove"),f},_removeFileEntry:function(t){var r=t.closest(".k-upload-files"),i;t.remove(),i=n(".k-file",r),i.find("> .k-fail").length===i.length&&this._hideUploadButton(),i.length==0&&r.remove()},_fileAction:function(n,t){var i={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};i.hasOwnProperty(t)&&(this._clearFileAction(n),n.append(this._renderAction(i[t],this.localization[t]).addClass("k-upload-action")))},_fileState:function(n,t){var i=this.localization,f={uploading:{cssClass:"k-loading",text:i.statusUploading},uploaded:{cssClass:"k-success",text:i.statusUploaded},failed:{cssClass:"k-fail",text:i.statusFailed}},r=f[t],u;r&&(u=n.children(".k-icon").text(r.text),u[0].className="k-icon "+r.cssClass)},_renderAction:function(t,i){return t!=""?n("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+t+"'></span>"+i+"</button>"):n("<button type='button' class='k-button'>"+i+"</button>")},_clearFileAction:function(n){n.find(".k-upload-action").remove()},_onFileAction:function(t){var u=this;if(!u.wrapper.hasClass("k-state-disabled")){var s=n(t.target).closest(".k-upload-action"),e=s.find(".k-icon"),i=s.closest(".k-file"),o={files:i.data("fileNames")};e.hasClass("k-delete")?u.trigger(r,o)||i.trigger("t:remove",o.data):e.hasClass("k-cancel")?(u.trigger(f,o),i.trigger("t:cancel"),this._checkAllComplete()):e.hasClass("k-retry")&&i.trigger("t:retry")}return!1},_onUploadSelected:function(){return this.wrapper.trigger("t:saveSelected"),!1},_onFileProgress:function(t,r){var u=n(".k-progress-status",t.target);u.length==0&&(u=n("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(n(".k-filename",t.target)).find(".k-progress-status")),u.width(r+"%"),this.trigger(rt,{files:i(t).data("fileNames"),percentComplete:r})},_onUploadSuccess:function(n,t,u){var f=i(n);this._fileState(f,"uploaded"),this.trigger(s,{files:f.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:u}),this._supportsRemove()?this._fileAction(f,r):this._clearFileAction(f),this._checkAllComplete()},_onUploadError:function(n,t){var r=i(n),u;this._fileState(r,"failed"),this._fileAction(r,"retry"),u=this.trigger(e,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:t}),d("Server response: "+t.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=n(".k-upload-selected",this.wrapper);t.length==0&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){n(".k-upload-selected",this.wrapper).remove()},_onParentFormSubmit:function(){var r=this,t=r.element,i;t.trigger("t:abort"),t.value||(i=n(t),i.attr("disabled","disabled"),window.setTimeout(function(){i.removeAttr("disabled")},0))},_onParentFormReset:function(){n(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){return!n.browser.opera},_supportsDrop:function(){var n=this._userAgent().toLowerCase(),i=/chrome/.test(n),r=!i&&/safari/.test(n),u=r&&/windows/.test(n);return!u&&this._supportsFormData()&&this.options.async.saveUrl!=t},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){n(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var t=n(".k-dropzone",this.wrapper).append(n("<em>"+this.localization.dropFilesHere+"</em>")).bind({dragenter:k,dragover:function(n){n.preventDefault()},drop:n.proxy(this._onDrop,this)});b(t,function(){t.addClass("k-dropzone-hovered")},function(){t.removeClass("k-dropzone-hovered")}),b(n(document),function(){t.addClass("k-dropzone-active")},function(){t.removeClass("k-dropzone-active")})},_supportsRemove:function(){return this.options.async.removeUrl!=t},_submitRemove:function(t,i,r,u){var e=this,o=e.options.async.removeField||"fileNames",f=n.extend(i,v());f[o]=t,n.ajax({type:this.options.async.removeVerb,dataType:"json",url:this.options.async.removeUrl,traditional:!0,data:f,success:r,error:u})},_wrapInput:function(n){return n.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>"),n.closest(".k-button").append("<span>"+this.localization.select+"</span>"),n.closest(".k-upload")},_checkAllComplete:function(){n(".k-file .k-icon.k-loading",this.wrapper).length==0&&this.trigger(it)}}),ft=function(t){this.name="syncUploadModule",this.element=t.wrapper,this.upload=t,this.element.bind("t:select",n.proxy(this.onSelect,this)).bind("t:remove",n.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},a,w;ft.prototype={onSelect:function(t){var f=this.upload,i=n(t.target),e;f._addInput(i.clone().val("")),e=f._enqueueFile(ut(i),{relatedInput:i,fileNames:u(i)}),f._fileAction(e,r)},onRemove:function(n){var t=i(n);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}},a=function(t){this.name="iframeUploadModule",this.element=t.wrapper,this.upload=t,this.iframes=[],this.element.bind("t:select",n.proxy(this.onSelect,this)).bind("t:cancel",n.proxy(this.onCancel,this)).bind("t:retry",n.proxy(this.onRetry,this)).bind("t:remove",n.proxy(this.onRemove,this)).bind("t:saveSelected",n.proxy(this.onSaveSelected,this)).bind("t:abort",n.proxy(this.onAbort,this))},o._frameId=0,a.prototype={onSelect:function(t){var i=this.upload,f=n(t.target),u=this.prepareUpload(f);i.options.async.autoUpload?this.performUpload(u):(i._supportsRemove()&&this.upload._fileAction(u,r),i._showUploadButton())},prepareUpload:function(t){var i=this.upload,e=n(i.element),h=i.options.async.saveField||t.attr("name"),r,s,f;return i._addInput(t.clone().val("")),t.attr("name",h),r=this.createFrame(i.name+"_"+o._frameId++),this.registerFrame(r),s=this.createForm(i.options.async.saveUrl,r.attr("name")).append(e),f=i._enqueueFile(ut(t),{frame:r,relatedInput:e,fileNames:u(t)}),r.data({form:s,file:f}),f},performUpload:function(t){var r={files:t.data("fileNames")},i=t.data("frame"),u=this.upload,e,o,s;if(u.trigger(h,r))u._removeFileEntry(i.data("file")),this.cleanupFrame(i),this.unregisterFrame(i);else{u._hideUploadButton(),i.appendTo(document.body),e=i.data("form").appendTo(document.body),r.data=n.extend({},r.data,v());for(o in r.data)s=e.find("input[name='"+o+"']"),s.length==0&&(s=n("<input>",{type:"hidden",name:o}).appendTo(e)),s.val(r.data[o]);u._fileAction(t,f),u._fileState(t,"uploading");i.one("load",n.proxy(this.onIframeLoad,this));e[0].submit()}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=et(i);r||t.performUpload(i)})},onIframeLoad:function(t){var r=n(t.target),i;try{i=r.contents().text()}catch(t){i="Error trying to get server response: "+t}this.processResponse(r,i)},processResponse:function(t,i){var u=t.data("file"),f=this,r={responseText:i};g(i,function(i){n.extend(r,{statusText:"OK",status:"200"}),u.trigger("t:progress",[100]),u.trigger("t:upload-success",[i,r]),f.cleanupFrame(t),f.unregisterFrame(t)},function(){n.extend(r,{statusText:"error",status:"500"}),u.trigger("t:upload-error",[r])})},onCancel:function(t){var i=n(t.target).data("frame");this.stopFrameSubmit(i),this.cleanupFrame(i),this.unregisterFrame(i),this.upload._removeFileEntry(i.data("file"))},onRetry:function(n){var t=i(n);this.performUpload(t)},onRemove:function(n,t){var r=i(n),u=r.data("frame");u?(this.unregisterFrame(u),this.upload._removeFileEntry(r),this.cleanupFrame(u)):nt(r,this.upload,t)},onAbort:function(){var t=this.element,i=this;n.each(this.iframes,function(){n("input",this.data("form")).appendTo(t),i.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return n("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,i){return n("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+i+"'/>")},stopFrameSubmit:function(n){typeof n.stop!="undefined"?n.stop():n.document&&(n.document.execCommand("Stop"),n.contentWindow.location.href=n.contentWindow.location.href)},registerFrame:function(n){this.iframes.push(n)},unregisterFrame:function(t){this.iframes=n.grep(this.iframes,function(n){return n.attr("name")!=t.attr("name")})},cleanupFrame:function(n){var t=n.data("form");n.data("file").data("frame",null),setTimeout(function(){t.remove(),n.remove()},1)}},w=function(t){this.name="formDataUploadModule",this.element=t.wrapper,this.upload=t,this.element.bind("t:select",n.proxy(this.onSelect,this)).bind("t:cancel",n.proxy(this.onCancel,this)).bind("t:remove",n.proxy(this.onRemove,this)).bind("t:retry",n.proxy(this.onRetry,this)).bind("t:saveSelected",n.proxy(this.onSaveSelected,this)).bind("t:abort",n.proxy(this.onAbort,this))},w.prototype={onSelect:function(t,i){var u=this.upload,e=this,f=n(t.target),o=i?p(i):this.inputFiles(f),s=this.prepareUpload(f,o);n.each(s,function(){u.options.async.autoUpload?e.performUpload(this):(u._supportsRemove()&&u._fileAction(this,r),u._showUploadButton())})},prepareUpload:function(t,i){var r=this.enqueueFiles(i);return t.is("input")&&(n.each(r,function(){n(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t.clone().val(""))),r},enqueueFiles:function(n){var u=this.upload,t;for(fileEntries=[],t=0;t<n.length;t++){var i=n[t],f=i.name,r=u._enqueueFile(f,{fileNames:[i]});r.data("file",i),fileEntries.push(r)}return fileEntries},inputFiles:function(n){return u(n)},performUpload:function(t){var r=this.upload,e=this.createFormData(t.data("file")),i={files:t.data("fileNames")},u;if(r.trigger(h,i))this.removeFileEntry(t);else{r._fileAction(t,f),r._hideUploadButton(),i.data=n.extend({},i.data,v());for(u in i.data)e.append(u,i.data[u]);r._fileState(t,"uploading"),this.postFormData(this.upload.options.async.saveUrl,e,t)}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=et(i);r||t.performUpload(i)})},onCancel:function(n){var t=i(n);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(n){var t=i(n);this.performUpload(t)},onRemove:function(n,t){var r=i(n);r.children(".k-icon").is(".k-success")?nt(r,this.upload,t):this.removeFileEntry(r)},postFormData:function(n,t,i){var r=new XMLHttpRequest,u=this;i.data("request",r),r.addEventListener("load",function(n){u.onRequestSuccess.call(u,n,i)},!1),r.addEventListener(e,function(n){u.onRequestError.call(u,n,i)},!1),r.upload.addEventListener("progress",function(n){u.onRequestProgress.call(u,n,i)},!1),r.open("POST",n),r.withCredentials="true",r.send(t)},createFormData:function(n){var t=new FormData,i=this.upload;return t.append(i.options.async.saveField||i.name,n.rawFile),t},onRequestSuccess:function(n,t){function r(){t.trigger("t:upload-error",[i])}var i=n.target,u=this;i.status>=200&&i.status<=299?g(i.responseText,function(n){t.trigger("t:progress",[100]),t.trigger("t:upload-success",[n,i]),u.cleanupFileEntry(t)},r):r()},onRequestError:function(n,t){var i=n.target;t.trigger("t:upload-error",[i])},cleanupFileEntry:function(t){var i=t.data("relatedInput"),r=!0;i&&(n.each(i.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.children(".k-icon").is(".k-success"))}),r&&i.remove())},removeFileEntry:function(n){this.cleanupFileEntry(n),this.upload._removeFileEntry(n)},onRequestProgress:function(n,t){var i=Math.round(n.loaded*100/n.total);t.trigger("t:progress",[i])},stopUploadRequest:function(n){n.data("request").abort()}},y.ui.plugin(o)}(jQuery),function(n,t){function p(n,t,i){return Math.max(Math.min(n,i),t)}function d(n){return n.children(y).data("kendoWindow")}function yt(){return n(v).filter(function(){var t=n(this);return t.is(c)&&d(t).options.modal}).sort(function(t,i){return+n(t).css("zIndex")-+n(i).css("zIndex")})}function pt(n,t){return function(){var n=this,r=n.wrapper,u=r[0].style,f=n.options;if(!f.isMaximized&&!f.isMinimized)return n.restoreOptions={width:u.width,height:u.height},r.find(s).hide().end().find(st).parent().hide().eq(0).before(i.action({name:"Restore"})),t.call(n),n}}function wt(n){var t=this;t.owner=n,t._draggable=new kt(n.wrapper,{filter:s,group:n.wrapper.id+"-resizing",dragstart:r(t.dragstart,t),drag:r(t.drag,t),dragend:r(t.dragend,t)})}function at(n){var t=this;t.owner=n,t._draggable=new kt(n.wrapper,{filter:rt,group:n.wrapper.id+"-moving",dragstart:r(t.dragstart,t),drag:r(t.drag,t),dragend:r(t.dragend,t),dragcancel:r(t.dragcancel,t)})}var o=window.kendo,tt=o.ui.Widget,kt=o.ui.Draggable,bt=n.isPlainObject,r=n.proxy,h=n.extend,ut=n.each,e=o.template,a="body",i,v=".k-window",rt=".k-window-titlebar",y=".k-window-content",s=".k-resize-handle",nt=".k-overlay",g="k-content-frame",vt="k-loading",lt="k-state-hover",c=":visible",w="hidden",f="cursor",k="open",it="activate",dt="deactivate",ct="close",ft="refresh",b="resize",ht="dragstart",et="dragend",ot="error",u="overflow",l="zIndex",st=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",gt=o.isLocalUrl,ni=tt.extend({init:function(t,u){var f=this,e,h,l,a,y=!1,s;tt.fn.init.call(f,t,u),u=f.options,t=f.element,s=u.content,f.appendTo=n(u.appendTo||document.body),f._animations(),bt(s)||(s=u.content={url:s}),t.parent().is(f.appendTo)||(t.is(c)?(h=t.offset(),y=!0):(l=t.css("visibility"),a=t.css("display"),t.css({visibility:w,display:""}),h=t.offset(),t.css({visibility:l,display:a}))),typeof u.visible=="undefined"&&(u.visible=t.is(c)),e=f.wrapper=t.closest(v),t.is(".k-content")&&e[0]||(t.addClass("k-window-content k-content"),f._createWindow(t,u),e=f.wrapper=t.closest(v),f._dimensions()),h&&e.css({top:h.top,left:h.left}),s&&f.refresh(s),f.toFront(),u.visible&&u.modal&&f._overlay(e.is(c)).css({opacity:.5});e.on({mouseenter:function(){n(this).addClass(lt)},mouseleave:function(){n(this).removeClass(lt)},click:r(f._windowActionHandler,f)},".k-window-titlebar .k-window-action");if(u.resizable){e.on("dblclick",rt,r(f.toggleMaximization,f));ut("n e s w se sw ne nw".split(" "),function(n,t){e.append(i.resizeHandle(t))}),f.resizing=new wt(f)}u.draggable&&(f.dragging=new at(f));e.add(e.find(".k-resize-handle,.k-window-titlebar")).on("mousedown",r(f.toFront,f));f.touchScroller=o.touchScroller(t),n(window).resize(r(f._onDocumentResize,f)),u.visible&&(f.trigger(k),f.trigger(it)),o.notify(f)},_dimensions:function(){var t=this,i=t.wrapper,r=t.element,n=t.options;t.title(n.title),n.width&&i.width(n.width),n.height&&i.height(n.height),ut(["minWidth","minHeight","maxWidth","maxHeight"],function(t,i){var u=n[i];u&&u!=Infinity&&r.css(i,u)}),n.visible||i.hide()},_animations:function(){var n=this.options;n.animation===!1&&(n.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(n){tt.fn.setOptions.call(this,n),this._animations(),this._dimensions()},events:[k,it,dt,ct,ft,b,ht,et,ot],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350,show:!0},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity},_overlay:function(t){var i=this.appendTo.children(".k-overlay"),r=this.wrapper;return i.length||(i=n("<div class='k-overlay' />")),i.insertBefore(r[0]).toggle(t).css(l,parseInt(r.css(l),10)-1),i},_windowActionHandler:function(t){var r=n(t.target).closest(".k-window-action").find(".k-icon"),i=this;ut({"k-i-close":i.close,"k-i-maximize":i.maximize,"k-i-minimize":i.minimize,"k-i-restore":i.restore,"k-i-refresh":i.refresh},function(n,u){if(r.hasClass(n))return t.preventDefault(),u.call(i),!1})},center:function(){var i=this.wrapper,t=n(window);return i.css({left:t.scrollLeft()+Math.max(0,(t.width()-i.width())/2),top:t.scrollTop()+Math.max(0,(t.height()-i.height())/2)}),this},title:function(n){var u=this,r=u.wrapper,o=u.options,t=r.find(rt),f=t.children(".k-window-title"),e=t.outerHeight();return arguments.length?(n===!1?(r.addClass("k-window-titleless"),t.remove()):(t.length||r.prepend(i.titlebar(h(i,o))),r.css("padding-top",e),t.css("margin-top",-e)),f.text(n),u):f.text()},content:function(n){var t=this.wrapper.children(y);return n?(t.html(n),this):t.html()},open:function(){var t=this,f=t.wrapper,i=t.options,r=i.animation.open,e=f.children(y),s=e.css(u),o;return t.trigger(k)||(t.toFront(),i.visible=!0,i.modal&&(o=t._overlay(!1),r.duration?o.kendoStop().kendoAnimate({effects:{fade:{direction:"out",properties:{opacity:.5}}},duration:r.duration,show:!0}):o.css("opacity",.5).show()),f.is(c)||(e.css(u,w),f.show().kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:function(){t.trigger(it),e.css(u,s)}}))),i.isMaximized&&(t._documentScrollTop=n(document).scrollTop(),n("html, body").css(u,w)),t},close:function(){var i=this,o=i.wrapper,r=i.options,l=r.animation.open,f=r.animation.close,e,h,s;return o.is(c)&&!i.trigger(ct)&&(r.visible=!1,e=yt(),h=r.modal&&e.length==1,s=r.modal?i._overlay(!0):n(t),h?f.duration?s.kendoStop().kendoAnimate({effects:{fadeOut:{properties:{opacity:0}}},duration:f.duration,hide:!0}):s.hide():e.length&&d(e.eq(e.length-2))._overlay(!0),o.kendoStop().kendoAnimate({effects:f.effects||l.effects,reverse:f.reverse===!0,duration:f.duration,complete:function(){o.hide(),i.trigger(dt)}})),i.options.isMaximized&&(n("html, body").css(u,""),this._documentScrollTop&&this._documentScrollTop>0&&n(document).scrollTop(this._documentScrollTop)),i},toFront:function(){var r=this,u=r.wrapper,f=u[0],t=+u.css(l),e=t;return n(v).each(function(r,u){var e=n(u),o=e.css(l),s=e.find(y);isNaN(o)||(t=Math.max(+o,t)),u!=f&&s.find("> ."+g).length>0&&s.append(i.overlay)}),(t==10001||e<t)&&(u.css(l,t+2),r.element.find("> .k-overlay").remove()),r},toggleMaximization:function(){return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,i=t.options,r=t.restoreOptions;if(i.isMaximized||i.isMinimized)return t.wrapper.css({position:"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(st).parent().show(),n("html, body").css(u,""),this._documentScrollTop&&this._documentScrollTop>0&&n(document).scrollTop(this._documentScrollTop),i.isMaximized=i.isMinimized=!1,t.trigger(b),t},maximize:pt("maximize",function(){var t=this,i=t.wrapper,r=i.position();h(t.restoreOptions,{left:r.left,top:r.top}),i.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=n(document).scrollTop(),n("html, body").css(u,w),t.options.isMaximized=!0,t._onDocumentResize()}),minimize:pt("minimize",function(){var n=this;n.wrapper.css("height",""),n.element.hide(),n.options.isMinimized=!0}),_onDocumentResize:function(){var t=this,i=t.wrapper,r=n(window);t.options.isMaximized&&(i.css({width:r.width(),height:r.height()-parseInt(i.css("padding-top"),10)}),t.trigger(b))},refresh:function(t){var r=this,o=r.options,c=n(r.element),u,s=o.iframe,f;return bt(t)||(t={url:t}),t=h({},o.content,t),f=t.url,f?(typeof s=="undefined"&&(s=!gt(f)),s?(u=c.find("."+g)[0],u?u.src=f||u.src:c.html(i.contentFrame(h({},o,{content:t})))):r._ajaxRequest(t)):t.template&&r.content(e(t.template)({})),r},_ajaxRequest:function(t){var i=this,u=t.template,f=i.wrapper.find(".k-window-titlebar .k-i-refresh"),o=setTimeout(function(){f.addClass(vt)},100);n.ajax(h({type:"GET",dataType:"html",cache:!1,error:r(function(){i.trigger(ot)},i),complete:function(){clearTimeout(o),f.removeClass(vt)},success:r(function(n){u&&(n=e(u)(n||{})),i.element.html(n),i.trigger(ft)},i)},t))},destroy:function(){var t=this,n,i;t.wrapper.remove(),n=yt(),i=t.options.modal&&!n.length,i?t._overlay(!1).remove():n.length>0&&d(n.eq(n.length-2))._overlay(!0)},_createWindow:function(){var u=this,r=u.element,t=u.options,e,f;t.scrollable===!1&&r.attr("style","overflow:hidden;"),t.iframe&&r.html(i.contentFrame(t)),f=n(i.wrapper(t)),t.title!==!1&&f.append(i.titlebar(h(i,t))),f.toggleClass("k-rtl",!!u.element.closest(".k-rtl").length),e=r.find("iframe").map(function(){var n=this.getAttribute("src");return this.src="",n}),f.appendTo(u.appendTo).append(r).find("iframe").each(function(n){this.src=e[n]}),r.show()}});i={wrapper:e("<div class='k-widget k-window' />"),action:e("<a href='\\#' class='k-window-action k-link'><span class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:e("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions k-header'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:e("<iframe src='#= content.url #' title='#= title #' frameborder='0' class='"+g+"'>This page requires frames in order to show content</iframe>"),resizeHandle:e("<div class='k-resize-handle k-resize-#= data #'></div>")},wt.prototype={dragstart:function(t){var r=this,e=r.owner,u=e.wrapper;r.elementPadding=parseInt(e.wrapper.css("padding-top"),10),r.initialCursorPosition=u.offset(),r.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),r.initialSize={width:u.width(),height:u.height()},r.containerOffset=e.appendTo.offset(),u.append(i.overlay).find(s).not(t.currentTarget).hide(),n(a).css(f,t.currentTarget.css(f))},drag:function(n){var i=this,s=i.owner,f=s.wrapper,t=s.options,e=i.resizeDirection,l=i.containerOffset,o=i.initialCursorPosition,a=i.initialSize,r,u,h,c,v=n.x.location,y=n.y.location;e.indexOf("e")>=0?(r=v-o.left,f.width(p(r,t.minWidth,t.maxWidth))):e.indexOf("w")>=0&&(c=o.left+a.width,r=p(c-v,t.minWidth,t.maxWidth),f.css({left:c-r-l.left,width:r})),e.indexOf("s")>=0?(u=y-o.top-i.elementPadding,f.height(p(u,t.minHeight,t.maxHeight))):e.indexOf("n")>=0&&(h=o.top+a.height,u=p(h-y,t.minHeight,t.maxHeight),f.css({top:h-u-l.top,height:u})),s.trigger(b)},dragend:function(t){var i=this,r=i.owner,u=r.wrapper;return u.find(nt).remove().end().find(s).not(t.currentTarget).show(),n(a).css(f,""),r.touchScroller&&r.touchScroller.reset(),t.keyCode==27&&u.css(i.initialCursorPosition).css(i.initialSize),!1}},at.prototype={dragstart:function(t){var r=this.owner,u=r.element,e=u.find(".k-window-actions"),o=r.appendTo.offset();r.trigger(ht),r.initialWindowPosition=r.wrapper.position(),r.startPosition={left:t.x.client-r.initialWindowPosition.left,top:t.y.client-r.initialWindowPosition.top},r.minLeftPosition=e.length>0?e.outerWidth()+parseInt(e.css("right"),10)-u.outerWidth():20-u.outerWidth(),r.minLeftPosition-=o.left,r.minTopPosition=-o.top,r.wrapper.append(i.overlay).find(s).hide(),n(a).css(f,t.currentTarget.css(f))},drag:function(t){var i=this.owner,r={left:Math.max(t.x.client-i.startPosition.left,i.minLeftPosition),top:Math.max(t.y.client-i.startPosition.top,i.minTopPosition)};n(i.wrapper).css(r)},dragcancel:function(t){var i=this.owner;i.wrapper.find(s).show().end().find(nt).remove(),n(a).css(f,""),t.currentTarget.closest(v).css(i.initialWindowPosition)},dragend:function(){var t=this.owner;return t.wrapper.find(s).show().end().find(nt).remove(),n(a).css(f,""),t.trigger(et),!1}},o.ui.plugin(ni)}(jQuery),function(n){function g(n){var t={top:0,right:0,bottom:0,left:0};return typeof n=="number"?t[o]=t[v]=t[l]=t[s]=n:(t[o]=n[o]||0,t[v]=n[v]||0,t[l]=n[l]||0,t[s]=n[s]||0),t}function vi(n,t){return b.extend({init:function(n){this.view=n},decorate:function(i){var e=this,u=e.view,r=i.options.animation,f;return r&&r.type===n&&u.options.transitions&&(f=i._animation=new t(i,r),u.animations.push(f)),i}})}function w(i,r,u){var g=pi(r),d=i+g+u,k=w.cache[d],f={width:0,height:0,baseline:0},e,b,p;if(k)return k;e=w.measureBox,b=w.baselineMarker.cloneNode(!1),e||(e=w.measureBox=n("<div style='position: absolute; top: -4000px; left: -4000px;line-height: normal; visibility: hidden;' />").appendTo(ti.body)[0]);for(p in r)e.style[p]=r[p];if(e.innerHTML=i,e.appendChild(b),(i+"").length&&(f={width:e.offsetWidth-yt,height:e.offsetHeight,baseline:b.offsetTop+yt}),u){var y=f.width,l=f.height,c=y/2,h=l/2,s=ht(0,0,c,h,u),o=ht(y,0,c,h,u),v=ht(y,l,c,h,u),a=ht(0,l,c,h,u);f.normalWidth=y,f.normalHeight=l,f.width=t.max(s.x,o.x,v.x,a.x)-t.min(s.x,o.x,v.x,a.x),f.height=t.max(s.y,o.y,v.y,a.y)-t.min(s.y,o.y,v.y,a.y)}return w.cache[d]=f,f}function wt(n,i){var r=i-n;if(r===0){if(i===0)return.1;r=t.abs(i)}var f=t.pow(10,t.floor(t.log(r)/t.log(10))),u=e(r/f,tt),o=1;return o=u<1.904762?.2:u<4.761904?.5:u<9.523809?1:2,e(f*o,tt)}function pi(n){var i=[],t;for(t in n)i.push(t+n[t]);return i.sort().join(" ")}function ht(n,i,r,u,f){var e=f*bi;return{x:r+(n-r)*t.cos(e)+(i-u)*t.sin(e),y:u-(n-r)*t.sin(e)+(i-u)*t.cos(e)}}function uu(r,u){if(r.x1==u.x1&&r.y1==u.y1&&r.x2==u.x2&&r.y2==u.y2)return u;var e=t.min(r.x1,u.x1),o=t.max(r.x1,u.x1),s=t.min(r.x2,u.x2),a=t.max(r.x2,u.x2),h=t.min(r.y1,u.y1),c=t.max(r.y1,u.y1),l=t.min(r.y2,u.y2),v=t.max(r.y2,u.y2),f=[];return f[0]=new i(o,h,s,c),f[1]=new i(e,c,o,l),f[2]=new i(s,c,a,l),f[3]=new i(o,l,s,v),r.x1==e&&r.y1==h||u.x1==e&&u.y1==h?(f[4]=new i(e,h,o,c),f[5]=new i(s,l,a,v)):(f[4]=new i(s,h,a,c),f[5]=new i(e,l,o,v)),n.grep(f,function(n){return n.height()>0&&n.width()>0})[0]}function ru(){return ti.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function ii(n,t){return fi(n,t)!=-1}function nr(n){return n[n.length-1]}function lt(n,t){[].push.apply(n,t)}function ri(n,i){return e(t.ceil(n/i)*i,tt)}function ei(n,i){return e(t.floor(n/i)*i,tt)}function e(n,i){var r=t.pow(10,i||0);return t.round(n*r)/r}function a(n,t,i){return e(n+(t-n)*i,d)}function h(n){return typeof n!==br}function iu(n,t){return n-t}function oi(n,t,i){for(var u=n.length,r=0;r<u;r++)n[r][t]=i}function ur(n,t){return n.match(dr)?c.format.apply(this,arguments):c.toString(t,n)}var ti=document,c=window.kendo,nt=c.dataviz={},b=c.Class,hi=c.template,tu=n.map,ai=n.noop,fi=n.inArray,t=Math,r=c.deepExtend,nu=function(n){return hi(n,{useWithBlock:!1,paramName:"d"})},gr=10,gi="axisLabelClick",yt=1,k="#000",l="bottom",rt="center",d=3,tr="12px sans-serif",ir=400,tt=6,rr=600,bi=t.PI/180,dr=/\{\d+:?/,wi="height",vr="k",fr=600,s="left",ct="linear",dt=Number.MAX_VALUE,kt=-Number.MAX_VALUE,bt="none",pt="outside",vt="radial",v="right",at="swing",o="top",br="undefined",wr=/([A-Z])/g,er="width",u="#fff",y="x",p="y",yi=.2,ot=b.extend({init:function(n,t){var i=this;i.x=e(n||0,d),i.y=e(t||0,d)}}),i=b.extend({init:function(n,t,i,r){var u=this;u.x1=n||0,u.x2=i||0,u.y1=t||0,u.y2=r||0},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(n,t){var i=this;return i.x1+=n,i.x2+=n,i.y1+=t,i.y2+=t,i},move:function(n,t){var i=this,r=i.height(),u=i.width();return i.x1=n,i.y1=t,i.x2=i.x1+u,i.y2=i.y1+r,i},wrap:function(n){var i=this;return i.x1=t.min(i.x1,n.x1),i.y1=t.min(i.y1,n.y1),i.x2=t.max(i.x2,n.x2),i.y2=t.max(i.y2,n.y2),i},wrapPoint:function(n){return this.wrap(new i(n.x,n.y,n.x,n.y)),this},snapTo:function(n,t){var i=this;return t!=y&&t||(i.x1=n.x1,i.x2=n.x2),t!=p&&t||(i.y1=n.y1,i.y2=n.y2),i},alignTo:function(n,t){var i=this,e=i.height(),h=i.width(),r=t==o||t==l?p:y,c=r==p?e:h,u,f;return t===rt?(u=n.center(),f=i.center(),i.x1+=u.x-f.x,i.y1+=u.y-f.y):i[r+1]=t===o||t===s?n[r+1]-c:n[r+2],i.x2=i.x1+h,i.y2=i.y1+e,i},shrink:function(n,t){var i=this;return i.x2-=n,i.y2-=t,i},expand:function(n,t){return this.shrink(-n,-t),this},pad:function(n){var t=this,i=g(n);return t.x1-=i.left,t.x2+=i.right,t.y1-=i.top,t.y2+=i.bottom,t},unpad:function(n){var i=this,t=g(n);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,i.pad(t)},clone:function(){var n=this;return new i(n.x1,n.y1,n.x2,n.y2)},center:function(){var n=this;return{x:n.x1+n.width()/2,y:n.y1+n.height()/2}},containsPoint:function(n,t){var i=this;return n>=i.x1&&n<=i.x2&&t>=i.y1&&t<=i.y2},points:function(){var n=this;return[new ot(n.x1,n.y1),new ot(n.x2,n.y1),new ot(n.x2,n.y2),new ot(n.x1,n.y2)]},getHash:function(){var n=this;return[n.x1,n.y1,n.x2,n.y2].join(",")}}),it=b.extend({init:function(n,t,i,r,u){var f=this;f.c=n,f.ir=t,f.r=i,f.startAngle=r,f.angle=u},clone:function(){var n=this;return new it(n.c,n.ir,n.r,n.startAngle,n.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(n,t){var i=this;return t?i.ir=n:i.r=n,i},point:function(n,i){var r=this,u=n*bi,e=t.cos(u),o=t.sin(u),f=i?r.ir:r.r,s=r.c.x-e*f,h=r.c.y-o*f;return new ot(s,h)},getBBox:function(){for(var t=this,r=new i(dt,dt,kt,kt),u=e(t.startAngle%360),f=e((u+t.angle)%360),l=t.ir,n=[0,90,180,270,u,f].sort(iu),o=fi(u,n),s=fi(f,n),h,a=u==f?n:o<s?n.slice(o,s+1):[].concat(n.slice(0,s+1),n.slice(o,n.length)),c=0;c<a.length;c++)h=t.point(a[c]),r.wrapPoint(h),r.wrapPoint(h,l);return l||r.wrapPoint(t.c),r},expand:function(n){return this.r+=n,this}}),li=it.extend({init:function(n,t,i,r){it.fn.init.call(this,n,0,t,i,r)},expand:function(n){return it.fn.expand.call(this,n)},clone:function(){var n=this;return new li(n.c,n.r,n.startAngle,n.angle)},radius:function(n){return it.fn.radius.call(this,n)},point:function(n){return it.fn.point.call(this,n)}}),pr=b.extend({init:function(n){r(this,{height:40,rotation:90,radius:10,arcAngle:10},n)}}),f=b.extend({init:function(n){var t=this;t.children=[],t.options=r({},t.options,n)},reflow:function(n){for(var u=this,f=u.children,t,i,r=0;r<f.length;r++)i=f[r],i.reflow(n),t=t?t.wrap(i.box):i.box.clone();u.box=t},getViewElements:function(n){for(var t=this,h=t.options,o=h.modelId,u=[],f,s=t.children,i,c=s.length,e=0;e<c;e++)i=s[e],i.discoverable||(i.options=r(i.options,{modelId:o})),u.push.apply(u,i.getViewElements(n));return t.discoverable&&(f=t.getRoot(),f&&(f.modelMap[o]=t)),u},makeDiscoverable:function(){var n=this,t=n.options;t.modelId=et(),n.discoverable=!0},getRoot:function(){var n=this.parent;return n?n.getRoot():null},translateChildren:function(n,t){for(var u=this,r=u.children,f=r.length,i=0;i<f;i++)r[i].box.translate(n,t)},append:function(){var t=this,n,i=arguments.length;for(lt(t.children,arguments),n=0;n<i;n++)arguments[n].parent=t}}),yr=f.extend({init:function(n){var t=this;t.modelMap={},f.fn.init.call(t,n)},options:{width:rr,height:ir,background:u,border:{color:k,width:0},margin:g(5),zIndex:-1},reflow:function(){var r=this,u=r.options,f=r.children,t=new i(0,0,u.width,u.height),n;for(r.box=t.unpad(u.margin),n=0;n<f.length;n++)f[n].reflow(t),t=uu(t,f[n].box)},getViewElements:function(n){var r=this,i=r.options,t=i.border||{},u=r.box.clone().pad(i.margin).unpad(t.width),e=[n.createRect(u,{stroke:t.width?t.color:"",strokeWidth:t.width,dashType:t.dashType,fill:i.background,zIndex:i.zIndex})];return e.concat(f.fn.getViewElements.call(r,n))},getRoot:function(){return this}}),ni=f.extend({init:function(n){f.fn.init.call(this,n)},options:{align:s,vAlign:o,margin:{},padding:{},border:{color:k,width:0},background:"",width:0,height:0,visible:!0},reflow:function(n){var t=this,u,s,r=t.options,c=t.children,e=g(r.margin),h=g(r.padding),l=r.border,o=l.width;f.fn.reflow.call(t,n),u=c.length===0?t.box=new i(0,0,r.width,r.height):t.box,s=t.contentBox=u.clone(),u.pad(h).pad(o).pad(e),t.align(n,y,r.align),t.align(n,p,r.vAlign),t.paddingBox=u.clone().unpad(e).unpad(o),t.translateChildren(u.x1-s.x1+e.left+o+h.left,u.y1-s.y1+e.top+o+h.top)},align:function(n,t,i){var c=this,r=c.box,u=t+1,f=t+2,h=t===y?er:wi,e=r[h]();ii(i,[s,o])?(r[u]=n[u],r[f]=r[u]+e):ii(i,[v,l])?(r[f]=n[f],r[u]=r[f]-e):i==rt&&(r[u]=n[u]+(n[h]()-e)/2,r[f]=r[u]+e)},hasBox:function(){var n=this.options;return n.border.width||n.background},getViewElements:function(n,t){var i=this,e=i.options,u=[];return e.visible?(i.hasBox()&&u.push(n.createRect(i.paddingBox,r(i.elementStyle(),t))),u.concat(f.fn.getViewElements.call(i,n))):[]},elementStyle:function(){var i=this,n=i.options,t=n.border||{};return{id:n.id,stroke:t.width?t.color:"",strokeWidth:t.width,dashType:t.dashType,strokeOpacity:n.opacity,fill:n.background,fillOpacity:n.opacity,animation:n.animation,zIndex:n.zIndex,data:{modelId:n.modelId}}}}),si=f.extend({init:function(n,t){var r=this;f.fn.init.call(r,t),r.content=n,r.reflow(new i)},options:{font:tr,color:k,align:s,vAlign:""},reflow:function(n){var t=this,u=t.options,r,f;r=u.size=w(t.content,{font:u.font},u.rotation),t.baseline=r.baseline,u.align==s?t.box=new i(n.x1,n.y1,n.x1+r.width,n.y1+r.height):u.align==v?t.box=new i(n.x2-r.width,n.y1,n.x2,n.y1+r.height):u.align==rt&&(f=(n.width()-r.width)/2,t.box=new i(e(n.x1+f,d),n.y1,e(n.x2-f,d),n.y1+r.height)),u.vAlign==rt?(f=(n.height()-r.height)/2,t.box=new i(t.box.x1,n.y1+f,t.box.x2,n.y2-f)):u.vAlign==l?t.box=new i(t.box.x1,n.y2-r.height,t.box.x2,n.y2):u.vAlign==o&&(t.box=new i(t.box.x1,n.y1,t.box.x2,n.y1+r.height))},getViewElements:function(n){var t=this,i=t.options;return f.fn.getViewElements.call(this,n),[n.createText(t.content,r({},i,{x:t.box.x1,y:t.box.y1,baseline:t.baseline,data:{modelId:i.modelId}}))]}}),st=ni.extend({init:function(n,t){var u=this,f;ni.fn.init.call(u,t),t=u.options,f=new si(n,r({},t,{align:s,vAlign:o})),u.append(f),u.hasBox()&&(f.options.id=et()),u.reflow(new i)}}),fu=f.extend({init:function(n){var t=this;f.fn.init.call(t,n),t.append(new st(t.options.text,r({},t.options,{vAlign:t.options.position})))},options:{text:"",color:k,position:o,align:rt,margin:g(5),padding:g(5)},reflow:function(n){var t=this;f.fn.reflow.call(t,n),t.box.snapTo(n,y)}}),or=st.extend({init:function(n,t,i,r){var u=this,f=n;r.template?(u.template=hi(r.template),f=u.template({value:n,dataItem:i})):r.format&&(f=u.formatValue(n,r)),u.text=f,u.value=n,u.index=t,u.dataItem=i,u.options.id=et(),st.fn.init.call(u,f,r),u.makeDiscoverable()},formatValue:function(n,t){return ur(t.format,n)},click:function(t,i){var r=this;t.trigger(gi,{element:n(i.target),value:r.value,text:r.text,index:r.index,dataItem:r.dataItem,axis:r.parent.options})}}),ui=f.extend({init:function(n){var t=this;f.fn.init.call(t,n),t.options.visible||(t.options=r({},t.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),t.options.minorTicks=r({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.minorTickType!=bt},t.options.minorTicks,{size:t.options.minorTickSize,align:t.options.minorTickType}),t.options.majorTicks=r({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.majorTickType!=bt},t.options.majorTicks,{size:t.options.majorTickSize,align:t.options.majorTickType}),t.createLabels(),t.createTitle()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:k,visible:!0},title:{visible:!0,position:rt},majorTicks:{align:pt,size:4},minorTicks:{align:pt,size:3},axisCrossingValue:0,majorTickType:pt,minorTickType:bt,minorGridLines:{visible:!1,width:1,color:k},margin:5,visible:!0,reverse:!1,_alignLines:!0,_labelsOnTicks:!0},createLabels:function(){var n=this,t=n.options,o=t.vertical?v:rt,i=r({},t.labels,{align:o,zIndex:t.zIndex,modelId:t.modelId}),s=i.step,e,f,u;if(n.labels=[],i.visible)for(e=n.labelsCount(),u=i.skip;u<e;u+=s)f=n.createAxisLabel(u,i),n.append(f),n.labels.push(f)},lineBox:function(){var t=this,r=t.options,n=t.box,o=r.vertical,u=t.labels,s=o?wi:er,a=r._labelsOnTicks,h=r.labels.mirror,c=h?n.x1:n.x2,l=h?n.y2:n.y1,f=0,e=0;return a&&u.length>1&&(f=u[0].box[s]()/2,e=nr(u).box[s]()/2),o?new i(c,n.y1+f,c,n.y2-e):new i(n.x1+f,l,n.x2-e,l)},createTitle:function(){var t=this,u=t.options,n=r({rotation:u.vertical?-90:0,text:"",zIndex:1},u.title),i;n.visible&&n.text&&(i=new st(n.text,n),t.append(i),t.title=i)},renderTicks:function(n){function h(r,h,l,a,v){var p=v/h,y,w=r.length;if(a)for(y=0;y<w;y++)y%p!=0&&(e=c?u.x2:u.x2-l.size,o=c?u.y1-l.size:u.y1,i=r[y],s={strokeWidth:l.width,stroke:l.color,align:t._alignLines},t.vertical?f.push(n.createLine(e,i,e+l.size,i,s)):f.push(n.createLine(i,o,i,o+l.size,s)))}var r=this,f=[],t=r.options,u=r.lineBox(),c=t.labels.mirror,e,o,i,s;return h(r.getMajorTickPositions(),t.majorUnit,t.majorTicks,t.majorTicks.visible),h(r.getMinorTickPositions(),t.minorUnit,t.minorTicks,t.minorTicks.visible,t.majorTicks.visible?t.majorUnit:0),f},getViewElements:function(n){var i=this,e=i.options,t=e.line,r=i.lineBox(),u=f.fn.getViewElements.call(i,n),o;return t.width>0&&t.visible&&(o={strokeWidth:t.width,stroke:t.color,dashType:t.dashType,zIndex:t.zIndex,align:e._alignLines},u.push(n.createLine(r.x1,r.y1,r.x2,r.y2,o)),lt(u,i.renderTicks(n)),lt(u,i.renderPlotBands(n))),u},getActualTickSize:function(){var r=this,n=r.options,i=0;return n.majorTicks.visible&&n.minorTicks.visible?i=t.max(n.majorTicks.size,n.minorTicks.size):n.majorTicks.visible?i=n.majorTicks.size:n.minorTicks.visible&&(i=n.minorTicks.size),i},renderPlotBands:function(n){var f=this,e=f.options,o=e.plotBands||[],c=e.vertical,s=[],t=f.parent,r,u,l,a;return o.length&&(s=tu(o,function(f){return l=h(f.from)?f.from:kt,a=h(f.to)?f.to:dt,c?(r=t.axisX.lineBox(),u=t.axisY.getSlot(f.from,f.to)):(r=t.axisX.getSlot(f.from,f.to),u=t.axisY.lineBox()),n.createRect(new i(r.x1,u.y1,r.x2,u.y2),{fill:f.color,fillOpacity:f.opacity,zIndex:-1})})),s},reflow:function(n){for(var r=this,h=r.options,c=h.vertical,l=r.labels,v=l.length,a=r.getActualTickSize()+h.margin,u=0,f=0,e=r.title,o,s=0;s<v;s++)o=l[s],u=t.max(u,o.box.height()),f=t.max(f,o.box.width());e&&(c?f+=e.box.width():u+=e.box.height()),r.box=c?new i(n.x1,n.y1,n.x1+f+a,n.y2):new i(n.x1,n.y1,n.x2,n.y1+u+a),r.arrangeTitle(),r.arrangeLabels(f,u)},arrangeLabels:function(){for(var r=this,u=r.options,g=u.labels,d=r.labels,k=!u._labelsOnTicks,b=u.vertical,w=r.lineBox(),p=u.labels.mirror,o=r.getMajorTickPositions(),a=r.getActualTickSize()+u.margin,y,s,c=0;c<d.length;c++){var n=d[c],e=g.skip+g.step*c,v=b?n.box.height():n.box.width(),h=o[e]-v/2,t,f,nt,l;b?(k&&(t=o[e],f=o[e+1],nt=t+(f-t)/2,h=nt-v/2),l=w.x2,p?l+=a:l-=a+n.box.width(),y=n.box.move(l,h)):(k?(t=o[e],f=o[e+1]):(t=h,f=h+v),s=w.y1,p?s-=a+n.box.height():s+=a,y=new i(t,s,f,s+n.box.height())),n.reflow(y)}},arrangeTitle:function(){var t=this,i=t.options,r=i.labels.mirror,u=i.vertical,n=t.title;n&&(u?(n.options.align=r?v:s,n.options.vAlign=n.options.position):(n.options.align=n.options.position,n.options.vAlign=r?o:l),n.reflow(t.box))}}),lr=ui.extend({init:function(n,t,i){var r=this,u=r.initDefaults(n,t,i);ui.fn.init.call(r,u)},options:{type:"Numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:k},zIndex:1},initDefaults:function(n,t,i){var c=this,e=c.autoAxisMin(n,t),o=c.autoAxisMax(n,t),f=wt(e,o),u={majorUnit:f},s;return e<0&&(e-=f),o>0&&(o+=f),u.min=ei(e,f),u.max=ri(o,f),i&&(s=h(i.min)||h(i.max),s&&i.min===i.max&&(i.min>0?i.min=0:i.max=1),i.majorUnit?(u.min=ei(u.min,i.majorUnit),u.max=ri(u.max,i.majorUnit)):s&&(i=r(u,i),u.majorUnit=wt(i.min,i.max))),u.minorUnit=u.majorUnit/5,r(u,i)},range:function(){var n=this.options;return{min:n.min,max:n.max}},autoAxisMax:function(n,i){var r,u;if(!n&&!i)return 1;if(n<=0&&i<=0){if(i=n==i?0:i,u=t.abs((i-n)/i),u>yi)return 0;r=i-(n-i)/2}else n=n==i?0:n,r=i;return r},autoAxisMin:function(n,t){var i,r;if(!n&&!t)return 0;if(n>=0&&t>=0){if(n=n==t?0:n,r=(t-n)/t,r>yi)return 0;i=n-(t-n)/2}else t=n==t?0:t,i=n;return i},getDivisions:function(n){var i=this.options,r=i.max-i.min;return t.floor(e(r/n,d))+1},getTickPositions:function(n){for(var i=this,t=i.options,r=t.vertical,c=t.reverse,u=i.lineBox(),l=r?u.height():u.width(),a=t.max-t.min,v=l/a,w=n*v,b=i.getDivisions(n),o=(r?-1:1)*(c?-1:1),k=o===1?1:2,f=u[(r?p:y)+k],s=[],h=0;h<b;h++)s.push(e(f,d)),f=f+w*o;return s},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.majorUnit)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.minorUnit)},getSlot:function(n,r){var v=this,u=v.options,e=u.reverse,c=u.vertical,l=c?p:y,f=v.lineBox(),w=f[l+(e?2:1)],k=c?f.height():f.width(),d=e?-1:1,b=d*(k/(u.max-u.min)),o,s,a=new i(f.x1,f.y1,f.x1,f.y1);return n=h(n)?n:u.axisCrossingValue,r=h(r)?r:u.axisCrossingValue,n=t.max(t.min(n,u.max),u.min),r=t.max(t.min(r,u.max),u.min),c?(o=u.max-t.max(n,r),s=u.max-t.min(n,r)):(o=t.min(n,r)-u.min,s=t.max(n,r)-u.min),a[l+1]=w+b*(e?s:o),a[l+2]=w+b*(e?o:s),a},getValue:function(n){var f=this,t=f.options,o=t.reverse,i=t.vertical,s=t.max*1,h=t.min*1,c=i?p:y,r=f.lineBox(),w=r[c+(o?2:1)],l=i?r.height():r.width(),b=o?-1:1,u=b*(n[c]-w),k=(s-h)/l,a=u*k,v;return u<0||u>l?null:(v=i?s-a:h+a,e(v,tt))},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(n,t){var r=this,i=r.options,u=e(i.min+n*i.majorUnit,tt);return new or(u,n,null,t)}}),gt=b.extend({init:function(n){var t=this;t.children=[],t.options=r({},t.options,n)},render:function(){return this.template(this)},renderContent:function(){for(var r=this,t="",i=r.sortChildren(),u=i.length,n=0;n<u;n++)t+=i[n].render();return t},sortChildren:function(){for(var i=this,t=i.children,n=0,r=t.length;n<r;n++)t[n]._childIndex=n;return t.slice(0).sort(i.compareChildren)},refresh:n.noop,compareChildren:function(n,t){var i=n.options.zIndex||0,r=t.options.zIndex||0;return i!==r?i-r:n._childIndex-t._childIndex},renderAttr:function(n,t){return h(t)?" "+n+"='"+t+"' ":""},renderDataAttributes:function(){var t=this,i=t.options.data,n,r,u="";for(n in i)r="data-"+n.replace(wr,"-$1").toLowerCase(),u+=t.renderAttr(r,i[n]);return u}}),sr=gt.extend({init:function(n){var t=this;gt.fn.init.call(t,n),t.definitions={},t.decorators=[],t.animations=[]},renderDefinitions:function(){var n=this.definitions,t,i="";for(t in n)n.hasOwnProperty(t)&&(i+=n[t].render());return i},decorate:function(n){for(var r=this.decorators,u=r.length,t,i=0;i<u;i++)t=r[i],this._decorateChildren(t,n),n=t.decorate.call(t,n);return n},_decorateChildren:function(n,t){for(var u=this,r=t.children,f=r.length,i=0;i<f;i++)u._decorateChildren(n,r[i]),r[i]=n.decorate.call(n,r[i])},setupAnimations:function(){for(var t=this.animations,i=t.length,n=0;n<i;n++)t[n].setup()},playAnimations:function(){for(var n=this.animations;n.length>0;)n.shift().play()},buildGradient:function(n){var e=this,i=e._gradientCache,u,t,f;return i||(i=e._gradientCache=[]),n&&(u=pi(n),t=i[u],f=nt.Gradients[n.gradient],!t&&f&&(t=r({id:et()},f,n),i[u]=t)),t}}),ki,ft,et,di;nt.Gradients={glass:{type:ct,rotation:0,stops:[{offset:0,color:u,opacity:0},{offset:.25,color:u,opacity:.3},{offset:1,color:u,opacity:0}]},sharpBevel:{type:vt,stops:[{offset:0,color:u,opacity:.55},{offset:.65,color:u,opacity:0},{offset:.95,color:u,opacity:.25}]},roundedBevel:{type:vt,stops:[{offset:.33,color:u,opacity:.06},{offset:.83,color:u,opacity:.2},{offset:.95,color:u,opacity:0}]},roundedGlass:{type:vt,supportVML:!1,stops:[{offset:0,color:u,opacity:0},{offset:.5,color:u,opacity:.3},{offset:.99,color:u,opacity:0}]},sharpGlass:{type:vt,supportVML:!1,stops:[{offset:0,color:u,opacity:.2},{offset:.15,color:u,opacity:.15},{offset:.17,color:u,opacity:.35},{offset:.85,color:u,opacity:.05},{offset:.87,color:u,opacity:.15},{offset:.99,color:u,opacity:0}]}};var ut=b.extend({init:function(n,t){var i=this;i.options=r({},i.options,t),i.element=n},options:{duration:fr,easing:at},play:function(){var i=this,u=i.options,o=i.element,s=u.delay||0,h=+new Date+s,r=u.duration,v=h+r,c=ti.getElementById(o.options.id),y=n.easing[u.easing],f,e,l,a;setTimeout(function(){var n=function(){i._stopped||(f=+new Date,e=t.min(f-h,r),l=e/r,a=y(l,e,0,1,r),i.step(a),o.refresh(c),f<v&&di(n,c))};n()},s)},abort:function(){this._stopped=!0},setup:ai,step:ai}),ci=ut.extend({options:{duration:200,easing:ct},setup:function(){var t=this,n=t.element.options;t.targetFillOpacity=n.fillOpacity,t.targetStrokeOpacity=n.strokeOpacity,n.fillOpacity=n.strokeOpacity=0},step:function(n){var t=this,i=t.element.options;i.fillOpacity=n*t.targetFillOpacity,i.strokeOpacity=n*t.targetStrokeOpacity}}),ar=ut.extend({options:{size:0,easing:ct},setup:function(){var n=this.element.points;n[1].x=n[2].x=n[0].x},step:function(n){var i=this.options,r=a(0,i.size,n),t=this.element.points;t[1].x=t[2].x=t[0].x+r}}),cr=ut.extend({options:{easing:ct,duration:900},setup:function(){var i=this,o=i.element,r=o.options,n=i.options,e=n.center,u,f;r.rotation&&(u=n.startAngle,f=r.rotation[0],n.duration=t.max(t.abs(u-f)/n.speed*1e3,1),i.endState=f,r.rotation=[u,e.x,e.y])},step:function(n){var t=this,i=t.element;i.options.rotation&&(i.options.rotation[0]=a(t.options.startAngle,t.endState,n))}}),hr=ut.extend({options:{easing:at},setup:function(){var i=this,f=i.element,n=f.points,r=f.options,e=r.vertical?p:y,t=r.stackBase,c=r.aboveAxis,u,a=i.endState={top:n[0].y,right:n[1].x,bottom:n[3].y,left:n[0].x};u=e===p?h(t)?t:a[c?l:o]:h(t)?t:a[c?s:v],i.startPosition=u,oi(n,e,u)},step:function(n){var u=this,i=u.startPosition,r=u.endState,f=u.element,t=f.points;f.options.vertical?(t[0].y=t[1].y=a(i,r.top,n),t[2].y=t[3].y=a(i,r.bottom,n)):(t[0].x=t[3].x=a(i,r.left,n),t[1].x=t[2].x=a(i,r.right,n))}}),kr=ut.extend({options:{easing:at,duration:1e3},setup:function(){var n=this,p=n.element,r=p.points,f=p.options.animation,w=f.vertical,i=f.reverse,k=n.axis=w?"y":"x",a,y,e,b=n.options.endPosition,c=n.initialState={top:r[0].y,right:r[1].x,bottom:r[3].y,left:r[0].x},u=!h(n.options.endPosition);w?(e=i?"y2":"y1",a=c[u&&!i?l:o],y=u?c[i?l:o]:b[e]):(e=i?"x1":"x2",a=c[u&&!i?s:v],y=u?c[i?s:v]:b[e]),n.start=a,n.end=y,u?oi(r,k,n.start):f.speed&&(n.options.duration=t.max(t.abs(n.start-n.end)/f.speed*1e3,1))},step:function(n){var t=this,u=t.start,f=t.end,e=t.element,i=e.points,r=t.axis;e.options.animation.vertical?i[0][r]=i[1][r]=a(u,f,n):i[1][r]=i[2][r]=a(u,f,n)}}),eu=ut.extend({options:{easing:at,duration:1e3},setup:function(){var n=this,b=n.element,e=b.points,f=b.options.animation,o=f.vertical,a=f.reverse,u=o?"y":"x",v=u+(a?"1":"2"),k=u+(a?"2":"1"),c=f.startPosition[o?v:k],y=f.size/2,d=e.length,p=!h(n.options.endPosition),l=y,w,s,i;for(n.axis=u,n.endPositions=[],n.startPositions=[],p||(c=e[1][u],s=n.options.endPosition[o?k:v],f.speed&&(n.options.duration=t.max(t.abs(c-s)/f.speed*1e3,1))),i=0;i<d;i++)w=r({},e[i]),p?(n.endPositions[i]=w[u],e[i][u]=c-l):n.endPositions[i]=s-l,n.startPositions[i]=e[i][u],l-=y},step:function(n){for(var i=this,u=i.startPositions,f=i.endPositions,e=i.element,r=e.points,o=i.axis,s=r.length,t=0;t<s;t++)r[t][o]=a(u[t],f[t],n)}});ki=vi("fadeIn",ci),ft=function(n){var t=this,u=ft.formats,e,o,f,i,r;if(arguments.length===1)for(n=t.resolveColor(n),i=0;i<u.length;i++)e=u[i].re,o=u[i].process,f=e.exec(n),f&&(r=o(f),t.r=r[0],t.g=r[1],t.b=r[2]);else t.r=arguments[0],t.g=arguments[1],t.b=arguments[2];t.r=t.normalizeByte(t.r),t.g=t.normalizeByte(t.g),t.b=t.normalizeByte(t.b)},ft.prototype={toHex:function(){var n=this,t=n.padDigit,i=n.r.toString(16),r=n.g.toString(16),u=n.b.toString(16);return"#"+t(i)+t(r)+t(u)},resolveColor:function(n){return n=n||k,n.charAt(0)=="#"&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),ft.namedColors[n]||n},normalizeByte:function(n){return n<0||isNaN(n)?0:n>255?255:n},padDigit:function(n){return n.length===1?"0"+n:n},brightness:function(n){var i=this,r=t.round;return i.r=r(i.normalizeByte(i.r*n)),i.g=r(i.normalizeByte(i.g*n)),i.b=r(i.normalizeByte(i.b*n)),i}},ft.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}}],ft.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},w.cache={},w.baselineMarker=n("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+yt+"px; height: "+yt+"px;overflow: hidden;' />")[0],et=function(){var n=1;return function(){return n=(n>>>1^-(n&1)&3489660929)>>>0,vr+n.toString(16)}}(),di=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,gr)},r(c.dataviz,{init:function(n){c.init(n,c.dataviz.ui)},ui:{roles:{},themes:{},views:[],defaultView:function(){for(var t=nt.ui.views,i=t.length,n=0;n<i;n++)if(t[n].available())return t[n];c.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG or VML. User agent: "+navigator.userAgent+"\n- The kendo.dataviz.svg.js or kendo.dataviz.vml.js scripts are not loaded")},registerView:function(n){var t=nt.ui.views[0];!t||n.preference>t.preference?nt.ui.views.unshift(n):nt.ui.views.push(n)},plugin:function(n){c.ui.plugin(n,nt.ui)}},AXIS_LABEL_CLICK:gi,COORD_PRECISION:d,DEFAULT_PRECISION:tt,DEFAULT_WIDTH:rr,DEFAULT_HEIGHT:ir,DEFAULT_FONT:tr,INITIAL_ANIMATION_DURATION:fr,CLIP:"clip",Axis:ui,AxisLabel:or,Box2D:i,BoxElement:ni,ChartElement:f,Color:ft,ElementAnimation:ut,ExpandAnimation:ar,ArrowAnimation:eu,BarAnimation:hr,BarIndicatorAnimatin:kr,FadeAnimation:ci,FadeAnimationDecorator:ki,NumericAxis:lr,Point2D:ot,Ring:it,Pin:pr,RootElement:yr,RotationAnimation:cr,Sector:li,Text:si,TextBox:st,Title:fu,ViewBase:sr,ViewElement:gt,animationDecorator:vi,append:lt,autoFormat:ur,autoMajorUnit:wt,defined:h,getSpacing:g,inArray:ii,interpolateValue:a,last:nr,measureText:w,rotatePoint:ht,round:e,ceil:ri,floor:ei,supportsSVG:ru,renderTemplate:nu,uniqueId:et})}(jQuery),function(){var h=window.kendo,v=h.dataviz,t=h.deepExtend,i="#000",o="Arial,Helvetica,sans-serif",y="11px "+o,e="12px "+o,c="16px "+o,n="#fff",u={title:{font:c},legend:{labels:{font:e}},seriesDefaults:{labels:{font:y},donut:{margin:1},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}}},axisDefaults:{labels:{font:e},title:{font:c,margin:5}},tooltip:{font:e}},s={black:t({},u,{title:{color:n},legend:{labels:{color:n}},seriesDefaults:{labels:{color:n},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},area:{opacity:.4,markers:{visible:!1,size:6}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{line:{color:"#8e8e8e"},labels:{color:n},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:n}},tooltip:{background:"#3d3d3d",color:n,opacity:.8}}),"default":t({},u,{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"}},seriesDefaults:{labels:{color:i,background:n,opacity:.5},area:{opacity:.4,markers:{visible:!1,size:6}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"}},tooltip:{background:n,color:i,opacity:.8}}),blueopal:t({},u,{title:{color:"#293135"},legend:{labels:{color:"#293135"}},seriesDefaults:{labels:{color:i,background:n,opacity:.5},area:{opacity:.4,markers:{visible:!1,size:6}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"}},tooltip:{background:n,color:i,opacity:.8}}),silver:t({},u,{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},area:{opacity:.4,markers:{visible:!1,size:6}}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"}},tooltip:{background:n,color:"#4e5968",opacity:.8}}),metro:t({},u,{title:{color:"#777777"},legend:{labels:{color:"#777777"}},seriesDefaults:{labels:{color:i},area:{opacity:.4,markers:{visible:!1,size:6}}},seriesColors:["#25a0da","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"}},tooltip:{background:n,color:i}})},l,f,r,a;for(l in s)f=s[l].seriesDefaults,f.verticalLine=t({},f.line),f.verticalArea=t({},f.area);r={scale:{labels:{font:e}}},a={black:t({},r,{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}}),blueopal:t({},r,{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}}),"default":t({},r,{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}}),metro:t({},r,{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}}),silver:t({},r,{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}})},t(v.ui.themes,{chart:s,gauge:a})}(jQuery),function(n,t){function cr(n){return pe(n).min}function vr(n){return pe(n).max}function pe(n){for(var r=ot,u=gt,e=n.length,t,f=0;f<e;f++)t=n[f],o(t)&&(r=i.min(r,t),u=i.max(u,t));return{min:r,max:u}}function wf(n,t,i,r){var f,s=(r.x-i.x)*(n.y-i.y)-(r.y-i.y)*(n.x-i.x),o=(r.y-i.y)*(t.x-n.x)-(r.x-i.x)*(t.y-n.y),u;return o!==0&&(u=s/o,f=new e(n.x+u*(t.x-n.x),n.y+u*(t.y-n.y))),f}function uo(n,t){var u=n.series,i,h=u.length,f,c=n.seriesDefaults,e=r({},n.seriesDefaults),o=t?r({},t.seriesDefaults):{},s=r({},o);for(of(e),of(s),i=0;i<h;i++)f=u[i].type||n.seriesDefaults.type,u[i]=r({},s,o[f],{tooltip:n.tooltip},e,c[f],u[i])}function of(n){delete n.bar,delete n.column,delete n.line,delete n.verticalLine,delete n.pie,delete n.area,delete n.verticalArea,delete n.scatter,delete n.scatterLine,delete n.bubble}function ef(n){for(var i=n.series,u=i.length,r=n.seriesColors||[],t=0;t<u;t++)i[t].color=i[t].color||r[t%r.length]}function ps(t,i){var u=r({},(i||{}).axisDefaults);rr(["category","value","x","y"],function(){var f=this+"Axis",i=[].concat(t[f]);i=n.map(i,function(n){var i=(n||{}).color;return r({},u,u[f],t.axisDefaults,{line:{color:i},labels:{color:i},title:{color:i}},n)}),t[f]=i.length>1?i:i[0]})}function pr(n,t){ps(n,t),uo(n,t)}function ff(n,t,i){n[t]=(n[t]||0)+i}function br(n){for(var u=n.length,t=0,r=0;r<u;r++)t=i.max(t,n[r].data.length);return t}function lr(n){return n*n}function ai(n,t){if(t===null)return null;var i=ai.cache[n]=ai.cache[n]||yo(n,!0);return i(t)}function h(n){if(fu(n))return yi(n,h);if(n){if(n instanceof Date)return n;if(typeof n===ki){var t=ns.exec(n);return new Date(t?parseInt(t[1],10):n)}return new Date(n)}}function yt(n){return fu(n)?yi(n,yt):n?h(n).getTime():void 0}function vt(n,t,i){return(n=h(n),i===hi)?new Date(n.getFullYear()+t,0,1):i===tr?new Date(n.getFullYear(),n.getMonth()+t,1):i===ci?new Date(n.getFullYear(),n.getMonth(),n.getDate()+t):i===wr?new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t):i===we?new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t):n}function di(n,t){return n=h(n),vt(n,0,t)}function hu(n,t){return(n=h(n),di(n,t).getTime()===n.getTime())?n:vt(n,1,t)}function hs(n,t){var i=n.getTime()-t,r=n.getTimezoneOffset()-t.getTimezoneOffset();return i-r*ou}function vi(n,t,r){return r===hi?t.getFullYear()-n.getFullYear():r===tr?vi(n,t,hi)*12+t.getMonth()-n.getMonth():r===ci?i.floor(hs(t,n)/oi):i.floor((t-n)/nf[r])}function lt(n,t,i,r){var u=n.data[t],h,e={},c,l,f,s={value:u};return o(u)?fu(u)?(h=u.slice(i.length),f=ve(u,i),e=ve(h,r)):typeof u=="object"&&(c=ge(n,i),l=ge(n,r),f=nu(u,i,c),e=nu(u,r,l)):f=nu({},i),o(f)&&(i.length===1&&(f=f[i[0]]),s.value=f),s.fields=e,s}function ve(n,t){var u={},r,f;if(t)for(f=i.min(t.length,n.length),r=0;r<f;r++)u[t[r]]=n[r];return u}function nu(n,t,i){var u={},r,f,e,o;if(t)for(f=t.length,i=i||t,r=0;r<f;r++)e=t[r],o=i[r],u[e]=ai(o,n);return u}function ge(n,t){var i,f,r,u,e;if(t)for(f=t.length,u=[],i=0;i<f;i++)r=t[i],e=r==="value"?"field":r+"Field",u.push(n[e]||r);return u}function iu(n){return n.length===1?n[0]:n}var rr=n.each,it=n.grep,fu=n.isArray,yi=n.map,i=Math,ur=n.extend,rt=n.proxy,yu=document,nt=window.kendo,vu=nt.Class,ko=nt.data.DataSource,ne=nt.ui.Widget,st=nt.template,r=nt.deepExtend,yo=nt.getter,u=nt.dataviz,ku=u.Axis,ee=u.AxisLabel,ao=u.BarAnimation,c=u.Box2D,be=u.BoxElement,f=u.ChartElement,uu=u.Color,no=u.ElementAnimation,or=u.NumericAxis,e=u.Point2D,as=u.RootElement,so=u.Ring,co=u.Text,yr=u.TextBox,lo=u.Title,ar=u.animationDecorator,tt=u.append,bt=u.autoFormat,o=u.defined,y=u.getSpacing,wt=u.inArray,ce=u.interpolateValue,ui=u.last,s=u.round,vo=u.renderTemplate,p=u.uniqueId,po="k-",uf="above",eu="area",wo=u.AXIS_LABEL_CLICK,ti="bar",su=.8,te=1.5,ie=.4,bo="below",ii="#000",g="bottom",fr="bubble",l="center",pu="change",et="circle",go="click",ue=u.CLIP,ri="column",dt=u.COORD_PRECISION,fe="dataBound",ei="Date",ns=/^\/Date\((.*?)\)\/$/,ci="days",ds=u.DEFAULT_FONT,ts=u.DEFAULT_HEIGHT,is=u.DEFAULT_PRECISION,us=u.DEFAULT_WIDTH,ks="donut",fs=50,ir="fadeIn",wr="hours",ht=u.INITIAL_ANIMATION_DURATION,es="insideBase",dr="insideEnd",os="interpolate",ct="left",tu="line",ot=Number.MAX_VALUE,gt=-Number.MAX_VALUE,we="minutes",tr="months",ke="mousemove.tracking",ss="mouseover",at="outsideEnd",cs="_outline",gi="pie",ls=70,cu="plotAreaClick",a="primary",v="right",ae="scatter",df="scatterLine",he="seriesClick",bf="seriesHover",ki="string",ou=6e4,du=60*ou,oi=24*du,tf=31*oi,gu=365*oi,nf={years:gu,months:tf,days:oi,hours:du,minutes:ou},d="top",si=5,vs=100,ys="triangle",au="verticalLine",kr="verticalArea",ut="#fff",b="x",w="y",hi="years",ws="zero",bs=[ti,ri,tu,au,eu,kr],ho=[ae,df,fr],sf={minutes:"HH:mm",hours:"HH:mm",days:"M/d",months:"MMM 'yy",years:"yyyy"},rs=ne.extend({init:function(n,t){var i=this,f,o,s=u.ui.themes.chart||{},h=(t||{}).dataSource,e;ne.fn.init.call(i,n),f=r({},i.options,t),e=f.theme,o=e?s[e]||s[e.toLowerCase()]:{},pr(f,o),i.options=r({},o,f),ef(i.options),i.bind(i.events,i.options),i.element.addClass("k-chart"),i.wrapper=i.element,i._dataChangeHandler=rt(i._onDataChanged,i),i.dataSource=ko.create(h).bind(pu,i._dataChangeHandler),h&&f.autoBind&&i.dataSource.fetch(),i._redraw(),i._attachEvents(),nt.notify(i,u.ui)},setDataSource:function(n){var t=this;t.dataSource&&t.dataSource.unbind(pu,t._dataChangeHandler),t.dataSource=n,n.bind(pu,t._dataChangeHandler),t.options.autoBind&&n.fetch()},events:[fe,he,bf,wo,cu],items:function(){return n()},options:{name:"Chart",theme:"default",chartArea:{},title:{visible:!0},legend:{visible:!0,labels:{}},categoryAxis:{categories:[]},autoBind:!0,seriesDefaults:{type:ri,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",bar:{gap:te,spacing:ie},column:{gap:te,spacing:ie},line:{width:4},scatterLine:{width:1},bubble:{negativeValues:{color:ut,visible:!1}},labels:{}},series:[],tooltip:{visible:!1},transitions:!0},refresh:function(){var n=this;pr(n.options),n.dataSource?n._onDataChanged():n._redraw()},redraw:function(){var n=this;pr(n.options),n._redraw()},_redraw:function(){var n=this,e=n.options,t=n.element,r=n._model=n._getModel(),f=u.ui.defaultView(),i;n._plotArea=r._plotArea,f&&(i=n._view=f.fromModel(r),t.css("position","relative"),n._viewElement=i.renderTo(t[0]),n._tooltip=new u.Tooltip(t,e.tooltip),n._highlight=new lf(i,n._viewElement))},svg:function(){var n=this._getModel(),t=u.SVGView.fromModel(n);return t.render()},_getModel:function(){var i=this,n=i.options,f=i.element,t=new as(r({width:f.width()||us,height:f.height()||ts,transitions:n.transitions},n.chartArea)),u;return n.title&&n.title.visible&&n.title.text&&t.append(new lo(n.title)),u=t._plotArea=i._createPlotArea(),n.legend.visible&&t.append(new cf(u.options.legend)),t.append(u),t.reflow(),t},_createPlotArea:function(){for(var s=this,t=s.options,e=t.series,h=e.length,n,o=[],i=[],r=[],u=[],f=0;f<h;f++)n=e[f],wt(n.type,bs)?o.push(n):wt(n.type,ho)?i.push(n):n.type===gi?r.push(n):n.type===ks&&u.push(n);return r.length>0?new lu(r,t):u.length>0?new gf(u,t):i.length>0?new re(i,t):new oe(o,t)},_attachEvents:function(){var n=this,t=n.element;t.bind(go,rt(n._click,n)),t.bind(ss,rt(n._mouseOver,n))},_getChartElement:function(t){var r=this,u=n(t.target).data("modelId"),f=r._model,i;return u&&(i=f.modelMap[u]),i&&i.aliasFor&&(i=i.aliasFor(t,r._eventCoordinates(t))),i},_eventCoordinates:function(t){var i=this.element,r=i.offset(),f=parseInt(i.css("paddingLeft"),10),e=parseInt(i.css("paddingTop"),10),u=n(window);return{x:t.clientX-r.left-f+u.scrollLeft(),y:t.clientY-r.top-e+u.scrollTop()}},_click:function(n){for(var i=this,t=i._getChartElement(n);t;)t.click&&t.click(i,n),t=t.parent},_mouseOver:function(t){var i=this,o=i._tooltip,f=i._highlight,e,u;f&&f.overlayElement!==t.target&&(u=i._getChartElement(t),u&&u.hover&&(u.hover(i,t),i._activePoint=u,e=r({},i.options.tooltip,u.options.tooltip),e.visible&&o.show(u),f.show(u),n(yu.body).bind(ke,rt(i._mouseMove,i))))},_mouseMove:function(t){var i=this,o=i._tooltip,s=i._highlight,e=i._eventCoordinates(t),u=i._activePoint,h,c,f;i._plotArea.box.containsPoint(e.x,e.y)?u&&u.series&&(u.series.type===tu||u.series.type===eu)&&(c=u.parent,f=c.getNearestPoint(e.x,e.y,u.seriesIx),f&&f!=u&&(f.hover(i,t),i._activePoint=f,h=r({},i.options.tooltip,u.options.tooltip),h.visible&&o.show(f),s.show(f))):(n(yu.body).unbind(ke),delete i._activePoint,o.hide(),s.hide())},_onDataChanged:function(){for(var n=this,e=n.options,r=n._sourceSeries||e.series,s=r.length,i=n.dataSource.view(),o=(n.dataSource.group()||[]).length>0,u=[],t,f=0;f<s;f++)t=r[f],t.field||t.xField&&t.yField?(t.data=i,[].push.apply(u,o?n._createGroupedSeries(t,i):[t])):u.push(t);n._sourceSeries=r,e.series=u,ef(n.options),n._bindCategories(o?i[0].items:i),n.trigger(fe),n._redraw()},_createGroupedSeries:function(n,i){var s=[],e,o,f,h=i.length,u;for(n.groupNameTemplate&&(e=st(n.groupNameTemplate)),f=0;f<h;f++)u=r({},n),u.color=t,s.push(u),o=i[f],u.data=o.items,e&&(u.name=e({series:u,group:o}));return s},_bindCategories:function(n){var t=this.options.categoryAxis,i,u,r,f=n.length;if(t.field)for(i=0;i<f;i++)r=n[i],u=ai(t.field,r),i===0?(t.categories=[u],t.dataItems=[r]):(t.categories.push(u),t.dataItems.push(r))}}),hf=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.append(new yr(n,i.options))},options:{position:at,margin:y(3),padding:y(4),color:ii,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:ir,delay:ht},zIndex:1},reflow:function(n){var o=this,i=o.options,r=i.vertical,u=i.aboveAxis,t=o.children[0],f=t.box,e=t.options.padding;t.options.align=r?l:ct,t.options.vAlign=r?d:l,i.position==dr?r?(t.options.vAlign=d,!u&&f.height()<n.height()&&(t.options.vAlign=g)):t.options.align=u?v:ct:i.position==l?(t.options.vAlign=l,t.options.align=l):i.position==es?r?t.options.vAlign=u?g:d:t.options.align=u?ct:v:i.position==at&&(r?n=u?new c(n.x1,n.y1-f.height(),n.x2,n.y1):new c(n.x1,n.y2,n.x2,n.y2+f.height()):(t.options.align=l,n=u?new c(n.x2+f.width(),n.y1,n.x2,n.y2):new c(n.x1-f.width(),n.y1,n.x1,n.y2))),r?e.left=e.right=(n.width()-t.contentBox.width())/2:e.top=e.bottom=(n.height()-t.contentBox.height())/2,t.reflow(n)}}),cf=f.extend({init:function(n){var t=this;f.fn.init.call(t,n),t.createLabels()},options:{position:v,items:[],labels:{},offsetX:0,offsetY:0,margin:y(10),padding:y(5),border:{color:ii,width:0},background:"",zIndex:1},createLabels:function(){for(var n=this,i=n.options.items,f=i.length,r,u,t=0;t<f;t++)u=i[t].name,r=new co(u,n.options.labels),n.append(r)},reflow:function(n){var t=this,i=t.options,r=t.children.length;if(r===0){t.box=n.clone();return}if(i.position=="custom"){t.customLayout(n);return}i.position==d||i.position==g?t.horizontalLayout(n):t.verticalLayout(n)},getViewElements:function(n){var s=this,p=s.children,i=s.options,w=i.items,k=w.length,u=s.markerSize(),h=n.createGroup({zIndex:i.zIndex}),l=i.border||{},a,t,e,v,b,r,o;for(tt(h.children,f.fn.getViewElements.call(s,n)),o=0;o<k;o++)v=w[o].color,b=p[o],t=new c,r=b.box,e=e?e.wrap(r):r.clone(),t.x1=r.x1-u*2,t.x2=t.x1+u,t.y1=i.position==d||i.position==g?r.y1+u/2:r.y1+(r.height()-u)/2,t.y2=t.y1+u,h.children.push(n.createRect(t,{fill:v,stroke:v}));return p.length>0&&(a=y(i.padding),a.left+=u*2,e.pad(a),h.children.unshift(n.createRect(e,{stroke:l.width?l.color:"",strokeWidth:l.width,dashType:l.dashType,fill:i.background}))),[h]},verticalLayout:function(n){for(var r=this,f=r.options,l=r.children,v=l.length,t=l[0].box.clone(),e,o,u=y(f.margin),h=r.markerSize()*2,c,a,s=1;s<v;s++)c=r.children[s],c.box.alignTo(r.children[s-1].box,g),t.wrap(c.box);f.position==ct?(e=n.x1+h+u.left,o=(n.y2-t.height())/2,t.x2+=h+u.left+u.right):(e=n.x2-t.width()-u.right,o=(n.y2-t.height())/2,t.translate(e,o),t.x1-=h+u.left),r.translateChildren(e+f.offsetX,o+f.offsetY),a=t.width(),t.x1=i.max(n.x1,t.x1),t.x2=t.x1+a,t.y1=n.y1,t.y2=n.y2,r.box=t},horizontalLayout:function(n){for(var f=this,o=f.options,e=f.children,w=e.length,t=e[0].box.clone(),r=f.markerSize()*3,p,h,u=y(o.margin),l=e[0].box.width()+r,b=n.width(),i,a=0,s=1;s<w;s++)i=e[s],l+=i.box.width()+r,l>b-r?(i.box=new c(t.x1,t.y2,t.x1+i.box.width(),t.y2+i.box.height()),l=i.box.width()+r,a=i.box.y1):(i.box.alignTo(e[s-1].box,v),i.box.y2=a+i.box.height(),i.box.y1=a,i.box.translate(r,0)),t.wrap(i.box);p=(n.width()-t.width()+r)/2,o.position===d?(h=n.y1+u.top,t.y2=n.y1+t.height()+u.top+u.bottom,t.y1=n.y1):(h=n.y2-t.height()-u.bottom,t.y1=n.y2-t.height()-u.top-u.bottom,t.y2=n.y2),f.translateChildren(p+o.offsetX,h+o.offsetY),t.x1=n.x1,t.x2=n.x2,f.box=t},customLayout:function(n){for(var t=this,u=t.options,f=t.children,e=f.length,i=f[0].box.clone(),o=t.markerSize()*2,r=1;r<e;r++)i=t.children[r].box,i.alignTo(t.children[r-1].box,g),i.wrap(i);t.translateChildren(u.offsetX+o,u.offsetY),t.box=n},markerSize:function(){var t=this,n=t.children;return n.length>0?n[0].box.height()/2:0}}),wi=ku.extend({options:{type:"Category",categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:ii},zIndex:1,_labelsOnTicks:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(n){for(var t=this,u=t.options,r=u.vertical,o=r?t.box.height():t.box.width(),h=o/n,f=r?t.box.y1:t.box.x1,i=[],e=0;e<n;e++)i.push(s(f,dt)),f+=h;return i.push(r?t.box.y2:t.box.x2),u.reverse?i.reverse():i},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.categories.length)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.categories.length*2)},getSlot:function(n,t){var p=this,h=p.options,f=h.reverse,k=h.vertical,l=k?w:b,r=p.lineBox(),a=new c(r.x1,r.y1,r.x1,r.y1),d=r[l+(f?2:1)],g=k?r.height():r.width(),e=i.max(1,h.categories.length),v=(f?-1:1)*(g/e),u,s,y;return n=i.min(i.max(0,n),e),t=o(t)?t:n,t=i.max(i.min(e,t),n),u=d+n*v,s=u+v,y=t-n,(y>0||n==t&&e==n)&&(s=u+y*v),a[l+1]=f?s:u,a[l+2]=f?u:s,a},getCategory:function(n){var e=this,t=e.options,o=t.reverse,r=t.vertical,h=r?w:b,u=e.lineBox(),y=u[h+(o?2:1)],c=r?u.height():u.width(),l=i.max(1,t.categories.length-1),f=(o?-1:1)*(n[h]-y),p=l/c,a=s(f*p),v;return f<0||f>c?null:(v=r?l-a:a,t.categories[v])},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(n,t){var r=this,i=r.options,u=i.dataItems?i.dataItems[n]:null,f=o(i.categories[n])?i.categories[n]:"";return new ee(f,n,u,t)}}),af=ee.extend({formatValue:function(n,t){return nt.toString(n,t.format,t.culture)}}),vf=wi.extend({init:function(n){var t=this;n=n||{},r(n,{min:h(n.min),max:h(n.max)}),n=t.applyDefaults(n),t.groupCategories(n),wi.fn.init.call(t,n)},options:{type:ei,labels:{dateFormats:sf}},applyDefaults:function(n){for(var e=n.categories,s=e.length,t,i,o,u,f=0;f<s;f++)t=h(e[f]),t&&i&&t-i>0&&(o=t.getFullYear()-i.getFullYear()>0?hi:t.getMonth()-i.getMonth()>0?tr:t.getDay()-i.getDay()>0?ci:t.getHours()-i.getHours()>0?wr:we,u=u||o),i=t;return n.baseUnit||delete n.baseUnit,r({baseUnit:u||ci},n)},groupCategories:function(n){for(var w=this,f=h(n.categories),e=n.baseUnit,l=yt(n.min),a=yt(n.max),v=yt(cr(f)),y=yt(vr(f)),b=di(l||v,e),p=hu((a||y)+1,e),o,u=[],c=[],s,t,r,i=b;i<p;i=o){for(u.push(i),o=vt(i,1,e),s=[],t=0;t<f.length;t++)r=h(f[t]),r&&r>=i&&r<o&&s.push(t);c.push(s)}n.min=u[0],n.max=ui(u),n.categories=u,w.categoryMap=c},createAxisLabel:function(n,t){var i=this.options,r=i.dataItems?i.dataItems[n]:null,u=i.categories[n],f=t.dateFormats[i.baseUnit];return t.format=t.format||f,new af(u,n,r,t)}}),yf=ku.extend({init:function(n,t,i){var u=this;i=i||{},r(i,{min:h(i.min),max:h(i.max),axisCrossingValue:h(i.axisCrossingValue)}),i=u.applyDefaults(h(n),h(t),i),ku.fn.init.call(u,i)},options:{type:ei,labels:{dateFormats:sf}},applyDefaults:function(n,f,e){var k=this,v=e.min||n,w=e.max||f,o=e.baseUnit||k.timeUnits(w-v),l=nf[o],c=di(yt(v)-1,o),h=hu(yt(w)+1,o),b=e.majorUnit?e.majorUnit:t,s=b||u.ceil(u.autoMajorUnit(c.getTime(),h.getTime()),l)/l,y=vi(c,h,o),d=u.ceil(y,s),p=d-y,a=i.floor(p/2),g=p-a;return e.baseUnit||delete e.baseUnit,r({baseUnit:o,min:vt(c,-a,o),max:vt(h,g,o),minorUnit:s/5},e,{majorUnit:s})},range:function(){var n=this.options;return{min:n.min,max:n.max}},getDivisions:function(n){var t=this.options;return i.floor(vi(t.min,t.max,t.baseUnit)/n+1)},getTickPositions:function(n){for(var i=this,t=i.options,r=t.vertical,c=t.reverse,u=i.lineBox(),l=r?u.height():u.width(),a=vi(t.min,t.max,t.baseUnit),v=l/a,y=n*v,p=i.getDivisions(n),e=(r?-1:1)*(c?-1:1),k=e===1?1:2,f=u[(r?w:b)+k],o=[],h=0;h<p;h++)o.push(s(f,dt)),f=f+y*e;return o},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.majorUnit)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.minorUnit)},getSlot:function(n,t){return or.fn.getSlot.call(this,h(n),h(t))},getValue:function(n){var t=or.fn.getValue.call(this,n);return t!==null?h(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(n,t){var i=this.options,r=n*i.majorUnit,u=vt(i.min,r,i.baseUnit),f=t.dateFormats[i.baseUnit];return t.format=t.format||f,new af(u,n,null,t)},timeUnits:function(n){var t=wr;return n>=gu?t=hi:n>=tf?t=tr:n>=oi&&(t=ci),t}}),pf=f.extend({init:function(n){var t=this;f.fn.init.call(t,n)},options:{vertical:!1,gap:0,spacing:0},reflow:function(n){for(var h=this,e=h.options,c=e.vertical,o=c?w:b,s=h.children,l=e.gap,a=e.spacing,i=s.length,v=i+l+a*(i-1),r=(c?n.height():n.width())/v,u=n[o+1]+r*(l/2),f,t=0;t<i;t++)f=(s[t].box||n).clone(),f[o+1]=u,f[o+2]=u+r,s[t].reflow(f),t<i-1&&(u+=r*a),u+=r}}),gr=f.extend({init:function(n){var t=this;f.fn.init.call(t,n)},options:{vertical:!0,isReversed:!1},reflow:function(n){for(var u=this,o=u.options,f=o.vertical,h=f?b:w,l=f?w:b,a=n[l+2],e=u.children,s=u.box=new c,y=e.length,i,t,p=o.isReversed?f?g:ct:f?d:v,r=0;r<y;r++)i=e[r],t=i.box.clone(),t.snapTo(n,h),i.options&&(i.options.stackBase=a),r===0?s=u.box=t.clone():t.alignTo(e[r-1].box,p),i.reflow(t),s.wrap(t)}}),er={click:function(t,i){var r=this;t.trigger(he,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:n(i.target)})},hover:function(t,i){var r=this;t.trigger(bf,{value:r.value,category:r.category,series:r.series,dataItem:r.dataItem,element:n(i.target)})}},bu=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.value=n,i.options.id=p(),i.makeDiscoverable()},options:{color:ut,border:{width:1},vertical:!0,overlay:{gradient:"glass"},aboveAxis:!0,labels:{visible:!1},animation:{type:ti},opacity:1},render:function(){var n=this,f=n.value,u=n.options,t=u.labels,i=f,e;n._rendered||(n._rendered=!0,t.visible&&f&&(t.template?(e=st(t.template),i=e({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series})):t.format&&(i=bt(t.format,i)),n.append(new hf(i,r({vertical:u.vertical,id:p()},u.labels)))))},reflow:function(n){this.render();var t=this,r=t.options,u=t.children,i=u[0];t.box=n,i&&(i.options.aboveAxis=r.aboveAxis,i.reflow(n))},getViewElements:function(n){var i=this,t=i.options,s=t.vertical,h=t.border.width>0?{stroke:i.getBorderColor(),strokeWidth:t.border.width,dashType:t.border.dashType}:{},u=i.box,o=r({id:t.id,fill:t.color,fillOpacity:t.opacity,strokeOpacity:t.opacity,vertical:t.vertical,aboveAxis:t.aboveAxis,stackBase:t.stackBase,animation:t.animation,data:{modelId:t.modelId}},h),e=[];return u.width()>0&&u.height()>0&&(t.overlay&&(o.overlay=r({rotation:s?0:90},t.overlay)),e.push(n.createRect(u,o))),tt(e,f.fn.getViewElements.call(i,n)),e},highlightOverlay:function(n,t){var i=this,u=i.box;return t=r({data:{modelId:i.options.modelId}},t),n.createRect(u,t)},getBorderColor:function(){var i=this,t=i.options,r=t.color,n=t.border.color;return o(n)||(n=new uu(r).brightness(su).toHex()),n},tooltipAnchor:function(n,t){var o=this,f=o.options,i=o.box,s=f.vertical,h=f.aboveAxis,r,u;return s?(r=i.x2+si,u=h?i.y1:i.y2-t):f.isStacked?(r=i.x2-n,u=i.y1-t-si):(r=i.x2+si,u=i.y1),new e(r,u)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}}),ru,kt,fi,bi;r(bu.fn,er);var k=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.plotArea=n,i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var n=this;n.traverseDataPoints(rt(n.addValue,n))},addValue:function(n,t,i,r,u){var e=this,h=n.value,f,o=e.categoryPoints[i],s=e.seriesPoints[u];o||(e.categoryPoints[i]=o=[]),s||(e.seriesPoints[u]=s=[]),e.updateRange(h,i,r),f=e.createPoint(n,t,i,r,u),f&&(f.category=t,f.series=r,f.seriesIx=u,f.owner=e,f.dataItem=r.data[i]),e.points.push(f),s.push(f),o.push(f)},updateRange:function(n,t,r){var f=this,e=r.axis||a,u=f.valueAxisRanges[e];o(n)&&(u=f.valueAxisRanges[e]=u||{min:ot,max:gt},u.min=i.min(u.min,n),u.max=i.max(u.max,n))},seriesValueAxis:function(n){return this.plotArea.namedValueAxes[(n||{}).axis||a]},reflow:function(n){var t=this,s=t.options,o=s.invertAxes,h=t.plotArea,l=0,f=t.categorySlots=[],a=t.points,v=h.categoryAxis,i,e,r,u;t.traverseDataPoints(function(n,s,h,y){var p=n.value;i=t.seriesValueAxis(y),e=i.options.axisCrossingValue,r=a[l++],u=(t._stacks||[])[h],u&&(u[0].options.isReversed=i.options.reverse,u[1].options.isReversed=!i.options.reverse),r&&r.plotValue&&(p=r.plotValue);var w=t.categorySlot(v,h,i),b=t.valueSlot(i,p),k=o?b:w,d=o?w:b,g=new c(k.x1,d.y1,k.x2,d.y2),nt=i.options.reverse?p<e:p>=e;r&&(r.options.aboveAxis=nt,r.reflow(g)),f[h]||(f[h]=w)}),t.reflowCategories(f),t.box=n},reflowCategories:function(){},valueSlot:function(n,t){return n.getSlot(t)},categorySlot:function(n,t){return n.getSlot(t)},traverseDataPoints:function(n){for(var r=this,s=r.options,u=s.series,h=r.plotArea.options.categoryAxis.categories||[],c=br(u),l=r.valueFields(),a=r.bindableFields(),t,e,o,f,v=u.length,i=0;i<c;i++)for(t=0;t<v;t++)o=h[i],f=u[t],e=lt(f,i,l,a),n(e,o,i,f,t)},valueFields:function(){return["value"]},bindableFields:function(){return[]},formatPointValue:function(n,t){return bt(t,n.value)}}),rf=k.extend({init:function(n,t){var i=this;i._groupTotals={},i._groups=[],i._stacks=[],k.fn.init.call(i,n,t)},render:function(){var n=this;k.fn.render.apply(n),n.computeAxisRanges()},createPoint:function(n,i,u,f){var e=this,p=n.value,o=e.options,w=e.children,v=e.options.isStacked,y=r({},f.labels),h,s,c,l,a;return v&&y.position==at&&(y.position=dr),h=new bu(p,r({},{vertical:!o.invertAxes,overlay:f.overlay,labels:y,isStacked:v},f,{color:n.fields.color||t})),s=w[u],s||(s=new pf({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing}),e.append(s)),v?(c=e.getStackWrap(f,s),c.children.length===0?(l=new gr({vertical:!o.invertAxes}),a=new gr({vertical:!o.invertAxes}),e._stacks.push([l,a]),c.append(l,a)):(l=c.children[0],a=c.children[1]),p>0?l.append(h):a.append(h)):s.append(h),h},getStackWrap:function(n,t){var u=t.children,e=n.stack,i,r,o=u.length;if(typeof e===ki){for(r=0;r<o;r++)if(u[r]._stackGroup===e){i=u[r];break}}else i=u[0];return i||(i=new f,i._stackGroup=e,t.append(i)),i},updateRange:function(n,t,i){var r=this,f=r.options.isStacked,u=r.groupTotals(i.stack),e=u.positive,s=u.negative;o(n)&&(f?ff(n>0?e:s,t,n):k.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var n=this,r=n.options.isStacked,i,t;r&&(i=n.options.series[0].axis||a,t=n.categoryTotals(),n.valueAxisRanges[i]={min:cr(t.negative.concat(0)),max:vr(t.positive.concat(0))})},seriesValueAxis:function(n){var t=this,i=t.options;return k.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:n)},valueSlot:function(n,i){return n.getSlot(i,this.options.isStacked?0:t)},categorySlot:function(n,t,i){var o=this,f=o.options,u=n.getSlot(t),r,e;return f.isStacked&&(e=i.getSlot(0,0),r=f.invertAxes?b:w,u[r+1]=u[r+2]=e[r+1]),u},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},groupTotals:function(n){var t=this,i=typeof n===ki?n:"default",r=t._groupTotals[i];return r||(r=t._groupTotals[i]={positive:[],negative:[]},t._groups.push(i)),r},categoryTotals:function(){for(var r=this,u=r._groups,e=r._groupTotals,f,n,t={positive:[],negative:[]},o=u.length,i=0;i<o;i++)f=u[i],n=e[f],tt(t.positive,n.positive),tt(t.negative,n.negative);return t},bindableFields:function(){return["color"]}}),ye=be.extend({init:function(n){var t=this;be.fn.init.call(t,n)},options:{type:et,align:l,vAlign:l},getViewElements:function(n,t){var u=this,h=u.options,c=h.type,i=u.paddingBox,l,f,o=i.width()/2;return!h.visible||!u.hasBox()?[]:(f=r(u.elementStyle(),t),l=c===ys?n.createPolyline([new e(i.x1+o,i.y1),new e(i.x1,i.y2),new e(i.x2,i.y2)],!0,f):c===et?n.createCircle([s(i.x1+o,dt),s(i.y1+i.height()/2,dt)],o,f):n.createRect(i,f),[l])}}),ni=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.value=n,i.options.id=p(),i.makeDiscoverable()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:ut,size:8,type:et,border:{width:2},opacity:1},labels:{visible:!1,position:uf,margin:y(3),padding:y(4),animation:{type:ir,delay:ht}}},render:function(){var n=this,e=n.options,t=e.markers,i=e.labels,s=t.background,u=r({},t.border),f=n.value,h;n._rendered||(n._rendered=!0,o(u.color)||(u.color=new uu(s).brightness(su).toHex()),n.marker=new ye({id:n.options.id,visible:t.visible,type:t.type,width:t.size,height:t.size,background:s,border:u,opacity:t.opacity,zIndex:t.zIndex,animation:t.animation}),n.append(n.marker),i.visible&&(i.template?(h=st(i.template),f=h({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series})):i.format&&(f=n.formatValue(i.format)),n.label=new yr(f,r({id:p(),align:l,vAlign:l,margin:{left:5,right:5}},i)),n.append(n.label)))},markerBox:function(){return this.marker.box},reflow:function(n){var i=this,r=i.options,f=r.vertical,u=r.aboveAxis,t;i.render(),i.box=n,t=n.clone(),f?u?t.y1-=t.height():t.y2+=t.height():u?t.x1+=t.width():t.x2-=t.width(),i.marker.reflow(t),i.reflowLabel(t)},reflowLabel:function(n){var r=this,u=r.options,f=r.marker,i=r.label,t=u.labels.position;i&&(t=t===uf?d:t,t=t===bo?g:t,i.reflow(n),i.box.alignTo(f.box,t),i.reflow(i.box))},highlightOverlay:function(n,t){var i=this,u=i.marker;return t=r({data:{modelId:i.options.modelId}},t),u.getViewElements(n,r(t,{fill:u.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(n,t){var r=this,i=r.marker.box,u=r.options.aboveAxis;return new e(i.x2+si,u?i.y1-t:i.y2)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(ni.fn,er);var eo=ni.extend({init:function(n,t){var i=this;ni.fn.init.call(i,n,t),i.category=n.category},options:{labels:{position:l},highlight:{opacity:1,border:{width:1}}},highlightOverlay:function(n){var t=this,i=t.options,e=i.highlight,r=e.border.width,u=i.markers,f=t.box.center(),o=u.size/2-r/2,s=new uu(u.background).brightness(su).toHex();return n.createCircle([f.x,f.y],o,{data:{modelId:t.options.modelId},stroke:s,strokeWidth:r})},toggleHighlight:function(n){var i=this,u=i.options.highlight.opacity,r;i.highlighted=!i.highlighted,r=i.marker.getViewElements(n,{fillOpacity:i.highlighted?u:t})[0],r.refresh(yu.getElementById(this.options.id))}}),nr=f.extend({init:function(n,t,i){var r=this;f.fn.init.call(r),r.linePoints=n,r.series=t,r.seriesIx=i,r.options.id=p(),r.makeDiscoverable()},options:{},points:function(n){for(var f=this,r=f.linePoints.concat(n||[]),u=[],o=r.length,t,i=0;i<o;i++)t=r[i].markerBox().center(),u.push(new e(t.x,t.y));return u},getViewElements:function(n){var t=this,i=t.series;return f.fn.getViewElements.call(t,n),[n.createPolyline(t.points(),!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(n,t){var i=this,r=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,r)}}),kf={renderSegments:function(){for(var n=this,c=n.options,l=c.series,s=n.seriesPoints,u,a=s.length,e,t,o,f,h,i=[],r=0;r<a;r++){for(e=s[r],h=e.length,u=l[r],t=[],f=0;f<h;f++)o=e[f],o?t.push(o):u.missingValues!==os&&(t.length>1&&i.push(n.createSegment(t,u,r,ui(i))),t=[]);t.length>1&&i.push(n.createSegment(t,u,r,ui(i)))}n._segments=i,n.append.apply(n,i)},createSegment:function(n,t,i){return new nr(n,t,i)},getNearestPoint:function(n,t,r){for(var s=this,h=s.options.invertAxes,y=h?w:b,p=h?t:n,c=s.seriesPoints[r],l=ot,k=c.length,u,a,f,v,e=0;e<k;e++)u=c[e],u&&o(u.value)&&u.value!==null&&(a=u.box,f=i.abs(a.center()[y]-p),f<l&&(v=u,l=f));return v}},pi=k.extend({init:function(n,t){var i=this;i._stackAxisRange={min:ot,max:gt},i._categoryTotals=[],i.makeDiscoverable(),k.fn.init.call(i,n,t)},render:function(){var n=this;k.fn.render.apply(n),n.computeAxisRanges(),n.renderSegments()},createPoint:function(n,t,i,u){var s=this,f=n.value,c=s.options,l=c.isStacked,v=s.categoryPoints[i],h,a=0,e;if(!o(f)||f===null)if(l||u.missingValues===ws)f=0;else return null;return e=new ni(f,r({vertical:!c.invertAxes,markers:{border:{color:u.color}}},u)),l&&(h=ui(v),h&&(a=h.plotValue),e.plotValue=f+a),s.append(e),e},updateRange:function(n,t){var r=this,e=r.options.isStacked,u=r._stackAxisRange,f=r._categoryTotals;o(n)&&(e?(ff(f,t,n),u.min=i.min(u.min,cr(f)),u.max=i.max(u.max,vr(f))):k.fn.updateRange.apply(r,arguments))},computeAxisRanges:function(){var n=this,i=n.options.isStacked,t;i&&(t=n.options.series[0].axis||a,n.valueAxisRanges[t]=n._stackAxisRange)},getViewElements:function(n){var i=this,r=k.fn.getViewElements.call(i,n),t=n.createGroup({animation:{type:ue}});return t.children=r,[t]}});r(pi.fn,kf);var oo=nr.extend({init:function(n,t,i,r){var u=this;u.stackPoints=t,nr.fn.init.call(u,n,i,r)},points:function(){var t=this,r=t.parent,h=r.options.isStacked&&t.seriesIx>0,c=r.plotArea,o=r.options.invertAxes,s=c.categoryAxis.lineBox(),i=o?s.x1:s.y1,l=t.stackPoints,n=nr.fn.points.call(t,l),u,f;return!h&&n.length>1&&(u=n[0],f=ui(n),o?(n.unshift(new e(i,u.y)),n.push(new e(i,f.y))):(n.unshift(new e(u.x,i)),n.push(new e(f.x,i)))),n},getViewElements:function(n){var i=this,t=i.series,u=r({color:t.color,opacity:t.opacity},t.line);return f.fn.getViewElements.call(i,n),[n.createPolyline(i.points(),!0,{id:i.options.id,stroke:u.color,strokeWidth:u.width,strokeOpacity:u.opacity,dashType:u.dashType,fillOpacity:t.opacity,fill:t.color,stack:t.stack,data:{modelId:i.options.modelId},zIndex:-1})]}}),le=pi.extend({createSegment:function(n,t,i,r){var f=this,e=f.options,u;return e.isStacked&&i>0&&(u=r.linePoints.slice(0).reverse()),new oo(n,u,t,i)}}),ft=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.plotArea=n,i.xAxisRanges={},i.yAxisRanges={},i.points=[],i.seriesPoints=[],i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var n=this;n.traverseDataPoints(rt(n.addValue,n))},addValue:function(n,t){var r=this,i,u=n.x,f=n.y,e=t.seriesIx,s=r.seriesPoints[e];r.updateRange(n,t.series),o(u)&&u!==null&&o(f)&&f!==null&&(i=r.createPoint(n,t.series,e,t),i&&ur(i,t)),r.points.push(i),s.push(i)},updateRange:function(n,t){var f=this,e=n.x,s=n.y,h=t.xAxis||a,c=t.yAxis||a,r=f.xAxisRanges[h],u=f.yAxisRanges[c];o(e)&&e!==null&&(r=f.xAxisRanges[h]=r||{min:ot,max:gt},r.min=i.min(r.min,e),r.max=i.max(r.max,e)),o(s)&&s!==null&&(u=f.yAxisRanges[c]=u||{min:ot,max:gt},u.min=i.min(u.min,s),u.max=i.max(u.max,s))},createPoint:function(n,t){var i=this,u;return u=new ni(n,r({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:i.options.tooltip.format},labels:{format:i.options.labels.format}},t)),i.append(u),u},seriesAxes:function(n){var t=this.plotArea,i=n.xAxis||a,r=n.yAxis||a;return{x:t.namedXAxes[i],y:t.namedYAxes[r]}},reflow:function(n){var t=this,u=t.points,f=0,i,r;t.traverseDataPoints(function(n,e){i=u[f++],r=t.seriesAxes(e.series);var o=r.x.getSlot(n.x,n.x),s=r.y.getSlot(n.y,n.y),h=new c(o.x1,s.y1,o.x2,s.y2);i&&i.reflow(h)}),t.box=n},getViewElements:function(n){var i=this,r=f.fn.getViewElements.call(i,n),t=n.createGroup({animation:{type:ue}});return t.children=r,[t]},traverseDataPoints:function(n){for(var u=this,a=u.options,o=a.series,s=u.seriesPoints,v=u.valueFields(),y=u.bindableFields(),t,f,h,e,c,l,i=0;i<o.length;i++)for(f=o[i],h=s[i],h||(s[i]=[]),t=0;t<f.data.length;t++)e=lt(f,t,v,y),c=e.value,l=e.fields,n(c,r({pointIx:t,series:f,seriesIx:i,dataItem:f.data[t],owner:u},l))},valueFields:function(){return["x","y"]},bindableFields:function(){return[]},formatPointValue:function(n,t){var i=n.value;return bt(t,i.x,i.y)}}),sr=ft.extend({render:function(){var n=this;ft.fn.render.call(n),n.renderSegments()}});r(sr.fn,kf),ru=ft.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(n,t){var o=this,i,r=t.series,u=r.negativeValues,f=o.plotArea.options.seriesColors||[],e=!0;i=t.color||r.color||f[t.pointIx%f.length],n.size<0&&(i=u.color||i,e=u.visible),t.color=i,e&&ft.fn.addValue.call(this,n,t)},reflow:function(n){var t=this;t.updateBubblesSize(n),ft.fn.reflow.call(t,n)},createPoint:function(n,t,i,u){var f=this,e,h=t.data.length,o=u.pointIx*(ht/h),s={delay:o,duration:ht-o,type:fr};return e=new eo(n,r({tooltip:{format:f.options.tooltip.format},labels:{format:f.options.labels.format,animation:s}},t,{color:u.color,markers:{type:et,background:u.color,border:t.border,opacity:t.opacity,animation:s}})),f.append(e),e},updateBubblesSize:function(n){for(var s=this,p=s.options,h=p.series,y=i.min(n.width(),n.height()),f,u=0;u<h.length;u++){var c=h[u],e=s.seriesPoints[u],w=s.maxSize(e),tt=c.minSize||i.max(y*.02,10),k=c.maxSize||y*.2,l=tt/2,t=k/2,a=i.PI*l*l,d=i.PI*t*t,g=d-a,nt=g/w;for(f=0;f<e.length;f++){var v=e[f],b=i.abs(v.value.size)*nt,o=i.sqrt((a+b)/i.PI);r(v.options,{markers:{size:o*2,zIndex:t-o},labels:{zIndex:t-o+1}})}}},maxSize:function(n){for(var f=n.length,t=0,u,r=0;r<f;r++)u=n[r].value.size,t=i.max(t,i.abs(u));return t},valueFields:function(){return["x","y","size"]},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(n){var t=this;return f.fn.getViewElements.call(t,n)},formatPointValue:function(n,t){var i=n.value;return bt(t,i.x,i.y,i.size,n.category)}}),kt=f.extend({init:function(n,t,i){var r=this;r.value=n,r.sector=t,r.makeDiscoverable(),f.fn.init.call(r,i)},options:{color:ut,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:ds,margin:y(.5),align:et,zIndex:1,position:at},animation:{type:gi},highlight:{visible:!0,border:{width:1}}},render:function(){var n=this,f=n.options,t=f.labels,i=n.value,u;n._rendered||(n._rendered=!0,t.template?(u=st(t.template),i=u({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series,percentage:n.percentage})):t.format&&(i=bt(t.format,i)),t.visible&&(n.label=new yr(i,r({},t,{id:p(),align:l,vAlign:"",animation:{type:ir,delay:n.animationDelay}})),n.append(n.label)))},reflow:function(n){var t=this;t.render(),t.box=n,n.clone(),t.reflowLabel()},reflowLabel:function(){var f=this,t=f.sector.clone(),a=f.options,r=f.label,e=a.labels,y=e.distance,n,o,s=t.middle(),h,u;r&&(u=r.box.height(),h=r.box.width(),e.position==l?(t.r=i.abs((t.r-u)/2)+u,n=t.point(s),r.reflow(new c(n.x,n.y-u/2,n.x,n.y))):e.position==dr?(t.r=t.r-u/2,n=t.point(s),r.reflow(new c(n.x,n.y-u/2,n.x,n.y))):(n=t.clone().expand(y).point(s),n.x>=t.c.x?(o=n.x+h,r.orientation=v):(o=n.x-h,r.orientation=ct),r.reflow(new c(o,n.y-u,n.x,n.y))))},getViewElements:function(n){var i=this,u=i.sector,t=i.options,e=t.border||{},h=e.width>0?{stroke:e.color,strokeWidth:e.width,dashType:e.dashType}:{},o=[],s=t.overlay;return s&&(s=r({},t.overlay,{r:u.r,ir:u.ir,cx:u.c.x,cy:u.c.y,bbox:u.getBBox()})),i.value!==0&&o.push(i.createSegment(n,u,r({id:t.id,fill:t.color,overlay:s,fillOpacity:t.opacity,strokeOpacity:t.opacity,animation:r(t.animation,{delay:i.animationDelay}),data:{modelId:t.modelId},zIndex:t.zIndex},h))),tt(o,f.fn.getViewElements.call(i,n)),o},createSegment:function(n,t,i){return n.createSector(t,i)},highlightOverlay:function(n,t){var i=this,u=i.options.highlight||{},f=u.border||{},o=i.options.id+cs,e;return t=r({},t,{id:o}),i.value!==0&&(e=i.createSegment(n,i.sector,r({},t,{fill:u.color,fillOpacity:u.opacity,strokeOpacity:f.opacity,strokeWidth:f.width,stroke:f.color,data:{modelId:i.options.modelId}}))),e},tooltipAnchor:function(n,t){var r=n/2,u=t/2,s=i.sqrt(r*r+u*u),f=this.sector.clone().expand(s+si),o=f.point(f.middle());return new e(o.x-r,o.y-u)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}}),r(kt.fn,er),fi=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.plotArea=n,i.segments=[],i.seriesPoints=[],i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var n=this;n.traverseDataPoints(rt(n.addValue,n))},traverseDataPoints:function(n){for(var u=this,d=u.options,g=u.plotArea.options.seriesColors||[],ut=d.startAngle,rt=g.length,b=d.series,o=b.length,it=p(),tt=u.valueFields(),nt=u.bindableFields(),i,y,f,v,h,w,e,k,a,c,t,r=0;r<o;r++)for(i=b[r],h=i.data,a=u.pointsTotal(i),w=360/a,c=ut,r!=o-1&&i.labels.position==at&&(i.labels.position=l),t=0;t<h.length;t++)y=lt(i,t,tt,nt),e=y.value,f=y.fields,v=s(e*w,is),k=h.length!=1&&!!f.explode,i.color=f.color||g[t%rt],n(e,new so(null,0,0,c,v),{owner:u,category:f.category||"",categoryIx:t,series:i,seriesIx:r,dataItem:h[t],percentage:e/a,explode:k,visibleInLegend:f.visibleInLegend,overlay:{id:it+r},zIndex:o-r,animationDelay:u.animationDelay(t,r,o)}),c+=v},valueFields:function(){return["value"]},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(n,t,i){var u=this,r;r=new kt(n,t,i.series),r.options.id=p(),ur(r,i),u.append(r),u.segments.push(r)},legendItems:function(n){for(var u=this.segments,o=u.length,t,f=[],i,e,r=0;r<o;r++)t=u[r],t&&t.visibleInLegend!==!1&&(i=t.category||"",(n||{}).template&&(e=st(n.template),i=e({text:i,series:t.series,dataItem:t.dataItem,value:t.value})),f.push({name:i,color:t.options.color}));return f},pointsTotal:function(n){for(var r=this,u=r.valueFields(),f=n.data,e=f.length,i=0,t=0;t<e;t++)i+=lt(n,t,u).value;return i},reflow:function(n){var r=this,d=r.options,u=n.clone(),ft=5,a=i.min(u.width(),u.height()),nt=a/2,ht=a-a*.85,l=o(d.padding)?d.padding:ht,h=new c(u.x1,u.y1,u.x1+a,u.y1+a),ut=h.center(),rt=r.seriesConfigs||[],tt=u.center(),it=r.segments,st=it.length,et=d.series.length,k=[],y=[],g,b,f,s,t,p,w,ot;for(l=l>nt-ft?nt-ft:l,h.translate(tt.x-ut.x,tt.y-ut.y),p=nt-l,ot=new e(p+h.x1+l,p+h.y1+l),w=0;w<st;w++)s=it[w],t=s.sector,t.r=p,t.c=ot,b=s.seriesIx,rt.length&&(g=rt[b],t.ir=g.ir,t.r=g.r),b==et-1&&s.explode&&(t.c=t.clone().radius(t.r*.15).point(t.middle())),s.reflow(h),f=s.label,f&&f.options.position===at&&b==et-1&&(f.orientation===v?y.push(f):k.push(f));k.length>0&&(k.sort(r.labelComparator(!0)),r.leftLabelsReflow(k)),y.length>0&&(y.sort(r.labelComparator(!1)),r.rightLabelsReflow(y)),r.box=h},leftLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},rightLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},distanceBetweenLabels:function(n){var a=this,o=a.segments,h=o[o.length-1],f=h.sector,i=n[0].box,c,e=n.length-1,u=[],t,l=f.r+h.options.labels.distance,r;for(t=s(i.y1-(f.c.y-l-i.height()-i.height()/2)),u.push(t),r=0;r<e;r++)i=n[r].box,c=n[r+1].box,t=s(c.y1-i.y2),u.push(t);return t=s(f.c.y+l-n[e].box.y2-n[e].box.height()/2),u.push(t),u},distributeLabels:function(n,t){for(var u=this,o=n.length,i,f,e,r=0;r<o;r++)for(f=e=r,i=-n[r];i>0&&(f>=0||e<o);)i=u._takeDistance(n,r,--f,i),i=u._takeDistance(n,r,++e,i);u.reflowLabels(n,t)},_takeDistance:function(n,t,r,u){if(n[r]>0){var f=i.min(n[r],u);u-=f,n[r]-=f,n[t]+=f}return u},reflowLabels:function(n,t){var l=this,a=l.segments,y=a[a.length-1],r=y.sector,p=t.length,h=y.options.labels,s=h.distance,i=r.c.y-(r.r+s)-t[0].box.height(),f,u,e,o;for(n[0]+=2,o=0;o<p;o++)f=t[o],i+=n[o],e=f.box,u=l.hAlignLabel(e.x2,r.clone().expand(s),i,i+e.height(),f.orientation==v),f.orientation==v?(h.align!==et&&(u=r.r+r.c.x+s),f.reflow(new c(u+e.width(),i,u,i))):(h.align!==et&&(u=r.c.x-r.r-s),f.reflow(new c(u-e.width(),i,u,i))),i+=e.height()},getViewElements:function(n){for(var w=this,ot=w.options,k=ot.connectors,ut=w.segments,it,r,et=ut.length,l=4,d,g=[],u,c,ft,b,nt=0;nt<et;nt++)if(c=ut[nt],r=c.sector,d=r.middle(),b=c.label,ft={seriesId:c.seriesIx},b&&(u=[],b.options.position===at&&c.value!==0)){var y=b.box,rt=r.c,h=r.point(d),s=new e(y.x1,y.center().y),a,o,t;h=r.clone().expand(k.padding).point(d),u.push(h),b.orientation==v?(o=new e(y.x1-k.padding,y.center().y),t=wf(rt,h,s,o),s=new e(o.x-l,o.y),t=t||s,t.x=i.min(t.x,s.x),w.pointInCircle(t,r.c,r.r+l)||t.x<r.c.x?(a=r.c.x+r.r+l,c.options.labels.align!==ri?a<s.x?u.push(new e(a,h.y)):u.push(new e(h.x+l*2,h.y)):u.push(new e(a,h.y)),u.push(new e(s.x,o.y))):(t.y=o.y,u.push(t))):(o=new e(y.x2+k.padding,y.center().y),t=wf(rt,h,s,o),s=new e(o.x+l,o.y),t=t||s,t.x=i.max(t.x,s.x),w.pointInCircle(t,r.c,r.r+l)||t.x>r.c.x?(a=r.c.x-r.r-l,c.options.labels.align!==ri?a>s.x?u.push(new e(a,h.y)):u.push(new e(h.x-l*2,h.y)):u.push(new e(a,h.y)),u.push(new e(s.x,o.y))):(t.y=o.y,u.push(t))),u.push(o),it=n.createPolyline(u,!1,{id:p(),stroke:k.color,strokeWidth:k.width,animation:{type:ir,delay:c.animationDelay},data:{modelId:c.options.modelId}}),g.push(it)}return tt(g,f.fn.getViewElements.call(w,n)),g},labelComparator:function(n){return n=n?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*n}},hAlignLabel:function(n,t,r,u,f){var h=t.c.x,s=t.c.y,e=t.r,o=i.min(i.abs(s-r),i.abs(s-u));return o>e?n:h+i.sqrt(e*e-o*o)*(f?1:-1)},pointInCircle:function(n,t,i){return lr(t.x-n.x)+lr(t.y-n.y)<lr(i)},formatPointValue:function(n,t){return bt(t,n.value)},animationDelay:function(n){return n*ls}}),bi=kt.extend({options:{overlay:{gradient:"roundedGlass"},labels:{position:l},animation:{type:gi}},reflowLabel:function(){var i=this,n=i.sector.clone(),f=i.options,r=i.label,e=f.labels,t,o=n.middle(),u;r&&(u=r.box.height(),e.position==l?(n.r-=(n.r-n.ir)/2,t=n.point(o),r.reflow(new c(t.x,t.y-u/2,t.x,t.y))):kt.fn.reflowLabel.call(i))},createSegment:function(n,t,i){return n.createRing(t,i)}}),r(bi.fn,er);var se=fi.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(n,t,i){var u=this,r;r=new bi(n,t,i.series),r.options.id=p(),ur(r,i),u.append(r),u.segments.push(r)},reflow:function(n){var l=this,v=l.options,g=n.clone(),d=5,y=i.min(g.width(),g.height()),c=y/2,tt=y-y*.85,e=o(v.padding)?v.padding:tt,p=v.series,t,h=p.length,w=0,f,u,b,k=0,r,a,s=0,nt=0;for(l.seriesConfigs=[],e=e>c-d?c-d:e,u=c-e,r=0;r<h;r++)t=p[r],r===0&&o(t.holeSize)&&(f=t.holeSize,u-=t.holeSize),o(t.size)?u-=t.size:w++,o(t.margin)&&r!=h-1&&(u-=t.margin);for(o(f)||(nt=(c-e)/(h+.75),f=nt*.75,u-=f),s=f,r=0;r<h;r++)t=p[r],b=o(t.size)?t.size:u/w,s+=k,a=s+b,l.seriesConfigs.push({ir:s,r:a}),k=t.margin||0,s=a;fi.fn.reflow.call(l,n)},animationDelay:function(n,t,i){return n*fs+ht*(t+1)/(i+1)}}),pt=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t),i.series=n,i.charts=[],i.options.legend.items=[],i.axes=[],i.options.id=p(),i.makeDiscoverable(),i.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:ii,width:0},legend:{}},appendChart:function(n){var t=this;t.charts.push(n),t.addToLegend(n),t.append(n)},addToLegend:function(n){var e=n.options.series,s=e.length,u=[],i,t,r,o,f=this.options.legend.labels||{};if(n.legendItems)u=n.legendItems(f);else for(i=0;i<s;i++)t=e[i],t.visibleInLegend!==!1&&(r=t.name||"",f.template&&(o=st(f.template),r=o({text:r,series:t})),u.push({name:r,color:t.color}));tt(this.options.legend.items,u)},reflow:function(n){var t=this,i=t.options.plotArea,r=y(i.margin);t.box=n.clone(),t.box.unpad(r),t.axes.length>0&&(t.reflowAxes(),t.box=t.axisBox()),t.reflowCharts()},axisCrossingValues:function(n,t){for(var u=n.options,i=[].concat(u.axisCrossingValue),f=t.length-i.length,e=i[0]||0,r=0;r<f;r++)i.push(e);return i},alignAxisTo:function(n,t,i,r){var u=n.getSlot(i,i),f=n.options.reverse?2:1,e=t.getSlot(r,r),o=t.options.reverse?2:1;n.reflow(n.box.translate(e[b+o]-u[b+f],e[w+o]-u[w+f]))},alignAxes:function(n,t){for(var u=this,f=n[0],e=t[0],o=u.axisCrossingValues(f,t),h=u.axisCrossingValues(e,n),c,l,a,y,i,r=0;r<t.length;r++)i=t[r],u.alignAxisTo(i,f,h[r],o[r]),s(i.lineBox().x1)===s(f.lineBox().x1)&&(c&&i.reflow(i.box.alignTo(c.box,ct).translate(-i.options.margin,0)),c=i),s(i.lineBox().x2)===s(f.lineBox().x2)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),u.alignAxisTo(i,f,h[r],o[r]),l&&i.reflow(i.box.alignTo(l.box,v).translate(i.options.margin,0)),l=i);for(r=0;r<n.length;r++)i=n[r],u.alignAxisTo(i,e,o[r],h[r]),s(i.lineBox().y1)===s(e.lineBox().y1)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),u.alignAxisTo(i,e,o[r],h[r]),a&&i.reflow(i.box.alignTo(a.box,d).translate(0,-i.options.margin)),a=i),s(i.lineBox().y2,dt)===s(e.lineBox().y2,dt)&&(y&&i.reflow(i.box.alignTo(y.box,g).translate(0,i.options.margin)),y=i)},axisBox:function(){for(var r=this,n=r.axes,i=n[0].box.clone(),u=n.length,t=1;t<u;t++)i.wrap(n[t].box);return i},shrinkAxes:function(){for(var t=this,u=t.box,f=t.axisBox(),o=f.height()-u.height(),s=f.width()-u.width(),e=t.axes,n,i,h=e.length,r=0;r<h;r++)n=e[r],i=n.options.vertical,n.reflow(n.box.shrink(i?0:s,i?o:0))},shrinkAdditionalAxes:function(n,t){for(var l=this,s=l.axes,a=n[0],v=t[0],f=a.lineBox().clone().wrap(v.lineBox()),h,c,r,e,u,y=s.length,o=0;o<y;o++)r=s[o],e=r.options.vertical,u=r.lineBox(),h=i.max(0,u.x2-f.x2)+i.max(0,f.x1-u.x1),c=i.max(0,u.y2-f.y2)+i.max(0,f.y1-u.y1),r.reflow(r.box.shrink(e?0:h,e?c:0))},fitAxes:function(){for(var n=this,r=n.axes,u=n.box,f=n.axisBox(),e=u.x1-f.x1,o=u.y1-f.y1,t,s=r.length,i=0;i<s;i++)t=r[i],t.reflow(t.box.translate(e,o))},reflowAxes:function(){for(var n=this,t=n.axes,i=it(t,function(n){return!n.options.vertical}),r=it(t,function(n){return n.options.vertical}),f=t.length,u=0;u<f;u++)t[u].reflow(n.box);n.alignAxes(i,r),n.shrinkAdditionalAxes(i,r),n.alignAxes(i,r),n.shrinkAxes(),n.alignAxes(i,r),n.fitAxes()},reflowCharts:function(){for(var n=this,i=n.charts,u=i.length,r=n.box,t=0;t<u;t++)i[t].reflow(r);n.box=r},renderGridLines:function(n,t,i){var a=this,r=t.options,u=r.vertical,v=t.getSlot(r.axisCrossingValue),y=s(v[u?"y1":"x1"]),o=i.lineBox(),h=o[u?"x1":"y1"],c=o[u?"x2":"y2"],l=t.getMajorTickPositions(),f=[],e=function(n,t){return{pos:n,options:t}};return r.majorGridLines.visible&&(f=yi(l,function(n){return e(n,r.majorGridLines)})),r.minorGridLines.visible&&(f=f.concat(yi(t.getMinorTickPositions(),function(n){if(r.majorGridLines.visible){if(!wt(n,l))return e(n,r.minorGridLines)}else return e(n,r.minorGridLines)}))),yi(f,function(t){var f={data:{modelId:a.options.modelId},strokeWidth:t.options.width,stroke:t.options.color,dashType:t.options.dashType},r=s(t.pos);return y===r&&i.options.line.visible?null:u?n.createLine(h,r,c,r,f):n.createLine(r,h,r,c,f)})},getViewElements:function(n){var t=this,r=t.options,o=r.plotArea,u=t.axisY,e=t.axisX,s=u?t.renderGridLines(n,u,e):[],h=e?t.renderGridLines(n,e,u):[],c=f.fn.getViewElements.call(t,n),i=o.border||{},l=[n.createRect(t.box,{fill:o.background,zIndex:-2}),n.createRect(t.box,{id:r.id,data:{modelId:r.modelId},stroke:i.width?i.color:"",strokeWidth:i.width,fill:ut,fillOpacity:0,zIndex:-1,dashType:i.dashType})];return[].concat(s,h,c,l)}}),oe=pt.extend({init:function(n,t){var i=this,u=r({},i.options,t);i.namedValueAxes={},i.valueAxisRangeTracker=new wu(u.valueAxis),n.length>0&&(i.invertAxes=wt(n[0].type,[ti,au,kr])),pt.fn.init.call(i,n,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(){var n=this,t=n.series;n.createCategoryAxis(),n.categoryAxis.options.type===ei&&n.aggregateDateSeries(),t=n.series,n.createAreaChart(it(t,function(n){return wt(n.type,[eu,kr])})),n.createBarChart(it(t,function(n){return wt(n.type,[ti,ri])})),n.createLineChart(it(t,function(n){return wt(n.type,[tu,au])})),n.createValueAxes()},aggregateDateSeries:function(){for(var s=this,b=s.series,w=[],l=s.categoryAxis,d=l.options.categories,g=l.categoryMap,t,e,f,n,v,y,p,u,i,k,h,a,c=0;c<b.length;c++){for(f=b[c],n=r({},f),p=s.seriesAggregate(n),v=n.data,n.data=y=[],t=0;t<d.length;t++){for(e=g[t],u=[],i=0;i<e.length;i++)k=e[i],h=lt(f,k,["value"]),a=h.value,o(a)&&u.push(h.value);y[t]=u.length>1?p(u,f):v[e[0]]}w.push(n)}s.series=w},seriesAggregate:function(n){var t=n.aggregate;return typeof t===ki&&(t=li[t]),t||li.max},appendChart:function(n){var t=this,u=t.options,f=n.options.series,r=u.categoryAxis.categories,e=i.max(0,br(f)-r.length);tt(r,new Array(e)),t.valueAxisRangeTracker.update(n.valueAxisRanges),pt.fn.appendChart.call(t,n)},createBarChart:function(n){if(n.length!==0){var t=this,i=n[0],r=new rf(t,{series:n,invertAxes:t.invertAxes,isStacked:i.stack&&n.length>1,gap:i.gap,spacing:i.spacing});t.appendChart(r)}},createLineChart:function(n){if(n.length!==0){var t=this,i=n[0],r=new pi(t,{invertAxes:t.invertAxes,isStacked:i.stack&&n.length>1,series:n});t.appendChart(r)}},createAreaChart:function(n){if(n.length!==0){var t=this,i=n[0],r=new le(t,{invertAxes:t.invertAxes,isStacked:i.stack&&n.length>1,series:n});t.appendChart(r)}},createCategoryAxis:function(){var n=this,o=n.options,i=n.invertAxes,u=o.categoryAxis,f=u.categories,s=f.length,e=u.type,h=f[0]instanceof Date,t;t=e===ei||!e&&h?new vf(r({vertical:i},u)):new wi(r({vertical:i,axisCrossingValue:i?s:0},u)),i?n.axisY=t:n.axisX=t,n.categoryAxis=t,n.axes.push(t),n.append(n.categoryAxis)},createValueAxes:function(){var n=this,s=n.options,t,e=n.invertAxes,i,u,o=n.namedValueAxes,h=[].concat(s.valueAxis),f;rr(h,function(){u=this.name||a,t=n.valueAxisRangeTracker.query(u),i=o[u]=new or(t.min,t.max,r({vertical:!e},this)),n.axes.push(i),n.append(i)}),f=o[a]||n.axes[0],e?n.axisX=f:n.axisY=f},click:function(t,i){for(var h=this,c=t._eventCoordinates(i),l=new e(c.x,c.y),a=h.categoryAxis,v=h.axes,p=v.length,r,u,y=a.getCategory(l),f=[],s=0;s<p;s++)r=v[s],r!=a&&(u=r.getValue(l),u!==null&&f.push(u));o(y)&&f.length>0&&t.trigger(cu,{element:n(i.target),category:y,value:iu(f)})}}),wu=vu.extend({init:function(n){var t=this;t.axisRanges={},t.axisOptions=[].concat(n),t.defaultRange={min:0,max:1}},update:function(n){var e=this,o=e.axisRanges,s=e.axisOptions,t,r,u,h,f,c=s.length;if(n)for(u=0;u<c;u++)h=s[u],f=h.name||a,t=o[f],r=n[f],r&&(o[f]=t=t||{min:ot,max:gt},t.min=i.min(t.min,r.min),t.max=i.max(t.max,r.max))},query:function(n){var t=this;return t.axisRanges[n]||r({},t.defaultRange)}}),re=pt.extend({init:function(n,t){var i=this,u=r({},i.options,t);i.namedXAxes={},i.namedYAxes={},i.xAxisRangeTracker=new wu(u.xAxis),i.yAxisRangeTracker=new wu(u.yAxis),pt.fn.init.call(i,n,t)},options:{xAxis:{},yAxis:{}},render:function(){var n=this,t=n.series;n.createScatterChart(it(t,function(n){return n.type===ae})),n.createScatterLineChart(it(t,function(n){return n.type===df})),n.createBubbleChart(it(t,function(n){return n.type===fr})),n.createAxes()},appendChart:function(n){var t=this;t.xAxisRangeTracker.update(n.xAxisRanges),t.yAxisRangeTracker.update(n.yAxisRanges),pt.fn.appendChart.call(t,n)},createScatterChart:function(n){var t=this;n.length>0&&t.appendChart(new ft(t,{series:n}))},createScatterLineChart:function(n){var t=this;n.length>0&&t.appendChart(new sr(t,{series:n}))},createBubbleChart:function(n){var t=this;n.length>0&&t.appendChart(new ru(t,{series:n}))},createXYAxis:function(n,t){for(var i=this,h=n.name||a,y=t?i.namedYAxes:i.namedXAxes,p=t?i.yAxisRangeTracker:i.xAxisRangeTracker,f=p.query(h),u=r({},n,{vertical:t}),e,c=i.series,o,l,v,s=0;s<c.length;s++)if(o=c[s],o[t?"yAxis":"xAxis"]==u.name){l=lt(o,0,["x","y"]).value,v=l[t?"y":"x"]instanceof Date;break}e=u.type===ei||!u.type&&v?new yf(f.min,f.max,u):new or(f.min,f.max,u),y[h]=e,i.append(e),i.axes.push(e)},createAxes:function(){var n=this,t=n.options,i=[].concat(t.xAxis),r=[].concat(t.yAxis);rr(i,function(){n.createXYAxis(this,!1)}),rr(r,function(){n.createXYAxis(this,!0)}),n.axisX=n.namedXAxes.primary||n.namedXAxes[i[0].name],n.axisY=n.namedYAxes.primary||n.namedYAxes[r[0].name]},click:function(t,i){for(var a=this,h=t._eventCoordinates(i),v=new e(h.x,h.y),c=a.axes,y=c.length,r,u=[],f=[],o,l,s=0;s<y;s++)r=c[s],l=r.options.vertical?f:u,o=r.getValue(v),o!==null&&l.push(o);u.length>0&&f.length>0&&t.trigger(cu,{element:n(i.target),x:iu(u),y:iu(f)})}}),lu=pt.extend({render:function(){var n=this,t=n.series;n.createPieChart(t)},createPieChart:function(n){var i=this,t=n[0],r=new fi(i,{series:n,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors});i.appendChart(r)}}),gf=lu.extend({render:function(){var n=this,t=n.series;n.createDonutChart(t)},createDonutChart:function(n){var i=this,t=n[0],r=new se(i,{series:n,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors});i.appendChart(r)}}),de=no.extend({options:{easing:"easeOutElastic",duration:ht},setup:function(){var n=this.element.config,t;this.endRadius=n.r,t=this.startRadius=n.ir||0,n.r=t},step:function(n){var t=this.endRadius,i=this.element.config,r=this.startRadius;i.r=ce(r,t,n)}}),ro=no.extend({options:{easing:"easeOutElastic",duration:ht},setup:function(){var n=this.element;n.endRadius=n.radius,n.radius=0},step:function(n){var t=this.element,i=t.endRadius;t.radius=ce(0,i,n)}}),io=ar(ti,ao),fo=ar(gi,de),to=ar(fr,ro),lf=vu.extend({init:function(n,t,i){var u=this;u.options=r({},u.options,i),u.view=n,u.viewElement=t},options:{fill:ut,fillOpacity:.2,stroke:ut,strokeWidth:1,strokeOpacity:.2},show:function(n){var t=this,i=t.view,f=t.viewElement,r,u;t.hide(),n.highlightOverlay&&(r=n.highlightOverlay(i,t.options),r&&(u=i.renderElement(r),f.appendChild(u),t.overlayElement=u,t.visible=!0)),n.toggleHighlight&&(n.toggleHighlight(i),t.point=n,t.visible=!0)},hide:function(){var n=this,t=n.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete n.overlayElement),n.point&&(n.point.toggleHighlight(n.view),delete n.point),n.visible=!1}}),hr=vu.extend({init:function(t,i){var u=this;u.options=r({},u.options,i),i=u.options,u.chartElement=t,u.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},u.template=hr.template,u.template||(u.template=hr.template=vo("<div class='"+po+"tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),u.element=n(u.template(u.options)).appendTo(t)},options:{background:ii,color:ut,border:{width:3},opacity:1,animation:{duration:150}},show:function(n){var t=this;t.point=n,t.showTimeout=setTimeout(rt(t._show,t),vs)},_show:function(){var i=this,n=i.point,f=i.element,a=i.options,c=i.chartPadding,e,l,u,t,o,h;n&&(u=n.value.toString(),t=r({},i.options,n.options.tooltip),t.template?(l=st(t.template),u=l({value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,percentage:n.percentage})):t.format&&(u=n.formatValue(t.format)),f.html(u),e=n.tooltipAnchor(f.outerWidth(),f.outerHeight()),o=s(e.y+c.top)+"px",h=s(e.x+c.left)+"px",i.visible||i.element.css({top:o,left:h}),i.element.css({backgroundColor:t.background,borderColor:t.border.color||n.options.color,color:t.color,opacity:t.opacity,borderWidth:t.border.width}).stop(!0,!0).show().animate({left:h,top:o},a.animation.duration),i.visible=!0)},hide:function(){var n=this;clearTimeout(n.showTimeout),n.visible&&(n.element.fadeOut(),n.point=null,n.visible=!1)}}),li={max:function(n){return i.max.apply(i,n)},min:function(n){return i.min.apply(i,n)},sum:function(n){for(var r=n.length,i=0,t=0;t<r;t++)i+=n[t];return i},count:function(n){return n.length},avg:function(n){return li.sum(n)/li.count(n)}};ur(n.easing,{easeOutElastic:function(n,t,r,u){var o=1.70158,f=0,e=u;return n===0?r:n===1?r+u:(f||(f=.5),e<i.abs(u)?(e=u,o=f/4):o=f/(2*i.PI)*i.asin(u/e),e*i.pow(2,-10*n)*i.sin((n*1-o)*1.1*i.PI/f)+u+r)}}),ai.cache={},u.ui.plugin(rs),r(u,{Aggregates:li,AreaChart:le,Bar:bu,BarAnimationDecorator:io,BarChart:rf,BarLabel:hf,BubbleAnimationDecorator:to,BubbleChart:ru,CategoricalPlotArea:oe,CategoryAxis:wi,ClusterLayout:pf,DateCategoryAxis:vf,DateValueAxis:yf,DonutChart:se,DonutPlotArea:gf,DonutSegment:bi,Highlight:lf,Legend:cf,LineChart:pi,LinePoint:ni,PieAnimation:de,PieAnimationDecorator:fo,PieChart:fi,PiePlotArea:lu,PieSegment:kt,ScatterChart:ft,ScatterLineChart:sr,ShapeElement:ye,StackLayout:gr,Tooltip:hr,XYPlotArea:re,addDuration:vt,categoriesCount:br,ceilDate:hu,duration:vi,floorDate:di,bindPoint:lt,toDate:h})}(jQuery),function(){function ht(n,i,r){var u=c(n.from)?n.from:ri,f=c(n.to)?n.to:ui;return n.from=t.max(t.min(f,u),i),n.to=t.min(t.max(f,u),r),n}var vt=document,t=Math,v=window.kendo,yt=v.ui.Widget,i=v.deepExtend,n=v.dataviz,ni=n.Axis,r=n.Box2D,e=n.ChartElement,d=n.NumericAxis,ti=n.Pin,ii=n.Ring,ai=n.RootElement,bt=n.RotationAnimation,lt=n.BarIndicatorAnimatin,wt=n.ArrowAnimation,l=n.append,g=n.animationDecorator,pt=n.autoMajorUnit,at=n.getSpacing,c=n.defined,w=n.rotatePoint,s=n.Point2D,h=n.round,ci=n.uniqueId,a="arrow",ct="arrowPointer",o="barIndicator",f="#000",k=n.COORD_PRECISION,ui=Number.MAX_VALUE,ri=-Number.MAX_VALUE,ot=200,p=.5,tt=200,hi=60,si=60,oi=t.PI/180,u="inside",ei="outside",nt="radialPointer",fi=90,b=e.extend({init:function(n,i){var r=this,u=n.options;e.fn.init.call(r,i),i=r.options,i.id||(i.id=ci()),i.fill=i.color,r.scale=n,i.value=c(i.value)?t.min(t.max(i.value,u.min),u.max):u.min},options:{color:f},value:function(n){var r=this,i=r.options,f=i.value,u=r.scale.options;if(arguments.length===0)return f;i._oldValue=i.value,i.value=t.min(t.max(n,u.min),u.max),r.repaint()}}),it=b.extend({options:{shape:"needle",cap:{size:.05},arrow:{width:16,height:14},animation:{type:nt,speed:150}},reflow:function(){var i=this,f=i.options,e=i.scale,u=e.ring,n=u.c,t=u.r*f.cap.size;i.box=new r(n.x-t,n.y-t,n.x+t,n.y+t)},repaint:function(){var f=this,n=f.scale,u=f.options,t=f.elements[0],e=u.animation,o=n.slotAngle(n.options.min),s=n.slotAngle(u._oldValue)-o,r=t._animation;t.options.rotation[0]=n.slotAngle(u.value)-o,r&&r.abort(),e.transitions===!1?t.refresh(vt.getElementById(u.id)):(r=t._animation=new bt(t,i(e,{startAngle:s,reverse:n.options.reverse})),r.setup(),r.play())},_renderNeedle:function(n,t,i,r){var e=this,u=e.options,o=e.scale,f=o.ring.r*u.cap.size;return[n.createPolyline([w((t.x1+t.x2)/2,t.y1+o.options.minorTicks.size,i.x,i.y,r),w(i.x-f/2,i.y,i.x,i.y,r),w(i.x+f/2,i.y,i.x,i.y,r)],!0,u),n.createCircle([i.x,i.y],f,{fill:u.cap.color||u.color})]},_renderArrow:function(n,t,i,r){var e=this,u=e.options,h=e.scale,f=h.ring.clone(),o=5,s=u.arrow,c=s.height;return f.ir=f.r-o,[n.createPin(new ti({origin:w((t.x1+t.x2)/2,t.y1+c,i.x,i.y,r),height:s.height,radius:o,rotation:r,arcAngle:180}),u),n.createRing(f,{fill:u.color})]},renderPointer:function(n){var e=this,t=e.scale,c=t.ring,o=c.c,s=c.r,u=e.options,h=new r(o.x-s,o.y-s,o.x+s,o.y+s),f=h.center(),l=t.slotAngle(t.options.min),v=fi-l;return u.animation!==!1&&i(u.animation,{startAngle:0,center:f,reverse:t.options.reverse}),i(u,{rotation:[t.slotAngle(u.value)-l,f.x,f.y]}),u.shape==a?e._renderArrow(n,h,f,v):e._renderNeedle(n,h,f,v)},getViewElements:function(n){var t=this,i=t.renderPointer(n);return t.elements=i,i}}),rt=d.extend({init:function(n){var t=this,i=t.options;i.majorUnit=pt(t.options.min,t.options.max),ni.fn.init.call(t,n),t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10},options:{min:0,max:100,majorTicks:{size:15,align:u,color:f,width:p,visible:!0},minorTicks:{size:10,align:u,color:f,width:p,visible:!0},startAngle:-30,endAngle:210,labels:{position:u,padding:2}},reflow:function(i){var r=this,u=r.options,o=i.center(),f=t.min(i.height(),i.width())/2,e=r.ring||new n.Ring(o,f-u.majorTicks.size,f,u.startAngle,u.endAngle-u.startAngle);r.ring=e,r.box=e.getBBox(),r.arrangeLabels()},slotAngle:function(n){var t=this.options,r=t.startAngle,e=t.reverse,u=t.endAngle-r,i=t.min,f=t.max;return e?t.endAngle-(n-i)/(f-i)*u:(n-i)/(f-i)*u+r},renderTicks:function(n){function f(t,i,u,f,o){var h=r.tickAngles(t,i),s,c,l,a=o/i,v=h.length;if(f)for(s=0;s<v;s++)s%a!=0&&(l=t.point(h[s]),c=t.point(h[s],!0),e.push(n.createLine(c.x,c.y,l.x,l.y,{align:!1,stroke:u.color,strokeWidth:u.width})))}var r=this,e=[],o=r.ring,i=o.clone(),t=r.options,s=t.minorTicks.size;return f(o,t.majorUnit,t.majorTicks,t.majorTicks.visible),t.labels.position==u?i.radius(i.r-s,!0):i.radius(i.ir+s),f(i,t.minorUnit,t.minorTicks,t.minorTicks.visible,t.majorUnit),e},arrangeLabels:function(){var n=this,f=n.options,i=n.ring.clone(),tt=n.tickAngles(i,f.majorUnit),d=n.labels,nt=d.length,a=f.labels,g=a.padding,b=n.options.rangeDistance=i.r*.05,k=f.rangeSize=f.rangeSize||i.r*.1,it=f.ranges||[],h,s,v,y,o,p,e,w,l,c;for(a.position===u&&it.length&&(i.r-=k+b,i.ir-=k+b),e=0;e<nt;e++)o=d[e],h=o.box.width()/2,s=o.box.height()/2,y=tt[e],v=y*oi,c=a.position===u,p=i.point(y,c),w=p.x+t.cos(v)*(h+g)*(c?1:-1),l=p.y+t.sin(v)*(s+g)*(c?1:-1),o.reflow(new r(w-h,l-s,w+h,l+s)),n.box.wrap(o.box)},tickAngles:function(n,t){var c=this,r=c.options,l=r.reverse,a=r.max-r.min,o=n.angle,i=n.startAngle,s=a/t,u=o/s,f=[],e;for(l&&(i+=o,u=-u),e=0;e<s;e++)f.push(h(i,k)),i+=u;return h(i)<=r.endAngle&&f.push(i),f},renderRanges:function(n){var t=this,o=[],r,f,s=t.rangeSegments(),h=s.length,c=t.options.reverse,i,e,u;if(h)for(e=t.getRadius(),u=0;u<h;u++)i=s[u],r=t.slotAngle(i[c?"to":"from"]),f=t.slotAngle(i[c?"from":"to"]),f-r!=0&&o.push(n.createRing(new ii(t.ring.c,e.inner,e.outer,r,f-r),{fill:i.color,fillOpacity:i.opacity,zIndex:-1}));return o},rangeSegments:function(){function e(n,t,i){return{from:n,to:t,color:i}}var v=this,r=v.options,o=r.ranges||[],s=o.length,n,h,c=r.rangePlaceholderColor,i=[],t,l=r.min,a=r.max,u,f;if(s)for(i.push(e(l,a,c)),u=0;u<s;u++)for(n=ht(o[u],l,a),h=i.length,f=0;f<h;f++)if(t=i[f],t.from<=n.from&&n.from<=t.to){i.push(e(n.from,n.to,n.color)),t.from<=n.to&&n.to<=t.to&&i.push(e(n.to,t.to,c)),t.to=n.from;break}return i},getRadius:function(){var e=this,r=e.options,t=r.rangeSize,u=r.rangeDistance,i=e.ring,f,n;return r.labels.position===ei?(n=i.ir-u,f=n-t):(n=i.r,f=n-t,i.r-=t+u,i.ir-=t+u),{inner:f,outer:n}},getViewElements:function(n){var t=this,i=e.fn.getViewElements.call(t,n);return l(i,t.renderRanges(n)),l(i,t.renderTicks(n)),i}}),ut=e.extend({init:function(n){e.fn.init.call(this,n),this.render()},options:{margin:{},background:"",border:{color:f,width:0},minorTicks:{align:u}},reflow:function(n){var t=this,i=t.scale,r=t.pointer,u;i.reflow(n),u=i.box.clone(),r.scale=i,r.reflow(),u.wrap(r.box),t.box=u,t.fitScale(n),t.alignScale(n)},alignScale:function(n){var t=this,r=t.box.center(),u=n.center(),e=r.x-u.x,o=r.y-u.y,i=t.scale,f=t.pointer;i.ring.c.x-=e,i.ring.c.y-=o,i.reflow(n),f.reflow(),t.box=i.box.clone().wrap(f.box)},fitScale:function(n){for(var i=this,v=i.scale,c=v.ring,y=i.box,l=t.abs(i.getDiff(y,n)),o=h(l,k),s=h(-l,k),r,u,f,e,a=0;a<100;){if(a++,o!=e&&(r=i.getPlotBox(o,n,c),0<=r&&r<=2))break;if(s!=e&&(f=i.getPlotBox(s,n,c),0<=f&&f<=2))break;if(e=r>0&&f>0?o*2:r<0&&f<0?s*2:h((o+s)/2||1,k),u=i.getPlotBox(e,n,c),0<=u&&u<=2)break;u>0?(s=e,f=u):(o=e,r=u)}},getPlotBox:function(n,t,i){var r=this,u=r.scale,f=r.pointer;return i=i.clone(),i.r+=n,i.ir+=n,u.ring=i,u.reflow(t),f.scale=u,f.reflow(),r.box=u.box.clone().wrap(f.box),r.getDiff(r.box,t)},getDiff:function(n,i){return t.min(i.width()-n.width(),i.height()-n.height())},render:function(){var n=this,t=n.options,r;r=n.scale=new rt(t.scale),n.append(n.scale),n.pointer=new it(r,i({},t.pointer,{animation:{transitions:t.transitions}})),n.append(n.pointer)}}),ft=d.extend({init:function(n){var t=this,r=t.options;r.majorUnit=pt(t.options.min,t.options.max),n=i({},r,n),n=i({},n,{labels:{mirror:n.mirror}}),d.fn.init.call(t,0,1,n)},options:{min:0,max:50,minorUnit:1,majorTicks:{size:15,align:u,color:f,width:p,visible:!0},minorTicks:{size:10,align:u,color:f,width:p,visible:!0},line:{width:p},labels:{position:u,padding:2},mirror:!1,_alignLines:!1},renderRanges:function(n){var u=this,t=u.options,p=t.min,w=t.max,c=t.ranges||[],s=t.vertical,l=t.labels.mirror,a=[],v=c.length,i,f,e,o,y=t.rangeSize||t.minorTicks.size/2,h;if(v)for(o=0;o<v;o++)i=ht(c[o],p,w),h=u.getSlot(i.from,i.to),f=s?u.lineBox():h,e=s?h:u.lineBox(),s?f.x1-=y*(l?-1:1):e.y2+=y*(l?-1:1),a.push(n.createRect(new r(f.x1,e.y1,f.x2,e.y2),{fill:i.color,fillOpacity:i.opacity}));return a},getViewElements:function(n){var t=this,i=d.fn.getViewElements.call(t,n);return l(i,t.renderRanges(n)),i}}),et=b.extend({init:function(n,t){var r=this;b.fn.init.call(r,n,t),r.options=i({size:r.pointerSize(),track:{visible:c(t.track)}},r.options)},options:{shape:o,track:{border:{width:1}},color:f,border:{width:1},opacity:1,margin:at(3),animation:{type:o},visible:!0},repaint:function(){var r=this,f=r.scale,n=r.options,t=r.element,u=t._animation;u&&u.abort(),n.animation.transitions===!1?(r.getViewElements(r._view),t.points=r.element.points,t.refresh(vt.getElementById(n.id))):(n.animation=i({},n.animation,{endPosition:f.getSlot(f.options.min,n.value),reverse:f.options.reverse}),u=t._animation=n.shape===a?new wt(t,n.animation):new lt(t,n.animation),u.setup(),u.play())},reflow:function(){var f=this,u=f.options,l=f.scale,n=l.lineBox(),h=u.track.size||u.size,c=u.size/2,e=l.options.mirror,v=at(u.margin),y=l.options.vertical,t=y?v[e?"left":"right"]:v[e?"bottom":"top"],a,s,i;t=e?-t:t,y?(i=new r(n.x1+t,n.y1,n.x1+t,n.y2),e?i.x1-=h:i.x2+=h,u.shape!==o&&(s=new r(n.x2+t,n.y1-c,n.x2+t,n.y2+c),a=s)):(i=new r(n.x1,n.y1-t,n.x2,n.y1-t),e?i.y2+=h:i.y1-=h,u.shape!==o&&(s=new r(n.x1-c,n.y1-t,n.x2+c,n.y1-t),a=s)),f.trackBox=i,f.pointerRangeBox=s,f.box=a||i.clone().pad(u.border.width)},renderPointer:function(n){var u=this,r=u.scale,t=u.options,s=c(t.border)?{stroke:t.border.width?t.border.color||t.color:"",strokeWidth:t.border.width,dashType:t.border.dashType}:{},f,e=i({fill:t.color,fillOpacity:t.opacity,animation:i(t.animation,{startPosition:r.getSlot(r.options.min,t.value),size:t.size,vertical:r.options.vertical,reverse:r.options.reverse}),id:t.id,zIndex:2,align:!1},s),o=u.pointerShape(t.value);return t.shape===a?(e.animation.type=ct,f=n.createPolyline(o,!0,e)):f=n.createRect(o,e),f},pointerShape:function(n){var h=this,v=h.options,f=h.scale,t=f.getSlot(n,f.options.min),e=v.size,u=h.pointerRangeBox,y=f.options.vertical,c=e/2,l,p=f.options.mirror?-1:1,w=f.options.reverse,i,o;return v.shape==a?y?(i=w?"y2":"y1",l=[new s(u.x1,t[i]-c),new s(u.x1-p*e,t[i]),new s(u.x1,t[i]+c)]):(i=w?"x1":"x2",l=[new s(t[i]-c,u.y2),new s(t[i],u.y2+p*e),new s(t[i]+c,u.y2)]):(o=h.trackBox,l=y?new r(o.x1,t.y1,o.x1+e,t.y2):new r(t.x1,o.y1,t.x2,o.y1+e)),l},pointerSize:function(){var n=this,r=n.options,u=n.scale,t=u.options.majorTicks.size,i;return i=r.shape===a?t*.6:t*.3,h(i)},renderTrack:function(n){var r=this,u=r.options,i=u.track,t=i.border||{},f=r.trackBox.clone().pad(t.width||0);return n.createRect(f,{fill:i.color,fillOpacity:i.opacity,stroke:t.width?t.color||i.color:"",strokeWidth:t.width,dashType:t.dashType,align:!1})},getViewElements:function(n){var t=this,r=t.options,i=[];return t.element=t.renderPointer(n),i.push(t.element),r.track.visible&&(r.shape===o||r.shape==="")&&i.push(t.renderTrack(n)),t._view=n,l(i,b.fn.getViewElements.call(t,n)),i}}),st=e.extend({init:function(n){e.fn.init.call(this,n),this.render()},options:{plotArea:{margin:{},background:"",border:{color:f,width:0}},pointer:{},scale:{}},reflow:function(n){var t=this,i=t.scale,r=t.pointer;i.reflow(n),r.reflow(n),t.box=t.getBox(n),t.alignElements(),t.shrinkElements()},shrinkElements:function(){var r=this,u=r.scale,f=r.pointer,i=u.box.clone(),e=f.box,n=u.options.vertical?"y":"x";i[n+1]+=t.max(i[n+1]-e[n+1],0),i[n+2]-=t.max(e[n+2]-i[n+2],0),u.reflow(i),f.reflow(r.box)},getBox:function(n){var f=this,e=f.scale,o=f.pointer,u=n.center(),i=o.box.clone().wrap(e.box),t;return e.options.vertical?(t=i.width()/2,i=new r(u.x-t,n.y1,u.x+t,n.y2)):(t=i.height()/2,i=new r(n.x1,u.y-t,n.x2,u.y+t)),i},alignElements:function(){var u=this,i=u.scale,e=u.pointer,f=i.box,o=e.box.clone().wrap(i.box),n=u.box,t;i.options.vertical?(t=n.center().x-o.center().x,i.reflow(new r(f.x1+t,n.y1,f.x2+t,n.y2))):(t=n.center().y-o.center().y,i.reflow(new r(n.x1,f.y1+t,n.x2,f.y2+t))),e.reflow(u.box)},render:function(){var n=this,t=n.options,r;r=n.scale=new ft(t.scale),n.append(n.scale),n.pointer=new et(r,i({},t.pointer,{animation:{transitions:t.transitions}})),n.append(n.pointer)},getViewElements:function(n){var i=this,r=i.options.plotArea,f=e.fn.getViewElements.call(i,n),t=r.border||{},u=[n.createRect(i.box,{fill:r.background,stroke:t.width?t.color:"",strokeWidth:t.width,dashType:t.dashType})];return l(u,f),u}}),y=yt.extend({init:function(t,r){var u=this,e,o,f,s=n.ui.themes.gauge||{};yt.fn.init.call(u,t),u.wrapper=u.element,e=i({},u.options,r),f=e.theme,o=f?s[f]||s[f.toLowerCase()]:{},u.options=i({},o,e),u.element.addClass("k-gauge"),u.redraw()},options:{plotArea:{},theme:"default"},value:function(n){if(arguments.length===0)return this._pointers[0].value();this._pointers[0].value(n)},redraw:function(){var t=this,i=t.element,r=t._model=t._getModel(),u=n.ui.defaultView(),f;t._plotArea=r._plotArea,u&&(f=t._view=u.fromModel(r),i.css("position","relative"),t._viewElement=f.renderTo(i[0]))},svg:function(){var t=this._getModel(),i=n.SVGView.fromModel(t);return i.render()},_createModel:function(){var n=this,t=n.options,r=n._getSize();return new ai(i({width:r.width,height:r.height,transitions:t.transitions},t.gaugeArea))},_getSize:function(){var r=this,i=r.element,n=i.width(),t=i.height();return n||(n=tt),t||(t=ot),{width:n,height:t}}}),gt=y.extend({init:function(t,i){var r=this;y.fn.init.call(r,t,i),v.notify(r,n.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},_getModel:function(){var t=this,r=t.options,n=t._createModel(),i;return i=n._plotArea=new ut(r),t._pointers=[i.pointer],n.append(i),n.reflow(),n}}),dt=y.extend({init:function(t,i){var r=this;y.fn.init.call(r,t,i),v.notify(r,n.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},_getModel:function(){var t=this,r=t.options,n=t._createModel(),i;return i=n._plotArea=new st(r),t._pointers=[i.pointer],n.append(i),n.reflow(),n},_getSize:function(){var i=this,r=i.element,n=r.width(),t=r.height(),u=i.options.scale.vertical;return n||(n=u?hi:tt),t||(t=u?ot:si),{width:n,height:t}}}),kt=g(nt,bt),li=g(ct,wt),vi=g(o,lt);n.ui.plugin(gt),n.ui.plugin(dt),i(n,{Gauge:y,RadialGaugePlotArea:ut,LinearGaugePlotArea:st,RadialPointer:it,LinearPointer:et,LinearScale:ft,RadialScale:rt,RadialPointerAnimationDecorator:kt,ArrowPointerAnimationDecorator:li,BarIndicatorAnimationDecorator:vi})}(jQuery),function(){function ft(n){this.view=n}function ot(n){this.view=n}function fi(n){return h.round(n)+.5}function ui(n,t){var u=[],r,i;if(n=n?n.toLowerCase():null,n&&n!=pt&&t){for(r=gt[n],i=0;i<r.length;i++)u.push(r[i]*t);return"stroke-dasharray='"+u.join(" ")+"' "}return""}var g=jQuery,y=document,h=Math,st=window.kendo,ri=st.Class,n=st.dataviz,ii=n.Box2D,ti=n.ExpandAnimation,lt=n.Point2D,ht=n.ViewBase,i=n.ViewElement,r=st.deepExtend,at=n.defined,s=n.round,t=n.renderTemplate,et=n.rotatePoint,ct=n.uniqueId,bt="butt",wt=n.CLIP,f=n.COORD_PRECISION,ni=n.DEFAULT_WIDTH,si=n.DEFAULT_HEIGHT,dt=n.DEFAULT_FONT,vt="none",ei="radial",pt="solid",yt="square",b="http://www.w3.org/2000/svg",gt={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},kt="transparent",oi="undefined",e=ht.extend({init:function(i){var r=this;ht.fn.init.call(r,i),r.decorators.push(new ft(r),new ot(r)),n.ui.Chart&&r.decorators.push(new n.BarAnimationDecorator(r),new n.PieAnimationDecorator(r),new n.BubbleAnimationDecorator(r)),r.decorators.push(new ut(r),new n.FadeAnimationDecorator(r)),n.Gauge&&r.decorators.push(new n.RadialPointerAnimationDecorator(r),new n.ArrowPointerAnimationDecorator(r),new n.BarIndicatorAnimationDecorator(r)),r.template=e.template,r.template||(r.template=e.template=t("<?xml version='1.0' ?><svg xmlns='"+b+"' version='1.1' width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: block;'>#= d.renderDefinitions() ##= d.renderContent() #</svg>"))},options:{width:ni,height:si,idPrefix:""},renderTo:function(t){var i=this,r;return i.setupAnimations(),n.renderSVG(t,i.render()),r=t.firstElementChild,i.alignToScreen(r),i.playAnimations(),r},renderDefinitions:function(){var t=this,n=ht.fn.renderDefinitions.call(t);return n.length>0?"<defs>"+n+"</defs>":""},renderElement:function(t){var i=y.createElement("div");return n.renderSVG(i,"<?xml version='1.0' ?><svg xmlns='"+b+"' version='1.1'>"+t.render()+"</svg>"),i.firstElementChild.firstChild},createGroup:function(n){return this.decorate(new d(n))},createText:function(n,t){return this.decorate(new p(n,t))},createRect:function(n,t){return this.decorate(new v(n.points(),!0,t))},createLine:function(n,t,i,r,u){return this.decorate(new v([new lt(n,t),new lt(i,r)],!1,u))},createPolyline:function(n,t,i){return this.decorate(new v(n,t,i))},createCircle:function(n,t,i){return this.decorate(new k(n,t,i))},createSector:function(n,t){return this.decorate(new w(n,t))},createRing:function(n,t){return this.decorate(new o(n,t))},createPin:function(n,t){return this.decorate(new it(n,t))},createGradient:function(n){return n.type===ei?at(n.ir)?new c(n):new a(n):new l(n)},alignToScreen:function(n){var t;try{t=n.getScreenCTM?n.getScreenCTM():null}catch(f){}if(t){var i=-t.e%1,r=-t.f%1,u=n.style;(i!==0||r!==0)&&(u.left=i+"px",u.top=r+"px")}}}),ut,rt;e.fromModel=function(n){var t=new e(n.options);return[].push.apply(t.children,n.getViewElements(t)),t},e.available=n.supportsSVG,e.preference=100,n.ui.registerView(e);var p=i.extend({init:function(n,r){var u=this;i.fn.init.call(u,r),u.content=n,u.template=p.template,u.template||(u.template=p.template=t("<text #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #' fill='#= d.options.color #'>#= d.content #</text>"))},options:{x:0,y:0,baseline:0,font:dt,size:{width:0,height:0},fillOpacity:1},refresh:function(n){var t=this.options;g(n).attr({"fill-opacity":t.fillOpacity})},clone:function(){var n=this;return new p(n.content,r({},n.options))},renderRotation:function(){var u=this,n=u.options,t=n.size,i=s(n.x+t.normalWidth/2,f),r=s(n.y+t.normalHeight/2,f),e=s(n.x+t.width/2,f),o=s(n.y+t.height/2,f),h=s(e-i,f),c=s(o-r,f);return"transform='translate("+h+","+c+") rotate("+n.rotation+","+i+","+r+")'"}}),u=i.extend({init:function(n){var r=this;i.fn.init.call(r,n),r.template=u.template,r.template||(r.template=u.template=t("<path #= d.renderAttr(\"id\", d.options.id) ##= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0]},refresh:function(n){var t=this.options;g(n).attr({d:this.renderPoints(),"fill-opacity":t.fillOpacity,"stroke-opacity":t.strokeOpacity})},clone:function(){var n=this;return new u(r({},n.options))},renderPoints:function(){},renderDashType:function(){var t=this,n=t.options;return ui(n.dashType,n.strokeWidth)},renderLinecap:function(){var n=this.options.dashType;return n&&n!=pt?bt:yt},renderFill:function(){var n=this.options.fill;return n&&n!==kt?n:vt}}),v=u.extend({init:function(n,t,i){var r=this;u.fn.init.call(r,i),r.points=n,r.closed=t},renderPoints:function(){for(var n=this,t=n.points,f=t.length,u=function(t){var i=n.options.rotation;return et(t.x,t.y,i[1],i[2],-i[0])},i="M"+n._print(u(t[0])),r=1;r<f;r++)i+=" "+n._print(u(t[r]));return n.closed&&(i+=" z"),i},clone:function(){var n=this;return new v(r([],n.points),n.closed,r({},n.options))},_print:function(n){var u=this,t=u.options,i=t.strokeWidth,e=t.align!==!1&&i&&i%2!=0,r=e?fi:s;return r(n.x,f)+" "+r(n.y,f)}}),o=u.extend({init:function(n,i){var r=this;u.fn.init.call(r,i),r.pathTemplate=o.pathTemplate,r.pathTemplate||(r.pathTemplate=o.pathTemplate=t("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),r.config=n||{}},renderPoints:function(){var r=this,n=r.config,i=n.startAngle,t=n.angle+i,o=t-i>180,s=h.max(n.r,0),c=h.max(n.ir,0),u=n.c,l=n.point(i),a=n.point(i,!0),f,e;return t=t-i==360?t-.002:t,f=n.point(t),e=n.point(t,!0),r.pathTemplate({firstOuterPoint:l,secondOuterPoint:f,isReflexAngle:o,r:s,ir:c,cx:u.x,cy:u.y,firstInnerPoint:a,secondInnerPoint:e})},clone:function(){var n=this;return new o(r({},n.config),r({},n.options))}}),it=u.extend({init:function(i,r){var f=this;u.fn.init.call(f,r),f.pathTemplate=it.pathTemplate,f.pathTemplate||(f.pathTemplate=it.pathTemplate=t("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),f.config=i||new n.Pin},renderPoints:function(){var i=this,t=i.config,r=t.radius,e=h.PI/180,u=t.arcAngle,o=r*h.sin(u*e/2),s=t.height-r*(1-h.cos(u*e/2)),n=t.origin,c={x:n.x+o,y:n.y-s},l={x:n.x-o,y:n.y-s},f=function(r,u){var f=i.options.rotation,e=t.rotation;return r=et(r.x,r.y,f[1],f[2],-f[0]),u&&(r=et(r.x,r.y,n.x,n.y,e)),r};return n=f(n),i.pathTemplate({origin:n,as:f(c,!0),ae:f(l,!0),r:r,isReflexAngle:u>180})}}),w=o.extend({init:function(n,i){var r=this;o.fn.init.call(r,n,i),r.pathTemplate=w.pathTemplate,r.pathTemplate||(r.pathTemplate=w.pathTemplate=t("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:yt},clone:function(){var n=this;return new w(r({},n.config),r({},n.options))}}),k=i.extend({init:function(n,r,u){var f=this;i.fn.init.call(f,u),f.center=n,f.radius=r,f.template=k.template,f.template||(f.template=k.template=t("<circle #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() #cx='#= d.center[0] #' cy='#= d.center[1] #' r='#= d.radius #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(n){g(n).attr({r:h.max(0,this.radius),"fill-opacity":this.options.fillOpacity})}}),d=i.extend({init:function(n){var r=this;i.fn.init.call(r,n),r.template=d.template,r.template||(r.template=d.template=t('<g#= d.renderAttr("id", d.options.id) ##= d.renderDataAttributes() ##= d.renderAttr("clip-path", d.options.clipPath) #>#= d.renderContent() #</g>'))}}),nt=i.extend({init:function(n){var r=this;i.fn.init.call(r,n),r.template=nt.template,r.template||(r.template=nt.template=t('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>'))}}),tt=i.extend({init:function(n){var t=this;i.fn.init.call(t,n)},options:{id:""},renderStops:function(){for(var t=this,i=t.options.stops,f=t.stopTemplate,e=i.length,r,u="",n=0;n<e;n++)r=i[n],u+=f(r);return u}}),l=tt.extend({init:function(n){var i=this;tt.fn.init.call(i,n),i.template=l.template,i.stopTemplate=l.stopTemplate,i.template||(i.template=l.template=t("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),i.stopTemplate=l.stopTemplate=t("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),a=tt.extend({init:function(n){var i=this;tt.fn.init.call(i,n),i.template=a.template,i.stopTemplate=a.stopTemplate,i.template||(i.template=a.template=t("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),i.stopTemplate=a.stopTemplate=t("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),c=i.extend({init:function(n){var r=this;i.fn.init.call(r,n),r.template=c.template,r.stopTemplate=c.stopTemplate,r.template||(r.template=c.template=t("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),r.stopTemplate=c.stopTemplate=t("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var o=this,i=o.options,u=i.stops,s=o.stopTemplate,f=i.ir/i.r*100,t,h=u.length,n,e="";for(n=r({},u[0]),n.offset=f,e+=s(n),t=1;t<h;t++)n=r({},u[t]),n.offset=n.offset*(100-f)+f,e+=s(n);return e}});ft.prototype={decorate:function(n){var u=this,f=u.view,i=n.options,e=i.id,r,t;return i.overlay?(n.options.id=ct(),r=f.createGroup(),t=n.clone(),r.children.push(n,t),t.options.id=e,t.options.fill=i.overlay,r):n}},ot.prototype={decorate:function(n){var i=this,t=n.options;return t.fill=i.getPaint(t.fill),n},getPaint:function(n){var f=this,r=f.view,o=f.baseUrl(),e=r.definitions,i,u,t;return n&&at(n.gradient)?(i=r.buildGradient(n),i?(u=i.id,t=e[u],t||(t=r.createGradient(i),e[u]=t),"url("+o+"#"+t.options.id+")"):vt):n},baseUrl:function(){var r=y.getElementsByTagName("base")[0],t="",n=y.location.href,i=n.indexOf("#");return r&&!g.browser.msie&&(i!==-1&&(n=n.substring(0,i)),t=n),t}},ut=ri.extend({init:function(n){this.view=n,this.clipId=ct()},decorate:function(n){var e=this,t=e.view,i=e.clipId,r=t.options,o=n.options.animation,s=t.definitions,u=s[i],f;return o&&o.type===wt&&r.transitions&&(u||(u=new nt({id:i}),f=t.createRect(new ii(0,0,r.width,r.height),{id:ct()}),u.children.push(f),s[i]=u,t.animations.push(new ti(f,{size:r.width}))),n.options.clipPath="url(#"+i+")"),n}}),rt=function(n,t){n.innerHTML=t},function(){var t="<svg xmlns='"+b+"'></svg>",n=y.createElement("div"),i=typeof DOMParser!=oi;n.innerHTML=t,i&&n.firstChild.namespaceURI!=b&&(rt=function(n,t){var i=new DOMParser,r=i.parseFromString(t,"text/xml"),u=y.adoptNode(r.documentElement);n.innerHTML="",n.appendChild(u)})}(),r(n,{renderSVG:rt,SVGCircle:k,SVGClipAnimationDecorator:ut,SVGClipPath:nt,SVGGradientDecorator:ot,SVGGroup:d,SVGLine:v,SVGLinearGradient:l,SVGOverlayDecorator:ft,SVGPath:u,SVGRadialGradient:a,SVGDonutGradient:c,SVGRing:o,SVGSector:w,SVGText:p,SVGView:e})}(jQuery),function(){function ft(n){this.view=n}function at(n){this.view=n}function bt(){return c.browser.msie&&!gt()&&typeof window.performance!="undefined"}function yt(n,t,i){var r=new ht(n),u=new ht(t),f=et(r.r,u.r,i),e=et(r.g,u.g,i),o=et(r.b,u.b,i);return new ht(f,e,o).toHex()}function et(n,t,i){return s.round(i*t+(1-i)*n)}function pt(n,t){var u=t.stops,s=u.length,f=r({},t),i,e,o;for(f.stops=[],i=0;i<s;i++)e=u[i],o=f.stops[i]=r({},u[i]),o.color=yt(n,e.color,e.opacity),o.opacity=0;return f}var c=jQuery,p=document,s=Math,ot=window.kendo,kt=ot.Class,r=ot.deepExtend,n=ot.dataviz,ht=n.Color,oi=n.Box2D,ct=n.Point2D,dt=n.ExpandAnimation,wt=n.ViewBase,t=n.ViewElement,b=n.defined,i=n.renderTemplate,ni=n.uniqueId,st=n.rotatePoint,u=n.round,gt=n.supportsSVG,ut="#000",si=n.CLIP,lt=n.COORD_PRECISION,ei=n.DEFAULT_WIDTH,fi=n.DEFAULT_HEIGHT,vt=n.DEFAULT_FONT,ui="object",ri="linear",ii="radial",ti="transparent",f=wt.extend({init:function(t){var r=this;wt.fn.init.call(r,t),r.decorators.push(new ft(r),new at(r)),n.ui.Chart&&r.decorators.push(new n.BarAnimationDecorator(r),new n.PieAnimationDecorator(r),new n.BubbleAnimationDecorator(r)),r.decorators.push(new rt(r)),bt()||r.decorators.push(new n.FadeAnimationDecorator(r)),n.Gauge&&r.decorators.push(new n.RadialPointerAnimationDecorator(r),new n.ArrowPointerAnimationDecorator(r),new n.BarIndicatorAnimationDecorator(r)),r.template=f.template,r.template||(r.template=f.template=i("<div style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</div>"))},options:{width:ei,height:fi},renderTo:function(n){var t=this;return p.namespaces&&p.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),t.setupAnimations(),n.innerHTML=t.render(),t.playAnimations(),n.firstChild},renderElement:function(n){var t=p.createElement("div"),i;return t.style.display="none",p.body.appendChild(t),t.innerHTML=n.render(),i=t.firstChild,p.body.removeChild(t),i},createText:function(n,t){return this.decorate(t&&t.rotation?new tt(n,t):new w(n,t))},createRect:function(n,t){return this.decorate(new l(n.points(),!0,t))},createLine:function(n,t,i,r,u){return this.decorate(new l([new ct(n,t),new ct(i,r)],!1,u))},createPolyline:function(n,t,i){return this.decorate(new l(n,t,i))},createCircle:function(n,t,i){return this.decorate(new d(n,t,i))},createSector:function(n,t){return this.decorate(new a(n,t))},createRing:function(n,t){return this.decorate(new o(n,t))},createGroup:function(n){return this.decorate(new g(n))},createGradient:function(n){var t=b(n.cx)&&b(n.cy)&&b(n.bbox);return n.type===ii&&t?new k(n):n.type===ri?new it(n):ut}}),rt;f.fromModel=function(n){var t=new f(n.options);return[].push.apply(t.children,n.getViewElements(t)),t},f.available=function(){return c.browser.msie},f.preference=50,n.ui.registerView(f);var w=t.extend({init:function(n,r){var u=this;t.fn.init.call(u,r),u.content=n,u.template=w.template,u.template||(u.template=w.template=i("<kvml:textbox #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap;'>#= d.content #</kvml:textbox>"))},options:{x:0,y:0,font:vt,color:ut,fillOpacity:1},refresh:function(n){c(n).css("visibility",this.renderVisibility())},clone:function(){var n=this;return new w(n.content,r({},n.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"}}),tt=t.extend({init:function(n,r){var u=this;t.fn.init.call(u,r),u.content=n,u.template=tt.template,u.template||(u.template=tt.template=i("<kvml:shape #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='#= d.content #' /></kvml:shape>"))},options:{x:0,y:0,font:vt,color:ut,size:{width:0,height:0}},renderPath:function(){var s=this,n=s.options,i=n.size.width,h=n.size.height,r=n.x+i/2,t=n.y+h/2,f=-n.rotation,e=st(n.x,t,r,t,f),o=st(n.x+i,t,r,t,f);return"<kvml:path textpathok='true' v='m "+u(e.x)+","+u(e.y)+" l "+u(o.x)+","+u(o.y)+"' />"}}),y=t.extend({init:function(n){var r=this;t.fn.init.call(r,n),r.template=y.template,r.template||(r.template=y.template=i('<kvml:stroke on=\'#= !!d.options.stroke #\' #= d.renderAttr("color", d.options.stroke) ##= d.renderAttr("weight", d.options.strokeWidth) ##= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(n){try{n.opacity=this.options.strokeOpacity}catch(t){}}}),v=t.extend({init:function(n){var r=this;t.fn.init.call(r,n),r.template=v.template,r.template||(r.template=v.template=i('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var n=this.options.fill;return!!n&&n.toLowerCase()!==ti},refresh:function(n){try{n.opacity=this.options.fillOpacity}catch(t){}}}),e=t.extend({init:function(n){var r=this;t.fn.init.call(r,n),r.template=e.template,r.template||(r.template=e.template=i("<kvml:shape #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() #' coordorigin='0 0' #= d.renderCoordsize() # ><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),r.stroke=new y(r.options),r.fill=new v(r.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0]},renderCoordsize:function(){var n=this.options.align===!1?1e4:1;return"coordsize='"+n+" "+n+"'"},renderSize:function(){var n=this.options.align===!1?100:1;return"width:"+n+"px; height:"+n+"px;"},render:function(){var n=this;return n.fill.options.fillOpacity=n.options.fillOpacity,n.stroke.options.strokeOpacity=n.options.strokeOpacity,t.fn.render.call(n)},renderPoints:function(){},refresh:function(n){if(n){var i=this,t=c(n),r=t[0].parentNode,u=i.fill,f=i.stroke;r&&(t.find("path")[0].v=this.renderPoints(),u.options=f.options=i.options,u.refresh(t.find("fill")[0]),f.refresh(t.find("stroke")[0]),r.style.cssText=r.style.cssText)}}}),l=e.extend({init:function(n,t,i){var r=this;e.fn.init.call(r,i),r.points=n,r.closed=t},renderPoints:function(){var n=this,r=n.points,t,u=r.length,f=function(t){var i=n.options.rotation;return st(t.x,t.y,i[1],i[2],-i[0])},i="m "+n._print(f(r[0]));if(u>1)for(i+=" l ",t=1;t<u;t++)i+=n._print(f(r[t])),t<u-1&&(i+=", ");return n.closed&&(i+=" x"),i},clone:function(){var n=this;return new l(r([],n.points),n.closed,r({},n.options))},_print:function(n){var t=this.options.align===!1?100:1;return s.round(n.x*t)+","+s.round(n.y*t)}}),o=e.extend({init:function(n,t){var r=this;e.fn.init.call(r,t),r.pathTemplate=o.pathTemplate,r.pathTemplate||(r.pathTemplate=o.pathTemplate=i("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),r.config=n},renderPoints:function(){function f(n){return new ct(u(n.x),u(n.y))}var c=this,n=c.config,e=s.max(u(n.r),0),o=s.max(u(n.ir),0),i=u(n.c.x),r=u(n.c.y),h=n.startAngle,t=n.angle+h,p={l:i-e,t:r-e,r:i+e,b:r+e},w={l:i-o,t:r-o,r:i+o,b:r+o},l,a,v,y;return t=t-h>359.9?t-.22:t,l=f(n.point(h)),a=f(n.point(h,!0)),y=f(n.point(t)),v=f(n.point(t,!0)),c.pathTemplate({obb:p,ibb:w,osp:l,isp:a,oep:y,iep:v,cx:i,cy:r})},clone:function(){var n=this;return new o(r({},n.config),r({},n.options))}}),a=o.extend({init:function(n,t){var r=this;o.fn.init.call(r,n,t),r.pathTemplate=a.pathTemplate,r.pathTemplate||(r.pathTemplate=a.pathTemplate=i("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var n=this;return new a(r({},n.config),r({},n.options))}}),d=t.extend({init:function(n,r,u){var f=this;t.fn.init.call(f,u),f.center=n,f.radius=r,f.template=d.template,f.template||(f.template=d.template=i("<kvml:oval #= d.renderAttr(\"id\", d.options.id) # #= d.renderDataAttributes() #style='position:absolute; width:#= d.radius * 2 #px; height:#= d.radius * 2 #px; top:#= d.center[1] - d.radius #px; left:#= d.center[0] - d.radius #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),f.stroke=new y(f.options),f.fill=new v(f.options)},options:{fill:""},refresh:function(n){var t=this,r=t.center,i=s.max(0,t.radius),u=i*2,f=c(n);f.css({width:u,height:u,top:r[1]-i,left:r[0]-i}),t.fill.options=t.options,t.fill.refresh(f.find("fill")[0])}}),g=t.extend({init:function(n){var r=this;t.fn.init.call(r,n),r.template=g.template,r.template||(r.template=g.template=i("<div #= d.renderAttr(\"id\", d.options.id) ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</div>"))}}),h=t.extend({init:function(n,r){var u=this;t.fn.init.call(u,r),u.template=h.template,u.clipTemplate=h.clipTemplate,u.template||(u.template=h.template=i("<div #= d.renderAttr(\"id\", d.options.id) #style='position:absolute; width:#= d.box.width() #px; height:#= d.box.height() #px; top:#= d.box.y1 #px; left:#= d.box.x1 #px; clip:#= d._renderClip() #;' >#= d.renderContent() #</div>"),u.clipTemplate=h.clipTemplate=i("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),u.box=n,u.points=n.points()},clone:function(){var n=this;return new h(n.box,r({},n.options))},refresh:function(n){n.style.clip=this._renderClip()},_renderClip:function(){return this.clipTemplate(this)}}),nt=t.extend({init:function(n){var i=this;t.fn.init.call(i,n)},options:{opacity:1},renderColors:function(){for(var u=this,f=u.options,i=f.stops,n,e=i.length,r=[],o=s.round,t=0;t<e;t++)n=i[t],r.push(o(n.offset*100)+"% "+n.color);return r.join(",")}}),it=nt.extend({init:function(n){var t=this;nt.fn.init.call(t,n),t.template=it.template,t.template||(t.template=it.template=i("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),k=nt.extend({init:function(n){var t=this;nt.fn.init.call(t,n),t.template=k.template,t.template||(t.template=k.template=i("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var t=this.options,n=t.bbox,i=t.cx,r=t.cy,f=Math.max(0,Math.min(1,(i-n.x1)/n.width())),e=Math.max(0,Math.min(1,(r-n.y1)/n.height()));return u(f,lt)+" "+u(e,lt)},firstColor:function(){var n=this.options.stops;return n[0].color},lastColor:function(){var n=this.options.stops;return n[n.length-1].color}});ft.prototype={decorate:function(n){var t=n.options,f=this.view,i,u;return(t.overlay&&(u=t.overlay.bbox,i=f.buildGradient(r({},t.overlay,{_overlayFill:t.fill,_bboxHash:b(u)?u.getHash():""}))),!i)?n:(delete t.overlay,t.fill=r(pt(t.fill,i),{opacity:t.fillOpacity}),n)}},at.prototype={decorate:function(n){var r=this,i=r.view,u=n.options,t=u.fill;return t&&t.supportVML!==!1&&(t.gradient&&(t=i.buildGradient(t)),typeof t===ui&&(n.fill=i.createGradient(t))),n}},rt=kt.extend({init:function(n){this.view=n},decorate:function(n){var f=this,r=f.view,t=r.options,u=n.options.animation,i;return u&&u.type===si&&t.transitions?(i=new h(new oi(0,0,t.width,t.height),{id:ni()}),r.animations.push(new dt(i,{size:t.width})),i.children.push(n),i):n}}),r(n,{VMLCircle:d,VMLClipAnimationDecorator:rt,VMLClipRect:h,VMLFill:v,VMLGroup:g,VMLLine:l,VMLLinearGradient:it,VMLOverlayDecorator:ft,VMLPath:e,VMLRadialGradient:k,VMLRing:o,VMLRotatedText:tt,VMLSector:a,VMLStroke:y,VMLText:w,VMLView:f,blendColors:yt,blendGradient:pt})}(jQuery),function(n){var u=window.kendo,t=window.location,i=window.history,o=50,r=/^#*/,f=window.document.documentMode,s=n.browser.msie&&(!f||f<=8),h="onhashchange"in window&&!s,e=window.document,c=u.Observable.extend({start:function(n){n=n||{};var t=this;if(t._pushStateRequested=!!n.pushState,t._pushState=t._pushStateRequested&&t._pushStateSupported(),t.root=n.root||"/",t._interval=0,this.bind(["change","ready"],n),t._normalizeUrl())return!0;t.current=t._currentLocation(),t._listenToLocationChange(),t.trigger("ready",{url:t.current})},stop:function(){n(window).unbind(".kendo"),this.unbind("change"),this.unbind("ready"),clearInterval(this._interval)},_normalizeUrl:function(){var n=this,u,f=n.root==t.pathname,o=n._pushStateRequested&&!n._pushStateSupported()&&!f,s=n._pushState&&f&&t.hash;return o?(t.replace(n.root+"#"+n._stripRoot(t.pathname)),!0):s?(u=n._makePushStateUrl(t.hash.replace(r,"")),i.replaceState({},e.title,u),!1):!1},_listenToLocationChange:function(){var t=this,i=n.proxy(t._checkUrl,t);this._pushState?n(window).bind("popstate.kendo",i):h?n(window).bind("hashchange.kendo",i):t._interval=setInterval(i,o)},_pushStateSupported:function(){return window.history&&window.history.pushState},_checkUrl:function(){var n=this,t=n._currentLocation();t!=n.current&&n.navigate(t)},_stripRoot:function(n){var t=this;return n.indexOf(t.root)===0?("/"+n.substr(t.root.length)).replace(/\/\//g,"/"):n},_makePushStateUrl:function(n){var i=this;return n.indexOf(i.root)!==0&&(n=(i.root+n).replace(/\/\//g,"/")),t.protocol+"//"+t.host+n},_currentLocation:function(){var i=this,n;return i._pushState?(n=t.pathname,t.search&&(n+=t.search),i._stripRoot(n)):t.hash.replace(r,"")},change:function(n){this.bind("change",n)},navigate:function(n,u){var f=this;if(n==="#:back"){i.back();return}(n=n.replace(r,""),f.current!==n&&f.current!==decodeURIComponent(n))&&(f._pushState?(i.pushState({},e.title,f._makePushStateUrl(n)),f.current=n):t.hash=f.current=n,u||f.trigger("change",{url:f.current}))}});u.history=new c}(jQuery),function(n){var i=window.kendo,t=Math.abs,r=i.Class.extend({init:function(r,u,f){f=n.extend({minXDelta:30,maxYDelta:20,maxDuration:1e3},f),new i.Drag(r,{surface:f.surface,start:function(n){t(n.x.velocity)*2>=t(n.y.velocity)&&n.sender.capture()},move:function(i){var r=i.sender,e=i.event.timeStamp-r.startTime,o=i.x.initialDelta>0?"right":"left";t(i.x.initialDelta)>=f.minXDelta&&t(i.y.initialDelta)<f.maxYDelta&&e<f.maxDuration&&(u({direction:o,drag:r,target:n(r.currentTarget)}),r.cancel())}})}});n.fn.kendoMobileSwipe=function(n,t){new r(this,n,t)}}(jQuery),function(n){var i=window.kendo,u=i.mobile,t=u.ui,f="show",e="hide",o="open",s="close",w='<div class="km-popup-wrapper" />',v='<div class="km-popup-arrow" />',p='<div class="km-popup-overlay" />',y="km-up km-down km-left km-right",r=t.Widget,b={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},a={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},l={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},c={up:"down",down:"up",left:"right",right:"left"},h=r.extend({init:function(t,f){var o=this,c=u.application.element,s={viewport:i.mobile.application.element,open:function(){o.overlay.show()},activate:n.proxy(o._activate,o),deactivate:function(){o.overlay.hide(),o.trigger(e)}},h;r.fn.init.call(o,t,f),t=o.element,f=o.options,t.wrap(w).addClass("km-popup").show(),h=o.options.direction.match(/left|right/)?"horizontal":"vertical",o.dimensions=l[h],o.wrapper=t.parent().css({width:f.width,height:f.height}).addClass("km-popup-wrapper km-"+f.direction).hide(),o.arrow=n(v).prependTo(o.wrapper).hide(),o.overlay=n(p).appendTo(c).hide(),s.appendTo=o.overlay,o.popup=new i.ui.Popup(o.wrapper,n.extend(!0,s,a,b[f.direction]))},options:{name:"Popup",width:240,height:320,direction:"down"},events:[f,e],show:function(t){var r=this,i=r.popup;i.options.anchor=n(t),i.open()},hide:function(){this.popup.close()},_activate:function(){var t=this,u=t.options.direction,e=t.dimensions,i=e.offset,r=t.popup,o=r.options.anchor,s=n(o).offset(),h=n(r.element).offset(),l=r.flipped?c[u]:u,a=s[i]-h[i]+n(o)[e.size]()/2;t.wrapper.removeClass(y).addClass("km-"+l),t.arrow.css(i,a).show(),t.trigger(f)}}),k=r.extend({init:function(u,f){var e=this,c;r.fn.init.call(e,u,f),f=e.options,c=n.extend({show:function(){e.trigger(o)},hide:function(){e.trigger(s)}},this.options.popup),e.popup=new h(e.element,c),e.pane=new t.Pane(e.element,this.options.pane).navigate(""),i.notify(e,t)},options:{name:"PopOver",popup:{},pane:{}},events:[o,s],openFor:function(n){this.popup.show(n)},close:function(){this.popup.hide()}});t.plugin(h),t.plugin(k)}(jQuery),function(n){var u=window.kendo,t=u.mobile.ui,i=t.Widget,r=["touchstart","touchend","touchmove","mousedown","mousemove","mouseup"],f=i.extend({init:function(t,r){var u=this,f=n('<div class="km-loader"><span class="km-loading km-spin"></span></div>');i.fn.init.call(u,f,r),u.container=t,u._attachCapture(),f.append(u.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var n=this;(clearTimeout(n._loading),n.options.loading!==!1)&&(n._loading=setTimeout(function(){n.element.show()},n.options.timeout))},hide:function(){var n=this;clearTimeout(n._loading),n.element.hide()},transition:function(){this.transitioning=!0},transitionDone:function(){this.transitioning=!1},_attachCapture:function(){function i(n){t.transitioning&&n.stopPropagation()}var t=this,n;for(t.transitioning=!1,n=0;n<r.length;n++)t.container[0].addEventListener(r[n],i,!0)}});t.plugin(f)}(jQuery),function(n,t){var i=window.kendo,r=i.mobile.ui,f=i.ui.Popup,e='<div class="km-shim"/>',u=r.Widget,o=u.extend({init:function(t,r){var o=this,h=i.mobile.application.os==="ios",l=r.align||(h?"bottom center":"center center"),a=r.position||(h?"bottom center":"center center"),v=r.effect||(h?"slideIn:up":"fade:in"),s=n(e).hide(),c;if(u.fn.init.call(o,t,r),c=o.view(),o.shim=s,o.element=t,!o.options.modal)o.shim.on(i.support.mouseup,n.proxy(o.hide,o));c.container.append(s),o.popup=new f(o.element,{anchor:s,appendTo:s,origin:l,position:a,animation:{open:{effects:v,duration:o.options.duration},close:{duration:o.options.duration}},deactivate:function(){s.hide()},open:function(){s.show()}}),i.notify(o)},options:{name:"Shim",modal:!0,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open()},hide:function(){this.popup.close()}});r.plugin(o)}(jQuery),function(n,t){function b(n,t){n[0]&&t[0]&&n[0]!=t[0]&&n.kendoAnimateTo(t,{effects:"fade"})}function rt(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;t<f;t+=2)r[i[t]]=i[t+1];return r}var i=window.kendo,l=i.mobile,u=l.ui,c=i.attr,tt=i.Class,s=u.Widget,o="init",f="show",a="beforeShow",h="hide",p="z-index",e=i.data,r=i.roleSelector,it=s.extend({init:function(t,i){var r=this;s.fn.init.call(r,t,i),t=r.element,r.params={},r.lastParams={},n.extend(r,i),r._layout(),r._scroller(),r._model()},events:[o,a,f,h],options:{name:"View",title:"",defaultTransition:"",stretch:!1,model:null},showStart:function(){var n=this;n.element.css("display",""),n.inited||(n.inited=!0,n.trigger(o,{view:n})),n.layout&&n.layout.attach(n),n._eachWidget(function(t){t.viewShow(n)}),n.trigger(f,{view:n})},hideStart:function(){var n=this;n.layout&&n.layout.detach(n)},hideComplete:function(){var n=this;n.element.hide(),n.trigger(h,{view:n})},updateParams:function(n){var t=this;t.trigger(a,{view:t})||(t.lastParams=t.params,t.params=n,t.trigger(f,{view:t}))},switchWith:function(n,t,i,r){var u=this;u.trigger(a,{view:u})||(u.lastParams=u.params,u.params=i,n?(n.hideStart(),u.showStart(),new nt({current:n,next:u,transition:t,defaultTransition:n.options.defaultTransition,complete:r})):(u.showStart(),r()))},parallaxContents:function(n){var i=this,t=i.content;return n.header[0]||(t=t.add(i.header)),n.footer[0]||(t=t.add(i.footer)),t},_scroller:function(){var n=this;n.options.stretch?n.content.addClass("km-stretched-view"):(n.content.kendoMobileScroller(),n.scroller=n.content.data("kendoMobileScroller"),n.scrollerContent=n.scroller.scrollElement)},_model:function(){var f=this,t=f.element,n=f.options.model;typeof n=="string"&&(n=i.getter(n)(window)),f.model=n,t.find(r("popover")).each(function(){i.initWidget(this,{},u.roles)}),n?i.bind(t.children(),n,u):l.init(t.children())},_layout:function(){var n=this,i=r("content"),t=n.element;t.data("kendoView",n).addClass("km-view"),n.transition=e(t,"transition"),n.header=t.children(r("header")).addClass("km-header"),n.footer=t.children(r("footer")).addClass("km-footer"),t.children(i)[0]||t.wrapInner("<div "+c("role")+'="content"></div>'),n.content=t.children(r("content")).addClass("km-content"),n.element.prepend(n.header).append(n.footer),n.id=e(t,"url")||"#"+t.attr("id"),n.layout&&n.layout.setup(n)},_eachWidget:function(t){var r;this.element.find("[data-"+i.ns+"role]").each(function(){r=i.widgetInstance(n(this),u),r&&t(r)})}}),nt=tt.extend({init:function(t){n.extend(this,t);var f=this,i=f.current,r=f.next,e=i.element,o=r.element,s=r,h=i,u=f._transition();u.reverse&&!u.parallax&&(s=i,h=r),s.element.css(p,1),h.element.css(p,0),u.parallax&&(b(i.footer,r.footer),b(i.header,r.header),e=i.parallaxContents(r),o=r.parallaxContents(i)),e.kendoAnimateTo(o,u),f.back()||(i.nextView=r,i.backTransition=u.transition)},_transition:function(){var n=this,e=n.current,i=n.next,o=n.back(),s=function(){e.hideComplete(),n.complete()},h=o?i.backTransition:i.transition,r=n.transition||h||n.defaultTransition,u=r.split(" "),f=u[0],c=/^slide/.test(f),t=u[1]==="reverse";return n.back()&&!n.transition&&(t=!t),{effects:f,reverse:t,parallax:c,complete:s,transition:r}},back:function(){var n=this.next,t=this.current;return n.nextView===t&&JSON.stringify(n.params)===JSON.stringify(n.lastParams)}}),ut=s.extend({init:function(n,t){var u=this;s.fn.init.call(u,n,t),n=u.element,u.element=n.detach(),u.header=n.children(r("header")).addClass("km-header"),u.footer=n.children(r("footer")).addClass("km-footer"),u.elements=u.header.add(u.footer),i.mobile.init(u.element.children()),u.trigger(o,{layout:u})},options:{name:"Layout"},events:[o,f,h],setup:function(n){n.header[0]||(n.header=this.header),n.footer[0]||(n.footer=this.footer)},detach:function(n){var t=this;n.header===t.header&&n.element.prepend(t.header.detach().clone(!0)),n.footer===t.footer&&n.element.append(t.footer.detach().clone(!0)),t.trigger(h,{layout:t,view:n})},attach:function(n){var t=this;n.header===t.header&&(t.header.detach(),n.element.children(r("header")).remove(),n.element.prepend(t.header)),n.footer===t.footer&&(t.footer.detach(),n.element.children(r("footer")).remove(),n.element.append(t.footer)),t.trigger(f,{layout:t,view:n})}}),d=i.Observable,g=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,k="loadStart",y="loadComplete",w="showStart",v="viewShow",ft=d.extend({init:function(t){var i=this,r;d.fn.init.call(i),n.extend(i,t),i.sandbox=n("<div />"),r=i._hideViews(i.container),i.rootView=r.first(),i._view=null,i.layouts={},i._setupLayouts(i.container),i.loader&&(i.bind(w,function(){i.loader.transition()}),i.bind(k,function(){i.loader.show()}),i.bind(y,function(){i.loader.hide()}),i.bind(v,function(){i.loader.transitionDone()}))},view:function(){return this._view},showView:function(n,t){var i=this,f=i.container,e=rt(n),o=n.charAt(0),s=o==="#",h=o==="/",u,r;n!==i.url&&(i.url=n,i.trigger(w),n?(r=f.children("["+c("url")+"='"+n+"']"),r[0]||h||(r=f.children(s?n:"#"+n))):r=i.rootView,u=r.data("kendoView"),r[0]?(u||(u=i._createView(r)),i._show(u,t,e)):i._loadView(n,function(n){i._show(n,t,e)}))},_createView:function(n){var r=this,f,t=e(n,"layout");return typeof t=="undefined"&&(t=r.layout),t&&(t=r.layouts[t]),f={defaultTransition:r.transition,loader:r.loader,container:r.container,layout:t},i.initWidget(n,f,u.roles)},_loadView:function(t,i){var r=this;r._xhr&&r._xhr.abort(),r.trigger(k),r._xhr=n.get(t,function(n){r.trigger(y),i(r._createRemoteView(t,n))},"html").fail(function(){r.trigger(y)})},_createRemoteView:function(n,t){var i=this,u=i.sandbox,o=i.container,f,e;return g.test(t)&&(t=RegExp.$1),u[0].innerHTML=t,f=i._hideViews(u),e=f.first(),e.hide().attr(c("url"),n),i._setupLayouts(u),o.append(u.children(r("layout")+", script, style")).append(f),i._createView(e)},_show:function(n,t,i){var r=this;r._view!==n?n.switchWith(r._view,t,i,function(){r._view=n,r.trigger(v,{view:n})}):(r._view.updateParams(i),r.trigger(v,{view:n}))},_hideViews:function(n){return n.children(r("view splitview")).hide()},_setupLayouts:function(f){var o=this;f.children(r("layout")).each(function(){var r=n(this),f=e(r,"platform");(f===t||f===l.application.os)&&(o.layouts[r.data("id")]=i.initWidget(r,{},u.roles))})}});i.mobile.ViewEngine=ft,u.plugin(it),u.plugin(ut)}(jQuery),function(n){var r=window.kendo,t=r.mobile.ui,u=t.Shim,f=t.Widget,i="open",e='<div class="km-modalview-wrapper" />',o=t.View.extend({init:function(n,t){var i=this;f.fn.init.call(i,n,t),n=i.element,t=i.options,n.addClass("km-modalview").wrap(e),i.wrapper=n.parent().css({width:t.width||n[0].style.width||300,height:t.height||n[0].style.height||300}),n.css({width:"",height:""}),i.shim=new u(i.wrapper,{modal:t.modal,position:"center center",align:"center center",effect:"fade:in"}),i._layout(),i._scroller()},events:[i],options:{name:"ModalView",modal:!0},open:function(t){var r=this;r.trigger(i),r.target=n(t),r.shim.show()},openFor:function(n){var t=this;t.target=n,t.trigger(i,{target:t.target}),t.shim.show()},close:function(){this.shim.hide()}});t.plugin(o)}(jQuery),function(n){var t=window.kendo,i=t.mobile.ui,r=i.Widget,u=i.View,f=u.extend({init:function(u,f){var e=this;r.fn.init.call(e,u,f),u=e.element,n.extend(e,f),e._layout(),e._style(),t.mobile.init(u.children(t.roleSelector("modalview"))),e.panes=[],e.element.children(t.roleSelector("pane")).each(function(){e.panes.push(t.initWidget(this,{},i.roles))})},options:{name:"SplitView",style:"horizontal"},_layout:function(){var i=this,r=i.element;r.data("kendoView",i).addClass("km-view km-splitview"),i.transition=t.data(r,"transition"),n.extend(i,{header:[],footer:[],content:r})},_style:function(){var t=this.options.style,r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-split-"+this)}))},showStart:function(){var t=this;t.element.css("display",""),t.inited||(t.inited=!0,n.each(t.panes,function(){this.navigate("")}),t.trigger("init",{view:t})),t.trigger("show",{view:t})}});i.plugin(f)}(jQuery),function(n,t){function d(t){u(n(t.currentTarget),"rel")!=p&&t.preventDefault()}var i=window.kendo,v=i.support,r=i.mobile,f=i.roleSelector,e=r.ui,l=e.Widget,k=r.ViewEngine,b=r.ui.Loader,p="external",s="href",c="#!",h="navigate",o="viewShow",g=/popover|actionsheet|modalview/,w="#:back",u=i.data,y="button backbutton detailbutton listview-link",a="tab",nt=l.extend({init:function(n,t){var i=this;l.fn.init.call(i,n,t),n=i.element,n.addClass("km-pane"),i.loader=new b(n,{loading:i.options.loading}),i.viewEngine=new k({container:n,transition:i.options.transition,layout:i.options.layout,loader:i.loader}),i.viewEngine.bind(o,function(n){i.trigger(o,n)}),i.history=[],i._setupAppLinks()},options:{name:"Pane",transition:"",layout:"",loading:t},events:[h,o],navigate:function(n,t){var i=this,r=i.history;i.trigger(h,{url:n}),n===w?(r.pop(),n=r[r.length-1]):i.history.push(n),i.viewEngine.showView(n,t)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){var t=this,i=n.proxy(t._mouseup,t);this.element.on(v.mousedown,f(a),i).on(v.mouseup,f(y),i).on("click",f(a+" "+y),d)},_mouseup:function(t){if(!(t.which>1)&&!t.isDefaultPrevented()){var f=n(t.currentTarget),v=u(f,"transition"),a=u(f,"rel")||"",h=u(f,"target"),l=this,o=f.attr(s);a!==p&&typeof o!="undefined"&&o!==c&&(f.attr(s,c),setTimeout(function(){f.attr(s,o)}),a.match(g)?i.widgetInstance(n(o),e).openFor(f):(h==="_top"?l=r.application.pane:h&&(l=n("#"+h).data("kendoMobilePane")),l.navigate(o,v)),t.preventDefault())}}});e.plugin(nt)}(jQuery),function(n,t){function c(){return Math.abs(window.orientation)/90==1}function e(){return c()?d:g}function a(){n("meta[name=viewport]").replaceWith(v({height:c()?", height=device-width":", height=device-height"}))}var r=window.kendo,o=r.mobile,f=r.history,u=r.support,it=o.ui.Pane,tt="ios",i=u.mobileOS,k=r.template("#=data.name##if(data.version){# #=data.name##=data.version.major# km-m#=data.version.minor# #=data.version.appMode?'km-app':'km-web'##}#",{usedWithBlock:!1}),l=i.device=="blackberry"&&i.flatVersion>=600&&i.flatVersion<1e3&&i.appMode,g="km-vertical",d="km-horizontal",rt={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"430",majorVersion:"4",minorVersion:"3.0",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1}},v=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width#=data.height#" name="viewport" />',{usedWithBlock:!1}),y='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> '+v({height:""}),b=r.template('<link rel="apple-touch-icon'+(u.mobileOS.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),w=(i.device=="iphone"||i.device=="ipod")&&i.browser=="mobilesafari",p=60,h=n(window),s=n("head"),nt=n.proxy,ut=r.Observable.extend({init:function(t,i){var f=this;o.application=f,f.options=n.extend({hideAddressBar:!0,transition:""},i),r.Observable.fn.init.call(f,f.options),f.element=n(t?t:document.body),n(function(){if(f._setupPlatform(),f._attachHideBarHandlers(),f.pane=new it(f.element,f.options),f._setupElementClass(),f._attachMeta(),f._setupDocumentTitle(),f._startHistory(),u.touch)n(document.documentElement).on("touchmove",!1)})},navigate:function(n,t){this.pane.navigate(n,t)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var t=this,r=t.options.platform,n=i,f;r&&(n=typeof r=="string"?rt[r]:r,u.mobileOS=i=n),n?(t.os=n.name,f={appMode:n.appMode,major:n.majorVersion,minor:n.minorVersion?n.minorVersion[0]:0}):(t.os=tt,f=!1),t.osCssClass=k({name:"km-"+t.os,version:f})},_startHistory:function(){var t=this,r,i=t.options.initial;r={change:function(n){t.pane.navigate(n.url)},ready:function(n){var r=n.url;!r&&i&&(r=i,f.navigate(i,!0)),t.pane.navigate(r)}},t.pane.bind("navigate",function(n){f.navigate(n.url,!0)}),f.start(n.extend(t.options,r))},_setupElementClass:function(){var n=this,u=n.options.platform?"km-"+n.options.platform:n.osCssClass,t=n.element;t.parent().addClass("km-root km-"+(i.tablet?"tablet":"phone")),t.addClass(u+" "+e()),l&&a();r.onResize(function(){t.removeClass("km-horizontal km-vertical").addClass(e()),l&&a()})},_attachMeta:function(){var n=this.options.icon,t;if(s.prepend(y),n){typeof n=="string"&&(n={"":n});for(t in n)s.prepend(b({icon:n[t],size:t}))}},_attachHideBarHandlers:function(){var n=this,t=nt(n._hideBar,n);if(!i.appMode&&n.options.hideAddressBar&&(n._initialHeight={},w)){h.on("load",t);r.onResize(t);n.element[0].addEventListener(u.mousedown,t,!0)}},_setupDocumentTitle:function(){var n=this,i=document.title;n.pane.bind("viewShow",function(n){var r=n.view.title;document.title=r!==t?r:i})},_hideBar:function(){var r=this,u=r.element,n=window.orientation+"",t=r._initialHeight,i;t[n]||(t[n]=h.height()),i=t[n]+p,i!=u.height()&&u.height(i),setTimeout(window.scrollTo,0,0,1)}});r.mobile.Application=ut}(jQuery),function(n){var t=window.kendo,i=t.mobile.ui,e=i.Shim,o=i.Popup,r=i.Widget,u="open",f="li>a",s="actionsheetContext",h='<div class="km-actionsheet-wrapper" />',c=t.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),l=r.extend({init:function(u,s){var l=this,a=t.support.mobileOS,y=a.tablet?o:e,v;r.fn.init.call(l,u,s),u=l.element;u.addClass("km-actionsheet").append(c({cancel:l.options.cancel})).wrap(h).on(t.support.mouseup,f,n.proxy(l._click,l)).on("click",f,t.preventDefault);v=u.parent(),l.wrapper=v,l.shim=new y(l.wrapper,n.extend({modal:!(a.android||a.meego)},l.options.popup)),t.notify(l,i)},events:[u],options:{name:"ActionSheet",cancel:"Cancel",popup:{height:"auto"}},open:function(t,i){var r=this;r.target=n(t),r.context=i,r.shim.show()},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(n){var t=this;t.target=n,t.context=n.data(s),t.trigger(u,{target:t.target,context:t.context}),t.shim.show(n)},_click:function(i){if(!i.isDefaultPrevented()){var r=n(i.currentTarget).data("action");r&&t.getter(r)(window)({target:this.target,context:this.context}),i.preventDefault(),this.close()}}});i.plugin(l)}(jQuery),function(n){var f=window.kendo,p=f.mobile,r=p.ui,e=r.Widget,i=f.support,o=i.mobileOS,s=o.android&&o.flatVersion>=300,v=i.mousecancel,c=i.mousedown,w=i.mousemove,l=i.mouseup,a="click",u=0,h=n.proxy,t=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,n,t),i._wrap(),i._style(),i._releaseProxy=h(i._release,i),i._removeProxy=h(i._removeActive,i),i.element.bind(l,i._releaseProxy),i.element.bind(c+" "+v+" "+l,i._removeProxy),s&&i.element.bind(w,function(n){u||(u=setTimeout(i._removeProxy,500,n))})},events:[a],options:{name:"Button",icon:"",style:""},_removeActive:function(t){n(t.target).closest(".km-button,.km-detail").toggleClass("km-state-active",t.type==c),s&&(clearTimeout(u),u=0)},_release:function(t){var i=this;t.which>1||i.trigger(a,{target:n(t.target),button:i.element})&&t.preventDefault()},_style:function(){var t=this.options.style,r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-"+this)}))},_wrap:function(){var r=this,u=r.options.icon,f='<span class="km-icon km-'+u,t=r.element.addClass("km-button"),i=t.children("span:not(.km-icon)").addClass("km-text"),e=t.find("img").addClass("km-image");!i[0]&&t.html()&&(i=t.wrapInner('<span class="km-text" />').children("span.km-text")),!e[0]&&u&&(i[0]||(f+=" km-notext"),t.prepend(n(f+'" />')))}}),y=t.extend({options:{name:"BackButton",style:"back"},init:function(n,i){var r=this;t.fn.init.call(r,n,i),typeof r.element.attr("href")=="undefined"&&r.element.attr("href","#:back")}}),b=t.extend({options:{name:"DetailButton",style:""},init:function(n,i){t.fn.init.call(this,n,i)},_style:function(){var t=this.options.style+" detail",r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-"+this)}))},_wrap:function(){var i=this,r=i.options.icon,u='<span class="km-icon km-'+r,t=i.element,f=t.children("span"),e=t.find("img").addClass("km-image");!e[0]&&r&&(f[0]||(u+=" km-notext"),t.prepend(n(u+'" />')))}});r.plugin(t),r.plugin(y),r.plugin(b)}(jQuery),function(n,t){var r=window.kendo,u=r.mobile.ui,f=u.Widget,i="km-state-active",e="select",o="li:not(."+i+")",s=r.data,h=r.support.touch?"touchstart":"mousedown",c=f.extend({init:function(t,i){var r=this;f.fn.init.call(r,t,i),r.element.addClass("km-buttongroup").delegate(o,h,n.proxy(r._mousedown,r)).find("li").each(r._button),r.select(r.options.index)},events:[e],options:{name:"ButtonGroup",index:-1},current:function(){return this.element.find("."+i)},select:function(r){var u=this,f=-1;r!==t&&r!==-1&&(u.current().removeClass(i),typeof r=="number"?(f=r,r=n(u.element[0].children[r])):r.nodeType&&(r=n(r),f=r.index()),r.addClass(i),u.selectedIndex=f)},_button:function(){var t=n(this).addClass("km-button"),r=s(t,"icon"),i=t.children("span"),u=t.find("img").addClass("km-image");i[0]||(i=t.wrapInner("<span/>").children("span")),i.addClass("km-text"),!u[0]&&r&&t.prepend(n('<span class="km-icon km-'+r+'"/>'))},_mousedown:function(n){if(!(n.which>1)){var t=this;t.select(n.currentTarget),t.trigger(e)}}});u.plugin(c)}(jQuery),function(n){function ct(t){if(!(t.which>1)){var i=n(t.currentTarget),s=i.parent(),c=f(i,"role")||"",l=!c.match(tt),u=t.isDefaultPrevented();if(l&&s.toggleClass(lt,t.type===h&&!u),i.is("label")&&t.type===e&&!u){var r=i.find("input"),a=r.attr("type"),o=!r[0].checked;a==="radio"&&(o=!0),r[0].checked=o}}}function ht(){return this.nodeType===ft.TEXT_NODE&&this.nodeValue.match(b)}function l(n,t){t&&n.prepend('<span class="km-icon km-'+t+'"/>')}function st(n){l(n,f(n,"icon"))}function ot(n){var i=n.parent(),r=n.add(i.children(t.roleSelector("detailbutton"))),u=i.contents().not(r).not(ht);u.length||(n.addClass("km-listview-link").attr(t.attr("role"),"listview-link"),l(n,f(i,"icon")))}function et(n){if(n.children("input[type=checkbox],input[type=radio]").length){var t=n.parent();t.contents().not(n).not(function(){return this.nodeType==3})[0]||n.addClass("km-listview-label")}}var t=window.kendo,ft=window.Node,y=t.mobile,i=y.ui,r=t.support,ut=t.data.DataSource,o=i.Widget,rt=".km-list > li",it=".km-list > li > .km-listview-link, .km-list > li > .km-listview-label",nt=".km-list > li > .km-listview-label > input",s=n.proxy,f=t.data,u="km-group-title",lt="km-state-active",g='<div class="'+u+'"><div class="km-text"></div></div>',d=t.template('<li><div class="'+u+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),k='<div class="km-listview-wrapper" />',h=r.mousedown,p=r.mousemove,w=r.mousecancel,e=r.mouseup,a="click",v="requestStart",c="function",b=/^\s+$/,tt=/button/,at=o.extend({init:function(n,r){var u=this;o.fn.init.call(u,n,r),r=u.options;u.element.on([h,e,p,w].join(" "),it,ct).on("click",nt,function(n){n.preventDefault()}).on(e,rt,s(u._click,u));u.element.wrap(k),u.wrapper=u.element.parent(),u._footer(),u._dataSource(),u._bindScroller(),u._fixHeaders(),r.dataSource&&u.options.autoBind?u.dataSource.fetch():u._style(),t.notify(u,i)},events:[a],options:{name:"ListView",type:"flat",fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,loadMoreText:"Press to load more",endlessScroll:!1,scrollTreshold:30,pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing",pullOffset:140,style:"",autoBind:!0},setOptions:function(n){o.fn.setOptions.call(this,n)},setDataSource:function(n){this.options.dataSource=n,this._dataSource(),this.options.autoBind&&n.fetch()},refresh:function(r){r=r||{};var u=this,o=u.element,f=u.options,c=u.dataSource,l=c.view(),a=u.loading,v=a?"append":"html",s,e,h;if(r.action==="itemchange"){e=r.items[0],h=n(u.template(e)),o.find("[data-"+t.ns+"uid="+e.uid+"]").replaceWith(h),u.trigger("itemChange",{item:h,data:e,ns:i});return}u.template||u._templates(),u.trigger("dataBinding"),c.group()[0]?(f.type="group",s=t.render(u.groupTemplate,l)):s=t.render(u.template,l),f.appendOnRefresh&&(v="prepend"),o[v](s),a&&(u.loading=!1,u._calcTreshold(),f.loadMore?u._toggleButton(!0):u._toggleIcon(!1)),f.pullToRefresh&&u._scroller().pullHandled(),y.init(o.children()),u._hideLoading(),u._shouldFixHeaders(),u._style(),u.trigger("dataBound",{ns:i})},items:function(){return this.options.type==="group"?this.element.find(".km-list").children():this.element.children()},_dataSource:function(){var t=this,i=t.options,r=n.proxy(t._showLoading,t);t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler).unbind(v,r):t._refreshHandler=s(t.refresh,t),t.dataSource=ut.create(i.dataSource).bind("change",t._refreshHandler),i.pullToRefresh||i.loadMore||i.endlessScroll||t.dataSource.bind(v,r)},_fixHeader:function(t){var u=0,i=this,o=i._scroller(),s=t.scrollTop,h=i.headers,r,e,f;if(i.fixedHeaders){do{if(r=h[u++],!r){f=n("<div />");break}e=r.offset,f=r.header}while(e>s);i.currentHeader!=u&&(o.fixedContainer.html(f.clone()),i.currentHeader=u)}},_shouldFixHeaders:function(){this.fixedHeaders=this.options.type==="group"&&this.options.fixedHeaders},_cacheHeaders:function(){var t=this,i=[];t.fixedHeaders&&(t.element.find("."+u).each(function(t,r){r=n(r),i.unshift({offset:r.position().top,header:r})}),t.headers=i,t._fixHeader({scrollTop:0}))},_fixHeaders:function(){var n=this,i=n._scroller();if(n._shouldFixHeaders(),i){t.onResize(function(){n._cacheHeaders()});i.bind("scroll",function(t){n._fixHeader(t)})}},_bindScroller:function(){var n=this,t=n.options,r=n.dataSource,i=n._scroller();i&&(t.pullToRefresh&&i.setOptions({pullToRefresh:!0,pull:function(){r.read()},pullTemplate:t.pullTemplate,releaseTemplate:t.releaseTemplate,refreshTemplate:t.refreshTemplate}),t.endlessScroll&&(n._scrollHeight=i.element.height(),i.setOptions({resize:function(){n._scrollHeight=i.element.height(),n._calcTreshold()},scroll:function(t){!n.loading&&t.scrollTop+n._scrollHeight>n._treshold&&(n.loading=!0,n._toggleIcon(!0),r.next())}})))},_calcTreshold:function(){var n=this,t=n._scroller();t&&(n._treshold=t.scrollHeight()-n.options.scrollTreshold)},_templates:function(){var i=this,r=i.options.template,u=i.options.headerTemplate,e="",o={},f={};(i.dataSource.group()[0]||i.dataSource.view()[0]instanceof t.data.ObservableObject)&&(e=' data-uid="#=uid#"'),typeof r===c&&(o.template=r,r="#=this.template(data)#"),f.template=i.template=n.proxy(t.template("<li"+e+">"+r+"</li>"),o),typeof u===c&&(f._headerTemplate=u,u="#=this._headerTemplate(data)#"),f.headerTemplate=t.template(u),i.groupTemplate=n.proxy(d,f)},_click:function(r){if(!(r.which>1)&&!r.isDefaultPrevented()){var u=this,f,e=n(r.currentTarget),o=n(r.target),h=o.closest(t.roleSelector("button","detailbutton","backbutton")),c=t.widgetInstance(h,i),s=e.attr(t.attr("uid"));s&&(f=u.dataSource.getByUid(s)),u.trigger(a,{target:o,item:e,dataItem:f,button:c})&&r.preventDefault()}},_style:function(){var i=this,e=i.options,t=e.type==="group",r=i.element,f=e.style==="inset";r.addClass("km-listview").toggleClass("km-list",!t).toggleClass("km-listinset",!t&&f).toggleClass("km-listgroup",t&&!f).toggleClass("km-listgroupinset",t&&f),t&&(r.children().children("ul").addClass("km-list"),r.children("li").each(function(){var t=n(this).contents().first();t.is("ul")||t.is("div."+u)||t.wrap(g)})),i._enhanceItems(),r.closest(".km-content").toggleClass("km-insetcontent",f),i._cacheHeaders()},_enhanceItems:function(){this.items().each(function(){var r=n(this),t,i=!1;r.children().each(function(){t=n(this),t.is("a")?(ot(t),i=!0):t.is("label")&&(et(t),i=!0)}),i||st(r)})},_footer:function(){var t=this,i=t.options,u=i.loadMore,r;(u||i.endlessScroll)&&(t._loadIcon=n('<span style="display:none" class="km-icon"></span>'),r=n('<span class="km-load-more"></span>').append(t._loadIcon),u&&(t._loadButton=n('<button class="km-load km-button">'+i.loadMoreText+"</button>").click(function(){t.loading=!0,t._toggleButton(!1),t.dataSource.next()}),r.append(t._loadButton)),t.wrapper.append(r))},_toggleButton:function(n){this._loadButton.toggle(n),this._toggleIcon(!n)},_toggleIcon:function(n){var t=this._loadIcon;n?t.css("display","block"):t.hide()},_scroller:function(){var n=this,t;return n._scrollerInstance||(t=n.view(),n._scrollerInstance=t&&t.scroller),n._scrollerInstance},_showLoading:function(){var n=this.view();n&&n.loader.show()},_hideLoading:function(){var n=this.view();n&&n.loader.hide()}});i.plugin(at)}(jQuery),function(n){function i(i,r){var u=r.find("["+t.attr("align")+"="+i+"]");u[0]&&r.prepend(n('<div class="km-'+i+'item" />').append(u))}var t=window.kendo,r=t.mobile.ui,f=t.roleSelector,u=r.Widget,e=u.extend({init:function(t,r){var f=this;u.fn.init.call(f,t,r),t=f.element,t.addClass("km-navbar").wrapInner(n('<div class="km-view-title" />')),i("left",t),i("right",t)},options:{name:"NavBar"},title:function(n){this.element.find(f("view-title")).text(n)},viewShow:function(n){this.title(n.options.title)}});r.plugin(e)}(jQuery),function(n){var i=window.kendo,v=i.mobile,e=v.ui,f=n.proxy,r=i.fx.Transition,w=i.ui.Pane,p=i.ui.PaneDimensions,s=e.Widget,t=Math,u=t.abs,c=t.ceil,y=t.round,b=t.max,a=t.min,l=t.floor,o="change",h="km-current-page",k=s.extend({init:function(t,e){var o=this,c,a,h,l,v,y;s.fn.init.call(o,t,e),t=o.element,t.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),o.inner=t.children().first(),o.pager=t.children().last(),o.page=0,c=new i.ui.Movable(o.inner),a=new r({axis:"x",movable:c,onEnd:f(o._transitionEnd,o)}),h=new i.Drag(t,{start:function(){u(h.x.velocity)*2>=u(h.y.velocity)?h.capture():h.cancel(),a.cancel()},end:f(o._dragEnd,o)}),l=new p({element:o.inner,container:o.element}),v=l.x,v.bind("change",f(o.refresh,o)),y=new w({dimensions:l,drag:h,movable:c,elastic:!0}),n.extend(o,{movable:c,transition:a,drag:h,dimensions:l,dimension:v,pane:y}),o.page=o.options.page},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,bounceVelocityThreshold:1.6},events:[o],viewShow:function(){this.dimensions.refresh()},refresh:function(){var n=this,f="",i=n.dimension,t=i.getSize(),r,u;for(n.element.find("[data-role=page]").width(t),i.update(!0),n.page=Math.floor(-n.movable.x/t),n.scrollTo(n.page),r=n.pages=c(i.getTotal()/t),n.minSnap=-(r-1)*t,n.maxSnap=0,u=0;u<r;u++)f+="<li/>";n.pager.html(f),n._updatePager()},content:function(n){this.element.children().first().html(n),this.dimensions.refresh()},scrollTo:function(n){this.page=n,this._moveTo(-n*this.dimension.getSize(),r.easeOutExpo)},_moveTo:function(n,t){this.transition.moveTo({location:n,duration:this.options.duration,ease:t})},_dragEnd:function(n){var t=this,i=n.x.velocity,e=t.dimension.size,o=t.options,s=o.velocityThreshold,h,f=y,v=r.easeOutExpo;i>s?f=c:i<-s&&(f=l),u(i)>o.bounceVelocityThreshold&&(v=r.easeOutBack),h=b(t.minSnap,a(f(t.movable.x/e)*e,t.maxSnap)),this._moveTo(h,v)},_transitionEnd:function(){var n=this,t=Math.round(-n.movable.x/n.dimension.size);t!=n.page&&(n.page=t,n.trigger(o,{page:t}),n._updatePager())},_updatePager:function(){this.pager.children().removeClass(h).eq(this.page).addClass(h)}});e.plugin(k)}(jQuery),function(n,t){function l(n,t,i){return Math.max(t,Math.min(i,n))}var i=window.kendo,u=i.mobile.ui,f=u.Widget,a=i.support,e="change",o="km-switch-on",s="km-switch-off",h="margin-left",c="km-state-active",v=a.transitions.css+"transform",r=n.proxy,y=f.extend({init:function(n,t){var r=this,e,u,o;f.fn.init.call(r,n,t),r._wrapper(),r._drag(),r._background(),r._handle(),n=r.element.data(i.attr("role"),"switch"),n[0].type="checkbox",e=r.wrapper.width(),o=r.handle.outerWidth(!0),r.constrain=e-o,r.snapPoint=e/2-o/2,r._animateBackground=!0,u=r.options.checked,u===null&&(u=n[0].checked),r.check(u),i.notify(r,i.mobile.ui)},events:[e],options:{name:"Switch",onLabel:"ON",offLabel:"OFF",checked:null},check:function(n){var i=this,r=i.element[0];if(n===t)return r.checked;i._position(n?i.constrain:0),r.checked=n,i.wrapper.toggleClass(o,n).toggleClass(s,!n)},toggle:function(){var n=this;n.check(!n.element[0].checked)},_move:function(n){var t=this;n.preventDefault(),t._position(l(t.position+n.x.delta,0,t.constrain))},_position:function(n){var t=this;t.position=n,t.handle.css(v,"translatex("+n+"px)"),t._animateBackground&&t.background.css(h,t.origin+n)},_start:function(){this.drag.capture(),this.handle.addClass(c)},_stop:function(){var n=this;n.handle.removeClass(c),n._toggle(n.position>n.snapPoint)},_toggle:function(n){var t=this,f=t.handle,r=t.element[0],h=r.checked,u=200,i;t.wrapper.toggleClass(o,n).toggleClass(s,!n),t.position=i=n*t.constrain,t._animateBackground&&t.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:i,reset:!0,reverse:!n,axis:"left",duration:u,ease:"linear"}),f.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:u,offset:i+"px,0",reset:!0,complete:function(){h!==n&&(r.checked=n,t.trigger(e,{checked:n}))}})},_background:function(){var t=this,i;i=n("<span class='km-switch-wrapper'><span class='km-switch-background'></span></span>").appendTo(t.wrapper).children(".km-switch-background"),t.origin=parseInt(i.css(h),10),i.data("origin",t.origin),t.background=i},_handle:function(){var t=this,i=t.options;t.handle=n("<span class='km-switch-container'><span class='km-switch-handle' /></span>").appendTo(t.wrapper).children(".km-switch-handle"),t.handle.append('<span class="km-switch-label-on">'+i.onLabel+'</span><span class="km-switch-label-off">'+i.offLabel+"</span>")},_wrapper:function(){var i=this,t=i.element,n=t.parent("span.km-switch");n[0]||(n=t.wrap('<span class="km-switch"/>').parent()),i.wrapper=n},_drag:function(){var n=this;n.drag=new i.Drag(n.wrapper,{tap:function(){n._toggle(!n.element[0].checked)},start:r(n._start,n),move:r(n._move,n),end:r(n._stop,n)})}});u.plugin(y)}(jQuery),function(n){var t=window.kendo,r=t.mobile.ui,u=r.Widget,e=t.support,i="km-state-active",f="select",o=n.proxy,s=u.extend({init:function(n,t){var r=this;u.fn.init.call(r,n,t),r.element.addClass("km-tabstrip"),r._releaseProxy=o(r._release,r),r.element.find("a").each(r._buildButton).bind(e.mousedown,r._releaseProxy).eq(r.options.selectedIndex).addClass(i)},events:[f],switchTo:function(n){this._setActiveItem(this.element.find('a[href$="'+n+'"]'))},currentItem:function(){return this.element.children("."+i)},_release:function(t){if(!(t.which>1)){var i=this,r=n(t.currentTarget);r[0]!==i.currentItem()[0]&&(i.trigger(f,{item:r})?t.preventDefault():i._setActiveItem(r))}},_setActiveItem:function(n){n[0]&&(this.currentItem().removeClass(i),n.addClass(i))},_buildButton:function(){var i=n(this),u=t.data(i,"icon"),r=i.find("img"),f=n('<span class="km-icon"/>');i.addClass("km-button").attr(t.attr("role"),"tab").contents().not(r).wrapAll('<span class="km-text"/>'),r[0]?r.addClass("km-image"):(i.prepend(f),u&&f.addClass("km-"+u))},viewShow:function(n){var t=this;t.switchTo(n.id)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});r.plugin(s)}(jQuery)